(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function iv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hg={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function QO(){if(ob)return Ne;ob=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=_&&w[_]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function I(w,q,ne){this.props=w,this.context=q,this.refs=P,this.updater=ne||S}I.prototype.isReactComponent={},I.prototype.setState=function(w,q){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,q,"setState")},I.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function L(){}L.prototype=I.prototype;function $(w,q,ne){this.props=w,this.context=q,this.refs=P,this.updater=ne||S}var z=$.prototype=new L;z.constructor=$,R(z,I.prototype),z.isPureReactComponent=!0;var ie=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function M(w,q,ne,te,ce,ye){return ne=ye.ref,{$$typeof:n,type:w,key:q,ref:ne!==void 0?ne:null,props:ye}}function A(w,q){return M(w.type,q,void 0,void 0,void 0,w.props)}function D(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function k(w){var q={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ne){return q[ne]})}var V=/\/+/g;function j(w,q){return typeof w=="object"&&w!==null&&w.key!=null?k(""+w.key):q.toString(36)}function O(){}function ve(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(O,O):(w.status="pending",w.then(function(q){w.status==="pending"&&(w.status="fulfilled",w.value=q)},function(q){w.status==="pending"&&(w.status="rejected",w.reason=q)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Te(w,q,ne,te,ce){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var he=!1;if(w===null)he=!0;else switch(ye){case"bigint":case"string":case"number":he=!0;break;case"object":switch(w.$$typeof){case n:case e:he=!0;break;case g:return he=w._init,Te(he(w._payload),q,ne,te,ce)}}if(he)return ce=ce(w),he=te===""?"."+j(w,0):te,ie(ce)?(ne="",he!=null&&(ne=he.replace(V,"$&/")+"/"),Te(ce,q,ne,"",function(jn){return jn})):ce!=null&&(D(ce)&&(ce=A(ce,ne+(ce.key==null||w&&w.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+he)),q.push(ce)),1;he=0;var rt=te===""?".":te+":";if(ie(w))for(var xe=0;xe<w.length;xe++)te=w[xe],ye=rt+j(te,xe),he+=Te(te,q,ne,ye,ce);else if(xe=T(w),typeof xe=="function")for(w=xe.call(w),xe=0;!(te=w.next()).done;)te=te.value,ye=rt+j(te,xe++),he+=Te(te,q,ne,ye,ce);else if(ye==="object"){if(typeof w.then=="function")return Te(ve(w),q,ne,te,ce);throw q=String(w),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return he}function W(w,q,ne){if(w==null)return w;var te=[],ce=0;return Te(w,te,"","",function(ye){return q.call(ne,ye,ce++)}),te}function se(w){if(w._status===-1){var q=w._result;q=q(),q.then(function(ne){(w._status===0||w._status===-1)&&(w._status=1,w._result=ne)},function(ne){(w._status===0||w._status===-1)&&(w._status=2,w._result=ne)}),w._status===-1&&(w._status=0,w._result=q)}if(w._status===1)return w._result.default;throw w._result}var de=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function be(){}return Ne.Children={map:W,forEach:function(w,q,ne){W(w,function(){q.apply(this,arguments)},ne)},count:function(w){var q=0;return W(w,function(){q++}),q},toArray:function(w){return W(w,function(q){return q})||[]},only:function(w){if(!D(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Ne.Component=I,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=$,Ne.StrictMode=i,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(w){return F.H.useMemoCache(w)}},Ne.cache=function(w){return function(){return w.apply(null,arguments)}},Ne.cloneElement=function(w,q,ne){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var te=R({},w.props),ce=w.key,ye=void 0;if(q!=null)for(he in q.ref!==void 0&&(ye=void 0),q.key!==void 0&&(ce=""+q.key),q)!J.call(q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&q.ref===void 0||(te[he]=q[he]);var he=arguments.length-2;if(he===1)te.children=ne;else if(1<he){for(var rt=Array(he),xe=0;xe<he;xe++)rt[xe]=arguments[xe+2];te.children=rt}return M(w.type,ce,void 0,void 0,ye,te)},Ne.createContext=function(w){return w={$$typeof:u,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},Ne.createElement=function(w,q,ne){var te,ce={},ye=null;if(q!=null)for(te in q.key!==void 0&&(ye=""+q.key),q)J.call(q,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ce[te]=q[te]);var he=arguments.length-2;if(he===1)ce.children=ne;else if(1<he){for(var rt=Array(he),xe=0;xe<he;xe++)rt[xe]=arguments[xe+2];ce.children=rt}if(w&&w.defaultProps)for(te in he=w.defaultProps,he)ce[te]===void 0&&(ce[te]=he[te]);return M(w,ye,void 0,void 0,null,ce)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(w){return{$$typeof:f,render:w}},Ne.isValidElement=D,Ne.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:se}},Ne.memo=function(w,q){return{$$typeof:p,type:w,compare:q===void 0?null:q}},Ne.startTransition=function(w){var q=F.T,ne={};F.T=ne;try{var te=w(),ce=F.S;ce!==null&&ce(ne,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(be,de)}catch(ye){de(ye)}finally{F.T=q}},Ne.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ne.use=function(w){return F.H.use(w)},Ne.useActionState=function(w,q,ne){return F.H.useActionState(w,q,ne)},Ne.useCallback=function(w,q){return F.H.useCallback(w,q)},Ne.useContext=function(w){return F.H.useContext(w)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(w,q){return F.H.useDeferredValue(w,q)},Ne.useEffect=function(w,q,ne){var te=F.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(w,q)},Ne.useId=function(){return F.H.useId()},Ne.useImperativeHandle=function(w,q,ne){return F.H.useImperativeHandle(w,q,ne)},Ne.useInsertionEffect=function(w,q){return F.H.useInsertionEffect(w,q)},Ne.useLayoutEffect=function(w,q){return F.H.useLayoutEffect(w,q)},Ne.useMemo=function(w,q){return F.H.useMemo(w,q)},Ne.useOptimistic=function(w,q){return F.H.useOptimistic(w,q)},Ne.useReducer=function(w,q,ne){return F.H.useReducer(w,q,ne)},Ne.useRef=function(w){return F.H.useRef(w)},Ne.useState=function(w){return F.H.useState(w)},Ne.useSyncExternalStore=function(w,q,ne){return F.H.useSyncExternalStore(w,q,ne)},Ne.useTransition=function(){return F.H.useTransition()},Ne.version="19.1.0",Ne}var lb;function rv(){return lb||(lb=1,hg.exports=QO()),hg.exports}var B=rv();const N=iv(B);var dg={exports:{}},Nu={},pg={exports:{}},mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function XO(){return ub||(ub=1,function(n){function e(W,se){var de=W.length;W.push(se);e:for(;0<de;){var be=de-1>>>1,w=W[be];if(0<a(w,se))W[be]=se,W[de]=w,de=be;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var se=W[0],de=W.pop();if(de!==se){W[0]=de;e:for(var be=0,w=W.length,q=w>>>1;be<q;){var ne=2*(be+1)-1,te=W[ne],ce=ne+1,ye=W[ce];if(0>a(te,de))ce<w&&0>a(ye,te)?(W[be]=ye,W[ce]=de,be=ce):(W[be]=te,W[ne]=de,be=ne);else if(ce<w&&0>a(ye,de))W[be]=ye,W[ce]=de,be=ce;else break e}}return se}function a(W,se){var de=W.sortIndex-se.sortIndex;return de!==0?de:W.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],p=[],g=1,_=null,T=3,S=!1,R=!1,P=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function ie(W){for(var se=t(p);se!==null;){if(se.callback===null)i(p);else if(se.startTime<=W)i(p),se.sortIndex=se.expirationTime,e(h,se);else break;se=t(p)}}function F(W){if(P=!1,ie(W),!R)if(t(h)!==null)R=!0,J||(J=!0,j());else{var se=t(p);se!==null&&Te(F,se.startTime-W)}}var J=!1,M=-1,A=5,D=-1;function k(){return I?!0:!(n.unstable_now()-D<A)}function V(){if(I=!1,J){var W=n.unstable_now();D=W;var se=!0;try{e:{R=!1,P&&(P=!1,$(M),M=-1),S=!0;var de=T;try{t:{for(ie(W),_=t(h);_!==null&&!(_.expirationTime>W&&k());){var be=_.callback;if(typeof be=="function"){_.callback=null,T=_.priorityLevel;var w=be(_.expirationTime<=W);if(W=n.unstable_now(),typeof w=="function"){_.callback=w,ie(W),se=!0;break t}_===t(h)&&i(h),ie(W)}else i(h);_=t(h)}if(_!==null)se=!0;else{var q=t(p);q!==null&&Te(F,q.startTime-W),se=!1}}break e}finally{_=null,T=de,S=!1}se=void 0}}finally{se?j():J=!1}}}var j;if(typeof z=="function")j=function(){z(V)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ve=O.port2;O.port1.onmessage=V,j=function(){ve.postMessage(null)}}else j=function(){L(V,0)};function Te(W,se){M=L(function(){W(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(W){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var de=T;T=se;try{return W()}finally{T=de}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=T;T=W;try{return se()}finally{T=de}},n.unstable_scheduleCallback=function(W,se,de){var be=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?be+de:be):de=be,W){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=de+w,W={id:g++,callback:se,priorityLevel:W,startTime:de,expirationTime:w,sortIndex:-1},de>be?(W.sortIndex=de,e(p,W),t(h)===null&&W===t(p)&&(P?($(M),M=-1):P=!0,Te(F,de-be))):(W.sortIndex=w,e(h,W),R||S||(R=!0,J||(J=!0,j()))),W},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(W){var se=T;return function(){var de=T;T=se;try{return W.apply(this,arguments)}finally{T=de}}}}(mg)),mg}var cb;function WO(){return cb||(cb=1,pg.exports=XO()),pg.exports}var gg={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function ZO(){if(fb)return nn;fb=1;var n=rv();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,p,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:h,containerInfo:p,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,g)},nn.flushSync=function(h){var p=u.T,g=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=p,i.p=g,i.d.f()}},nn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},nn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},nn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,_=f(g,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:S}):g==="script"&&i.d.X(h,{crossOrigin:_,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},nn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,_=f(g,p.crossOrigin);i.d.L(h,g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=f(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},nn.requestFormReset=function(h){i.d.r(h)},nn.unstable_batchedUpdates=function(h,p){return h(p)},nn.useFormState=function(h,p,g){return u.H.useFormState(h,p,g)},nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var hb;function JO(){if(hb)return gg.exports;hb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gg.exports=ZO(),gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function eP(){if(db)return Nu;db=1;var n=WO(),e=rv(),t=JO();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function h(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,c=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return f(m),r;if(y===c)return f(m),s;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=y;else{for(var b=!1,C=m.child;C;){if(C===l){b=!0,l=m,c=y;break}if(C===c){b=!0,c=m,l=y;break}C=C.sibling}if(!b){for(C=y.child;C;){if(C===l){b=!0,l=y,c=m;break}if(C===c){b=!0,c=y,l=m;break}C=C.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),z=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case I:return"Profiler";case P:return"StrictMode";case F:return"Suspense";case J:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case z:return(r.displayName||"Context")+".Provider";case $:return(r._context.displayName||"Context")+".Consumer";case ie:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return s=r.displayName||null,s!==null?s:ve(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return ve(r(s))}catch{}}return null}var Te=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},be=[],w=-1;function q(r){return{current:r}}function ne(r){0>w||(r.current=be[w],be[w]=null,w--)}function te(r,s){w++,be[w]=r.current,r.current=s}var ce=q(null),ye=q(null),he=q(null),rt=q(null);function xe(r,s){switch(te(he,s),te(ye,r),te(ce,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?kE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=kE(s),r=VE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ne(ce),te(ce,r)}function jn(){ne(ce),ne(ye),ne(he)}function jr(r){r.memoizedState!==null&&te(rt,r);var s=ce.current,l=VE(s,r.type);s!==l&&(te(ye,r),te(ce,l))}function Xi(r){ye.current===r&&(ne(ce),ne(ye)),rt.current===r&&(ne(rt),Iu._currentValue=de)}var js=Object.prototype.hasOwnProperty,zs=n.unstable_scheduleCallback,Fs=n.unstable_cancelCallback,Al=n.unstable_shouldYield,Qc=n.unstable_requestPaint,zn=n.unstable_now,hp=n.unstable_getCurrentPriorityLevel,Rl=n.unstable_ImmediatePriority,Fa=n.unstable_UserBlockingPriority,Hs=n.unstable_NormalPriority,dp=n.unstable_LowPriority,Ha=n.unstable_IdlePriority,Cl=n.log,Xc=n.unstable_setDisableYieldValue,gt=null,Xe=null;function Rn(r){if(typeof Cl=="function"&&Xc(r),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(gt,r)}catch{}}var en=Math.clz32?Math.clz32:qs,Wc=Math.log,pp=Math.LN2;function qs(r){return r>>>=0,r===0?32:31-(Wc(r)/pp|0)|0}var $s=256,Gs=4194304;function oi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qa(r,s,l){var c=r.pendingLanes;if(c===0)return 0;var m=0,y=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var C=c&134217727;return C!==0?(c=C&~y,c!==0?m=oi(c):(b&=C,b!==0?m=oi(b):l||(l=C&~r,l!==0&&(m=oi(l))))):(C=c&~y,C!==0?m=oi(C):b!==0?m=oi(b):l||(l=c&~r,l!==0&&(m=oi(l)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:m}function Ks(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Il(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var r=$s;return $s<<=1,($s&4194048)===0&&($s=256),r}function Dl(){var r=Gs;return Gs<<=1,(Gs&62914560)===0&&(Gs=4194304),r}function Wi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Zi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ol(r,s,l,c,m,y){var b=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var C=r.entanglements,U=r.expirationTimes,Q=r.hiddenUpdates;for(l=b&~l;0<l;){var re=31-en(l),oe=1<<re;C[re]=0,U[re]=-1;var X=Q[re];if(X!==null)for(Q[re]=null,re=0;re<X.length;re++){var Z=X[re];Z!==null&&(Z.lane&=-536870913)}l&=~oe}c!==0&&Ei(r,c,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(b&~s))}function Ei(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-en(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function Pl(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-en(l),m=1<<c;m&s|r[c]&s&&(r[c]|=s),l&=~m}}function zr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function $a(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Fr(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:tb(r.type))}function Zc(r,s){var l=se.p;try{return se.p=r,s()}finally{se.p=l}}var lt=Math.random().toString(36).slice(2),Ot="__reactFiber$"+lt,At="__reactProps$"+lt,Fn="__reactContainer$"+lt,Nl="__reactEvents$"+lt,mp="__reactListeners$"+lt,Hr="__reactHandles$"+lt,Jc="__reactResources$"+lt,Ys="__reactMarker$"+lt;function qr(r){delete r[Ot],delete r[At],delete r[Nl],delete r[mp],delete r[Hr]}function Ji(r){var s=r[Ot];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Fn]||l[Ot]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=jE(r);r!==null;){if(l=r[Ot])return l;r=jE(r)}return s}r=l,l=r.parentNode}return null}function bi(r){if(r=r[Ot]||r[Fn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function wi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function fn(r){var s=r[Jc];return s||(s=r[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(r){r[Ys]=!0}var Ml=new Set,Ga={};function li(r,s){er(r,s),er(r+"Capture",s)}function er(r,s){for(Ga[r]=s,r=0;r<s.length;r++)Ml.add(s[r])}var ef=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tf={},Qs={};function nf(r){return js.call(Qs,r)?!0:js.call(tf,r)?!1:ef.test(r)?Qs[r]=!0:(tf[r]=!0,!1)}function $r(r,s,l){if(nf(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Si(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function qt(r,s,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+c)}}var Xs,rf;function tr(r){if(Xs===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Xs=s&&s[1]||"",rf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+r+rf}var Ka=!1;function Ya(r,s){if(!r||Ka)return"";Ka=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Z){var X=Z}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(Z){X=Z}r.call(oe.prototype)}}else{try{throw Error()}catch(Z){X=Z}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),b=y[0],C=y[1];if(b&&C){var U=b.split(`
`),Q=C.split(`
`);for(m=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(c===U.length||m===Q.length)for(c=U.length-1,m=Q.length-1;1<=c&&0<=m&&U[c]!==Q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(U[c]!==Q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||U[c]!==Q[m]){var re=`
`+U[c].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=c&&0<=m);break}}}finally{Ka=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?tr(l):""}function kl(r){switch(r.tag){case 26:case 27:case 5:return tr(r.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 15:return Ya(r.type,!1);case 11:return Ya(r.type.render,!1);case 1:return Ya(r.type,!0);case 31:return tr("Activity");default:return""}}function Qa(r){try{var s="";do s+=kl(r),r=r.return;while(r);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Vl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gp(r){var s=Vl(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(b){c=""+b,y.call(this,b)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Xa(r){r._valueTracker||(r._valueTracker=gp(r))}function Ll(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=Vl(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function Ws(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var yp=/[\n"\\]/g;function Rt(r){return r.replace(yp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Cn(r,s,l,c,m,y,b,C){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+hn(s)):r.value!==""+hn(s)&&(r.value=""+hn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Gr(r,b,hn(s)):l!=null?Gr(r,b,hn(l)):c!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+hn(C):r.removeAttribute("name")}function Zs(r,s,l,c,m,y,b,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+hn(l):"",s=s!=null?""+hn(s):l,C||s===r.value||(r.value=s),r.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=C?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Gr(r,s,l){s==="number"&&Ws(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function nr(r,s,l,c){if(r=r.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=s.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&c&&(r[l].defaultSelected=!0)}else{for(l=""+hn(l),s=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function et(r,s,l){if(s!=null&&(s=""+hn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+hn(l):""}function Js(r,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(Te(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=hn(s),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function Hn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sf(r,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,l):typeof l!="number"||l===0||ea.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function Ul(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&l[m]!==c&&sf(r,m,c)}else for(var y in s)s.hasOwnProperty(y)&&sf(r,y,s[y])}function Bl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_p=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(r){return _p.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ir=null;function qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var rr=null,sr=null;function jl(r){var s=bi(r);if(s&&(r=s.stateNode)){var l=r[At]||null;e:switch(r=s.stateNode,s.type){case"input":if(Cn(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var m=c[At]||null;if(!m)throw Error(i(90));Cn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===r.form&&Ll(c)}break e;case"textarea":et(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&nr(r,!!l.multiple,s,!1)}}}var Ai=!1;function af(r,s,l){if(Ai)return r(s,l);Ai=!0;try{var c=r(s);return c}finally{if(Ai=!1,(rr!==null||sr!==null)&&(Jf(),rr&&(s=rr,r=sr,sr=rr=null,jl(s),r)))for(s=0;s<r.length;s++)jl(r[s])}}function ta(r,s){var l=r.stateNode;if(l===null)return null;var c=l[At]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(ui)try{var na={};Object.defineProperty(na,"passive",{get:function(){$n=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{$n=!1}var Ri=null,Kr=null,ar=null;function zl(){if(ar)return ar;var r,s=Kr,l=s.length,c,m="value"in Ri?Ri.value:Ri.textContent,y=m.length;for(r=0;r<l&&s[r]===m[r];r++);var b=l-r;for(c=1;c<=b&&s[l-c]===m[y-c];c++);return ar=m.slice(r,1<c?1-c:void 0)}function Ci(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ii(){return!0}function Fl(){return!1}function Ut(r){function s(l,c,m,y,b){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(l=r[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ii:Fl,this.isPropagationStopped=Fl,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),s}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Ut(Ye),ia=g({},Ye,{view:0,detail:0}),of=Ut(ia),Ja,eo,xi,ra=g({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==xi&&(xi&&r.type==="mousemove"?(Ja=r.screenX-xi.screenX,eo=r.screenY-xi.screenY):eo=Ja=0,xi=r),Ja)},movementY:function(r){return"movementY"in r?r.movementY:eo}}),Gn=Ut(ra),lf=g({},ra,{dataTransfer:0}),Tp=Ut(lf),sa=g({},ia,{relatedTarget:0}),to=Ut(sa),Hl=g({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),no=Ut(Hl),uf=g({},Ye,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),io=Ut(uf),Ep=g({},Ye,{data:0}),ql=Ut(Ep),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ff={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ff[r])?!!s[r]:!1}function oa(){return $l}var hf=g({},ia,{key:function(r){if(r.key){var s=aa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ci(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(r){return r.type==="keypress"?Ci(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ci(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ro=Ut(hf),df=g({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gl=Ut(df),or=g({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),pf=Ut(or),mf=g({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),gf=Ut(mf),yf=g({},ra,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),so=Ut(yf),dn=g({},Ye,{newState:0,oldState:0}),vf=Ut(dn),_f=[9,13,27,32],Di=ui&&"CompositionEvent"in window,d=null;ui&&"documentMode"in document&&(d=document.documentMode);var v=ui&&"TextEvent"in window&&!d,E=ui&&(!Di||d&&8<d&&11>=d),x=" ",K=!1;function ee(r,s){switch(r){case"keyup":return _f.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fe=!1;function Pt(r,s){switch(r){case"compositionend":return fe(s);case"keypress":return s.which!==32?null:(K=!0,x);case"textInput":return r=s.data,r===x&&K?null:r;default:return null}}function He(r,s){if(Fe)return r==="compositionend"||!Di&&ee(r,s)?(r=zl(),ar=Kr=Ri=null,Fe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Bt[r.type]:s==="textarea"}function lr(r,s,l,c){rr?sr?sr.push(c):sr=[c]:rr=c,s=sh(s,"onChange"),0<s.length&&(l=new Za("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var $t=null,Oi=null;function Kl(r){DE(r,0)}function Tf(r){var s=wi(r);if(Ll(s))return r}function W_(r,s){if(r==="change")return s}var Z_=!1;if(ui){var bp;if(ui){var wp="oninput"in document;if(!wp){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),wp=typeof J_.oninput=="function"}bp=wp}else bp=!1;Z_=bp&&(!document.documentMode||9<document.documentMode)}function e0(){$t&&($t.detachEvent("onpropertychange",t0),Oi=$t=null)}function t0(r){if(r.propertyName==="value"&&Tf(Oi)){var s=[];lr(s,Oi,r,qn(r)),af(Kl,s)}}function AD(r,s,l){r==="focusin"?(e0(),$t=s,Oi=l,$t.attachEvent("onpropertychange",t0)):r==="focusout"&&e0()}function RD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tf(Oi)}function CD(r,s){if(r==="click")return Tf(s)}function ID(r,s){if(r==="input"||r==="change")return Tf(s)}function xD(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var In=typeof Object.is=="function"?Object.is:xD;function Yl(r,s){if(In(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!js.call(s,m)||!In(r[m],s[m]))return!1}return!0}function n0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function i0(r,s){var l=n0(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=n0(l)}}function r0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?r0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function s0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ws(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ws(r.document)}return s}function Sp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var DD=ui&&"documentMode"in document&&11>=document.documentMode,ao=null,Ap=null,Ql=null,Rp=!1;function a0(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rp||ao==null||ao!==Ws(c)||(c=ao,"selectionStart"in c&&Sp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ql&&Yl(Ql,c)||(Ql=c,c=sh(Ap,"onSelect"),0<c.length&&(s=new Za("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=ao)))}function la(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var oo={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Cp={},o0={};ui&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function ua(r){if(Cp[r])return Cp[r];if(!oo[r])return r;var s=oo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in o0)return Cp[r]=s[l];return r}var l0=ua("animationend"),u0=ua("animationiteration"),c0=ua("animationstart"),OD=ua("transitionrun"),PD=ua("transitionstart"),ND=ua("transitioncancel"),f0=ua("transitionend"),h0=new Map,Ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ip.push("scrollEnd");function ci(r,s){h0.set(r,s),li(s,[r])}var d0=new WeakMap;function Kn(r,s){if(typeof r=="object"&&r!==null){var l=d0.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Qa(s)},d0.set(r,s),s)}return{value:r,source:s,stack:Qa(s)}}var Yn=[],lo=0,xp=0;function Ef(){for(var r=lo,s=xp=lo=0;s<r;){var l=Yn[s];Yn[s++]=null;var c=Yn[s];Yn[s++]=null;var m=Yn[s];Yn[s++]=null;var y=Yn[s];if(Yn[s++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}y!==0&&p0(l,m,y)}}function bf(r,s,l,c){Yn[lo++]=r,Yn[lo++]=s,Yn[lo++]=l,Yn[lo++]=c,xp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Dp(r,s,l,c){return bf(r,s,l,c),wf(r)}function uo(r,s){return bf(r,null,null,s),wf(r)}function p0(r,s,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=r.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&s!==null&&(m=31-en(l),r=y.hiddenUpdates,c=r[m],c===null?r[m]=[s]:c.push(s),s.lane=l|536870912),y):null}function wf(r){if(50<Tu)throw Tu=0,Vm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var co={};function MD(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,s,l,c){return new MD(r,s,l,c)}function Op(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ur(r,s){var l=r.alternate;return l===null?(l=xn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function m0(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Sf(r,s,l,c,m,y){var b=0;if(c=r,typeof r=="function")Op(r)&&(b=1);else if(typeof r=="string")b=VO(r,l,ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=xn(31,l,s,m),r.elementType=D,r.lanes=y,r;case R:return ca(l.children,m,y,s);case P:b=8,m|=24;break;case I:return r=xn(12,l,s,m|2),r.elementType=I,r.lanes=y,r;case F:return r=xn(13,l,s,m),r.elementType=F,r.lanes=y,r;case J:return r=xn(19,l,s,m),r.elementType=J,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:case z:b=10;break e;case $:b=9;break e;case ie:b=11;break e;case M:b=14;break e;case A:b=16,c=null;break e}b=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=xn(b,l,s,m),s.elementType=r,s.type=c,s.lanes=y,s}function ca(r,s,l,c){return r=xn(7,r,c,s),r.lanes=l,r}function Pp(r,s,l){return r=xn(6,r,null,s),r.lanes=l,r}function Np(r,s,l){return s=xn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var fo=[],ho=0,Af=null,Rf=0,Qn=[],Xn=0,fa=null,cr=1,fr="";function ha(r,s){fo[ho++]=Rf,fo[ho++]=Af,Af=r,Rf=s}function g0(r,s,l){Qn[Xn++]=cr,Qn[Xn++]=fr,Qn[Xn++]=fa,fa=r;var c=cr;r=fr;var m=32-en(c)-1;c&=~(1<<m),l+=1;var y=32-en(s)+m;if(30<y){var b=m-m%5;y=(c&(1<<b)-1).toString(32),c>>=b,m-=b,cr=1<<32-en(s)+m|l<<m|c,fr=y+r}else cr=1<<y|l<<m|c,fr=r}function Mp(r){r.return!==null&&(ha(r,1),g0(r,1,0))}function kp(r){for(;r===Af;)Af=fo[--ho],fo[ho]=null,Rf=fo[--ho],fo[ho]=null;for(;r===fa;)fa=Qn[--Xn],Qn[Xn]=null,fr=Qn[--Xn],Qn[Xn]=null,cr=Qn[--Xn],Qn[Xn]=null}var pn=null,yt=null,Ke=!1,da=null,Pi=!1,Vp=Error(i(519));function pa(r){var s=Error(i(418,""));throw Zl(Kn(s,r)),Vp}function y0(r){var s=r.stateNode,l=r.type,c=r.memoizedProps;switch(s[Ot]=r,s[At]=c,l){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(l=0;l<bu.length;l++)Be(bu[l],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),Zs(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Xa(s);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),Js(s,c.value,c.defaultValue,c.children),Xa(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||ME(s.textContent,l)?(c.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),c.onScroll!=null&&Be("scroll",s),c.onScrollEnd!=null&&Be("scrollend",s),c.onClick!=null&&(s.onclick=ah),s=!0):s=!1,s||pa(r)}function v0(r){for(pn=r.return;pn;)switch(pn.tag){case 5:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:pn=pn.return}}function Xl(r){if(r!==pn)return!1;if(!Ke)return v0(r),Ke=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Zm(r.type,r.memoizedProps)),l=!l),l&&yt&&pa(r),v0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(s===0){yt=hi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;r=r.nextSibling}yt=null}}else s===27?(s=yt,us(r.type)?(r=ng,ng=null,yt=r):yt=s):yt=pn?hi(r.stateNode.nextSibling):null;return!0}function Wl(){yt=pn=null,Ke=!1}function _0(){var r=da;return r!==null&&(Tn===null?Tn=r:Tn.push.apply(Tn,r),da=null),r}function Zl(r){da===null?da=[r]:da.push(r)}var Lp=q(null),ma=null,hr=null;function Yr(r,s,l){te(Lp,s._currentValue),s._currentValue=l}function dr(r){r._currentValue=Lp.current,ne(Lp)}function Up(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function Bp(r,s,l,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var b=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var U=0;U<s.length;U++)if(C.context===s[U]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),Up(y.return,l,r),c||(b=null);break e}y=C.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=l,y=b.alternate,y!==null&&(y.lanes|=l),Up(b,l,r),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===r){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Jl(r,s,l,c){r=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var C=m.type;In(m.pendingProps.value,b.value)||(r!==null?r.push(C):r=[C])}}else if(m===rt.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Iu):r=[Iu])}m=m.return}r!==null&&Bp(s,r,l,c),s.flags|=262144}function Cf(r){for(r=r.firstContext;r!==null;){if(!In(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ga(r){ma=r,hr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function tn(r){return T0(ma,r)}function If(r,s){return ma===null&&ga(r),T0(r,s)}function T0(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},hr===null){if(r===null)throw Error(i(308));hr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else hr=hr.next=s;return l}var kD=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},VD=n.unstable_scheduleCallback,LD=n.unstable_NormalPriority,Mt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jp(){return{controller:new kD,data:new Map,refCount:0}}function eu(r){r.refCount--,r.refCount===0&&VD(LD,function(){r.controller.abort()})}var tu=null,zp=0,po=0,mo=null;function UD(r,s){if(tu===null){var l=tu=[];zp=0,po=Hm(),mo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return zp++,s.then(E0,E0),s}function E0(){if(--zp===0&&tu!==null){mo!==null&&(mo.status="fulfilled");var r=tu;tu=null,po=0,mo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function BD(r,s){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var b0=W.S;W.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&UD(r,s),b0!==null&&b0(r,s)};var ya=q(null);function Fp(){var r=ya.current;return r!==null?r:at.pooledCache}function xf(r,s){s===null?te(ya,ya.current):te(ya,s.pool)}function w0(){var r=Fp();return r===null?null:{parent:Mt._currentValue,pool:r}}var nu=Error(i(460)),S0=Error(i(474)),Df=Error(i(542)),Hp={then:function(){}};function A0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Of(){}function R0(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Of,Of),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,I0(r),r;default:if(typeof s.status=="string")s.then(Of,Of);else{if(r=at,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,I0(r),r}throw iu=s,nu}}var iu=null;function C0(){if(iu===null)throw Error(i(459));var r=iu;return iu=null,r}function I0(r){if(r===nu||r===Df)throw Error(i(483))}var Qr=!1;function qp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $p(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Xr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Wr(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=wf(r),p0(r,null,l),s}return bf(r,c,s,l),wf(r)}function ru(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Pl(r,l)}}function Gp(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=b:y=y.next=b,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Kp=!1;function su(){if(Kp){var r=mo;if(r!==null)throw r}}function au(r,s,l,c){Kp=!1;var m=r.updateQueue;Qr=!1;var y=m.firstBaseUpdate,b=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var U=C,Q=U.next;U.next=null,b===null?y=Q:b.next=Q,b=U;var re=r.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==b&&(C===null?re.firstBaseUpdate=Q:C.next=Q,re.lastBaseUpdate=U))}if(y!==null){var oe=m.baseState;b=0,re=Q=U=null,C=y;do{var X=C.lane&-536870913,Z=X!==C.lane;if(Z?(qe&X)===X:(c&X)===X){X!==0&&X===po&&(Kp=!0),re!==null&&(re=re.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ce=r,we=C;X=s;var it=l;switch(we.tag){case 1:if(Ce=we.payload,typeof Ce=="function"){oe=Ce.call(it,oe,X);break e}oe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=we.payload,X=typeof Ce=="function"?Ce.call(it,oe,X):Ce,X==null)break e;oe=g({},oe,X);break e;case 2:Qr=!0}}X=C.callback,X!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(Q=re=Z,U=oe):re=re.next=Z,b|=X;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);re===null&&(U=oe),m.baseState=U,m.firstBaseUpdate=Q,m.lastBaseUpdate=re,y===null&&(m.shared.lanes=0),ss|=b,r.lanes=b,r.memoizedState=oe}}function x0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function D0(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)x0(l[r],s)}var go=q(null),Pf=q(0);function O0(r,s){r=Tr,te(Pf,r),te(go,s),Tr=r|s.baseLanes}function Yp(){te(Pf,Tr),te(go,go.current)}function Qp(){Tr=Pf.current,ne(go),ne(Pf)}var Zr=0,ke=null,tt=null,Ct=null,Nf=!1,yo=!1,va=!1,Mf=0,ou=0,vo=null,jD=0;function Et(){throw Error(i(321))}function Xp(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!In(r[l],s[l]))return!1;return!0}function Wp(r,s,l,c,m,y){return Zr=y,ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=r===null||r.memoizedState===null?pT:mT,va=!1,y=l(c,m),va=!1,yo&&(y=N0(s,l,c,m)),P0(r),y}function P0(r){W.H=jf;var s=tt!==null&&tt.next!==null;if(Zr=0,Ct=tt=ke=null,Nf=!1,ou=0,vo=null,s)throw Error(i(300));r===null||jt||(r=r.dependencies,r!==null&&Cf(r)&&(jt=!0))}function N0(r,s,l,c){ke=r;var m=0;do{if(yo&&(vo=null),ou=0,yo=!1,25<=m)throw Error(i(301));if(m+=1,Ct=tt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=KD,y=s(l,c)}while(yo);return y}function zD(){var r=W.H,s=r.useState()[0];return s=typeof s.then=="function"?lu(s):s,r=r.useState()[0],(tt!==null?tt.memoizedState:null)!==r&&(ke.flags|=1024),s}function Zp(){var r=Mf!==0;return Mf=0,r}function Jp(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function em(r){if(Nf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nf=!1}Zr=0,Ct=tt=ke=null,yo=!1,ou=Mf=0,vo=null}function vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ke.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function It(){if(tt===null){var r=ke.alternate;r=r!==null?r.memoizedState:null}else r=tt.next;var s=Ct===null?ke.memoizedState:Ct.next;if(s!==null)Ct=s,tt=r;else{if(r===null)throw ke.alternate===null?Error(i(467)):Error(i(310));tt=r,r={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ct===null?ke.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function tm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lu(r){var s=ou;return ou+=1,vo===null&&(vo=[]),r=R0(vo,r,s),s=ke,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?pT:mT),r}function kf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return lu(r);if(r.$$typeof===z)return tn(r)}throw Error(i(438,String(r)))}function nm(r){var s=null,l=ke.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=tm(),ke.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),c=0;c<r;c++)l[c]=k;return s.index++,l}function pr(r,s){return typeof s=="function"?s(r):s}function Vf(r){var s=It();return im(s,tt,r)}function im(r,s,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=r.baseQueue,y=c.pending;if(y!==null){if(m!==null){var b=m.next;m.next=y.next,y.next=b}s.baseQueue=m=y,c.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{s=m.next;var C=b=null,U=null,Q=s,re=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(qe&oe)===oe:(Zr&oe)===oe){var X=Q.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===po&&(re=!0);else if((Zr&X)===X){Q=Q.next,X===po&&(re=!0);continue}else oe={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(C=U=oe,b=y):U=U.next=oe,ke.lanes|=X,ss|=X;oe=Q.action,va&&l(y,oe),y=Q.hasEagerState?Q.eagerState:l(y,oe)}else X={lane:oe,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(C=U=X,b=y):U=U.next=X,ke.lanes|=oe,ss|=oe;Q=Q.next}while(Q!==null&&Q!==s);if(U===null?b=y:U.next=C,!In(y,r.memoizedState)&&(jt=!0,re&&(l=mo,l!==null)))throw l;r.memoizedState=y,r.baseState=b,r.baseQueue=U,c.lastRenderedState=y}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function rm(r){var s=It(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do y=r(y,b.action),b=b.next;while(b!==m);In(y,s.memoizedState)||(jt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,c]}function M0(r,s,l){var c=ke,m=It(),y=Ke;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var b=!In((tt||m).memoizedState,l);b&&(m.memoizedState=l,jt=!0),m=m.queue;var C=L0.bind(null,c,m,r);if(uu(2048,8,C,[r]),m.getSnapshot!==s||b||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,_o(9,Lf(),V0.bind(null,c,m,l,s),null),at===null)throw Error(i(349));y||(Zr&124)!==0||k0(c,s,l)}return l}function k0(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ke.updateQueue,s===null?(s=tm(),ke.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function V0(r,s,l,c){s.value=l,s.getSnapshot=c,U0(s)&&B0(r)}function L0(r,s,l){return l(function(){U0(s)&&B0(r)})}function U0(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!In(r,l)}catch{return!0}}function B0(r){var s=uo(r,2);s!==null&&Mn(s,r,2)}function sm(r){var s=vn();if(typeof r=="function"){var l=r;if(r=l(),va){Rn(!0);try{l()}finally{Rn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:r},s}function j0(r,s,l,c){return r.baseState=l,im(r,tt,typeof c=="function"?c:pr)}function FD(r,s,l,c,m){if(Bf(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};W.T!==null?l(!0):y.isTransition=!1,c(y),l=s.pending,l===null?(y.next=s.pending=y,z0(s,y)):(y.next=l.next,s.pending=l.next=y)}}function z0(r,s){var l=s.action,c=s.payload,m=r.state;if(s.isTransition){var y=W.T,b={};W.T=b;try{var C=l(m,c),U=W.S;U!==null&&U(b,C),F0(r,s,C)}catch(Q){am(r,s,Q)}finally{W.T=y}}else try{y=l(m,c),F0(r,s,y)}catch(Q){am(r,s,Q)}}function F0(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){H0(r,s,c)},function(c){return am(r,s,c)}):H0(r,s,l)}function H0(r,s,l){s.status="fulfilled",s.value=l,q0(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,z0(r,l)))}function am(r,s,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,q0(s),s=s.next;while(s!==c)}r.action=null}function q0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function $0(r,s){return s}function G0(r,s){if(Ke){var l=at.formState;if(l!==null){e:{var c=ke;if(Ke){if(yt){t:{for(var m=yt,y=Pi;m.nodeType!==8;){if(!y){m=null;break t}if(m=hi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){yt=hi(m.nextSibling),c=m.data==="F!";break e}}pa(c)}c=!1}c&&(s=l[0])}}return l=vn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$0,lastRenderedState:s},l.queue=c,l=fT.bind(null,ke,c),c.dispatch=l,c=sm(!1),y=fm.bind(null,ke,!1,c.queue),c=vn(),m={state:s,dispatch:null,action:r,pending:null},c.queue=m,l=FD.bind(null,ke,m,y,l),m.dispatch=l,c.memoizedState=r,[s,l,!1]}function K0(r){var s=It();return Y0(s,tt,r)}function Y0(r,s,l){if(s=im(r,s,$0)[0],r=Vf(pr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=lu(s)}catch(b){throw b===nu?Df:b}else c=s;s=It();var m=s.queue,y=m.dispatch;return l!==s.memoizedState&&(ke.flags|=2048,_o(9,Lf(),HD.bind(null,m,l),null)),[c,y,r]}function HD(r,s){r.action=s}function Q0(r){var s=It(),l=tt;if(l!==null)return Y0(s,l,r);It(),s=s.memoizedState,l=It();var c=l.queue.dispatch;return l.memoizedState=r,[s,c,!1]}function _o(r,s,l,c){return r={tag:r,create:l,deps:c,inst:s,next:null},s=ke.updateQueue,s===null&&(s=tm(),ke.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r),r}function Lf(){return{destroy:void 0,resource:void 0}}function X0(){return It().memoizedState}function Uf(r,s,l,c){var m=vn();c=c===void 0?null:c,ke.flags|=r,m.memoizedState=_o(1|s,Lf(),l,c)}function uu(r,s,l,c){var m=It();c=c===void 0?null:c;var y=m.memoizedState.inst;tt!==null&&c!==null&&Xp(c,tt.memoizedState.deps)?m.memoizedState=_o(s,y,l,c):(ke.flags|=r,m.memoizedState=_o(1|s,y,l,c))}function W0(r,s){Uf(8390656,8,r,s)}function Z0(r,s){uu(2048,8,r,s)}function J0(r,s){return uu(4,2,r,s)}function eT(r,s){return uu(4,4,r,s)}function tT(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function nT(r,s,l){l=l!=null?l.concat([r]):null,uu(4,4,tT.bind(null,s,r),l)}function om(){}function iT(r,s){var l=It();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Xp(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function rT(r,s){var l=It();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Xp(s,c[1]))return c[0];if(c=r(),va){Rn(!0);try{r()}finally{Rn(!1)}}return l.memoizedState=[c,s],c}function lm(r,s,l){return l===void 0||(Zr&1073741824)!==0?r.memoizedState=s:(r.memoizedState=l,r=oE(),ke.lanes|=r,ss|=r,l)}function sT(r,s,l,c){return In(l,s)?l:go.current!==null?(r=lm(r,l,c),In(r,s)||(jt=!0),r):(Zr&42)===0?(jt=!0,r.memoizedState=l):(r=oE(),ke.lanes|=r,ss|=r,s)}function aT(r,s,l,c,m){var y=se.p;se.p=y!==0&&8>y?y:8;var b=W.T,C={};W.T=C,fm(r,!1,s,l);try{var U=m(),Q=W.S;if(Q!==null&&Q(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=BD(U,c);cu(r,s,re,Nn(r))}else cu(r,s,c,Nn(r))}catch(oe){cu(r,s,{then:function(){},status:"rejected",reason:oe},Nn())}finally{se.p=y,W.T=b}}function qD(){}function um(r,s,l,c){if(r.tag!==5)throw Error(i(476));var m=oT(r).queue;aT(r,m,s,de,l===null?qD:function(){return lT(r),l(c)})}function oT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:de},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function lT(r){var s=oT(r).next.queue;cu(r,s,{},Nn())}function cm(){return tn(Iu)}function uT(){return It().memoizedState}function cT(){return It().memoizedState}function $D(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=Nn();r=Xr(l);var c=Wr(s,r,l);c!==null&&(Mn(c,s,l),ru(c,s,l)),s={cache:jp()},r.payload=s;return}s=s.return}}function GD(r,s,l){var c=Nn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Bf(r)?hT(s,l):(l=Dp(r,s,l,c),l!==null&&(Mn(l,r,c),dT(l,s,c)))}function fT(r,s,l){var c=Nn();cu(r,s,l,c)}function cu(r,s,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bf(r))hT(s,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var b=s.lastRenderedState,C=y(b,l);if(m.hasEagerState=!0,m.eagerState=C,In(C,b))return bf(r,s,m,0),at===null&&Ef(),!1}catch{}finally{}if(l=Dp(r,s,m,c),l!==null)return Mn(l,r,c),dT(l,s,c),!0}return!1}function fm(r,s,l,c){if(c={lane:2,revertLane:Hm(),action:c,hasEagerState:!1,eagerState:null,next:null},Bf(r)){if(s)throw Error(i(479))}else s=Dp(r,l,c,2),s!==null&&Mn(s,r,2)}function Bf(r){var s=r.alternate;return r===ke||s!==null&&s===ke}function hT(r,s){yo=Nf=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function dT(r,s,l){if((l&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Pl(r,l)}}var jf={readContext:tn,use:kf,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},pT={readContext:tn,use:kf,useCallback:function(r,s){return vn().memoizedState=[r,s===void 0?null:s],r},useContext:tn,useEffect:W0,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,Uf(4194308,4,tT.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Uf(4194308,4,r,s)},useInsertionEffect:function(r,s){Uf(4,2,r,s)},useMemo:function(r,s){var l=vn();s=s===void 0?null:s;var c=r();if(va){Rn(!0);try{r()}finally{Rn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(r,s,l){var c=vn();if(l!==void 0){var m=l(s);if(va){Rn(!0);try{l(s)}finally{Rn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=GD.bind(null,ke,r),[c.memoizedState,r]},useRef:function(r){var s=vn();return r={current:r},s.memoizedState=r},useState:function(r){r=sm(r);var s=r.queue,l=fT.bind(null,ke,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:om,useDeferredValue:function(r,s){var l=vn();return lm(l,r,s)},useTransition:function(){var r=sm(!1);return r=aT.bind(null,ke,r.queue,!0,!1),vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var c=ke,m=vn();if(Ke){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),at===null)throw Error(i(349));(qe&124)!==0||k0(c,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,W0(L0.bind(null,c,y,r),[r]),c.flags|=2048,_o(9,Lf(),V0.bind(null,c,y,l,s),null),l},useId:function(){var r=vn(),s=at.identifierPrefix;if(Ke){var l=fr,c=cr;l=(c&~(1<<32-en(c)-1)).toString(32)+l,s=""+s+"R"+l,l=Mf++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=jD++,s=""+s+"r"+l.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:cm,useFormState:G0,useActionState:G0,useOptimistic:function(r){var s=vn();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=fm.bind(null,ke,!0,l),l.dispatch=s,[r,s]},useMemoCache:nm,useCacheRefresh:function(){return vn().memoizedState=$D.bind(null,ke)}},mT={readContext:tn,use:kf,useCallback:iT,useContext:tn,useEffect:Z0,useImperativeHandle:nT,useInsertionEffect:J0,useLayoutEffect:eT,useMemo:rT,useReducer:Vf,useRef:X0,useState:function(){return Vf(pr)},useDebugValue:om,useDeferredValue:function(r,s){var l=It();return sT(l,tt.memoizedState,r,s)},useTransition:function(){var r=Vf(pr)[0],s=It().memoizedState;return[typeof r=="boolean"?r:lu(r),s]},useSyncExternalStore:M0,useId:uT,useHostTransitionStatus:cm,useFormState:K0,useActionState:K0,useOptimistic:function(r,s){var l=It();return j0(l,tt,r,s)},useMemoCache:nm,useCacheRefresh:cT},KD={readContext:tn,use:kf,useCallback:iT,useContext:tn,useEffect:Z0,useImperativeHandle:nT,useInsertionEffect:J0,useLayoutEffect:eT,useMemo:rT,useReducer:rm,useRef:X0,useState:function(){return rm(pr)},useDebugValue:om,useDeferredValue:function(r,s){var l=It();return tt===null?lm(l,r,s):sT(l,tt.memoizedState,r,s)},useTransition:function(){var r=rm(pr)[0],s=It().memoizedState;return[typeof r=="boolean"?r:lu(r),s]},useSyncExternalStore:M0,useId:uT,useHostTransitionStatus:cm,useFormState:Q0,useActionState:Q0,useOptimistic:function(r,s){var l=It();return tt!==null?j0(l,tt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:nm,useCacheRefresh:cT},To=null,fu=0;function zf(r){var s=fu;return fu+=1,To===null&&(To=[]),R0(To,r,s)}function hu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Ff(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function gT(r){var s=r._init;return s(r._payload)}function yT(r){function s(G,H){if(r){var Y=G.deletions;Y===null?(G.deletions=[H],G.flags|=16):Y.push(H)}}function l(G,H){if(!r)return null;for(;H!==null;)s(G,H),H=H.sibling;return null}function c(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function m(G,H){return G=ur(G,H),G.index=0,G.sibling=null,G}function y(G,H,Y){return G.index=Y,r?(Y=G.alternate,Y!==null?(Y=Y.index,Y<H?(G.flags|=67108866,H):Y):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function b(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function C(G,H,Y,ae){return H===null||H.tag!==6?(H=Pp(Y,G.mode,ae),H.return=G,H):(H=m(H,Y),H.return=G,H)}function U(G,H,Y,ae){var ge=Y.type;return ge===R?re(G,H,Y.props.children,ae,Y.key):H!==null&&(H.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&gT(ge)===H.type)?(H=m(H,Y.props),hu(H,Y),H.return=G,H):(H=Sf(Y.type,Y.key,Y.props,null,G.mode,ae),hu(H,Y),H.return=G,H)}function Q(G,H,Y,ae){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=Np(Y,G.mode,ae),H.return=G,H):(H=m(H,Y.children||[]),H.return=G,H)}function re(G,H,Y,ae,ge){return H===null||H.tag!==7?(H=ca(Y,G.mode,ae,ge),H.return=G,H):(H=m(H,Y),H.return=G,H)}function oe(G,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Pp(""+H,G.mode,Y),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return Y=Sf(H.type,H.key,H.props,null,G.mode,Y),hu(Y,H),Y.return=G,Y;case S:return H=Np(H,G.mode,Y),H.return=G,H;case A:var ae=H._init;return H=ae(H._payload),oe(G,H,Y)}if(Te(H)||j(H))return H=ca(H,G.mode,Y,null),H.return=G,H;if(typeof H.then=="function")return oe(G,zf(H),Y);if(H.$$typeof===z)return oe(G,If(G,H),Y);Ff(G,H)}return null}function X(G,H,Y,ae){var ge=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ge!==null?null:C(G,H,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===ge?U(G,H,Y,ae):null;case S:return Y.key===ge?Q(G,H,Y,ae):null;case A:return ge=Y._init,Y=ge(Y._payload),X(G,H,Y,ae)}if(Te(Y)||j(Y))return ge!==null?null:re(G,H,Y,ae,null);if(typeof Y.then=="function")return X(G,H,zf(Y),ae);if(Y.$$typeof===z)return X(G,H,If(G,Y),ae);Ff(G,Y)}return null}function Z(G,H,Y,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return G=G.get(Y)||null,C(H,G,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:return G=G.get(ae.key===null?Y:ae.key)||null,U(H,G,ae,ge);case S:return G=G.get(ae.key===null?Y:ae.key)||null,Q(H,G,ae,ge);case A:var Le=ae._init;return ae=Le(ae._payload),Z(G,H,Y,ae,ge)}if(Te(ae)||j(ae))return G=G.get(Y)||null,re(H,G,ae,ge,null);if(typeof ae.then=="function")return Z(G,H,Y,zf(ae),ge);if(ae.$$typeof===z)return Z(G,H,Y,If(H,ae),ge);Ff(H,ae)}return null}function Ce(G,H,Y,ae){for(var ge=null,Le=null,_e=H,Se=H=0,Ft=null;_e!==null&&Se<Y.length;Se++){_e.index>Se?(Ft=_e,_e=null):Ft=_e.sibling;var Ge=X(G,_e,Y[Se],ae);if(Ge===null){_e===null&&(_e=Ft);break}r&&_e&&Ge.alternate===null&&s(G,_e),H=y(Ge,H,Se),Le===null?ge=Ge:Le.sibling=Ge,Le=Ge,_e=Ft}if(Se===Y.length)return l(G,_e),Ke&&ha(G,Se),ge;if(_e===null){for(;Se<Y.length;Se++)_e=oe(G,Y[Se],ae),_e!==null&&(H=y(_e,H,Se),Le===null?ge=_e:Le.sibling=_e,Le=_e);return Ke&&ha(G,Se),ge}for(_e=c(_e);Se<Y.length;Se++)Ft=Z(_e,G,Se,Y[Se],ae),Ft!==null&&(r&&Ft.alternate!==null&&_e.delete(Ft.key===null?Se:Ft.key),H=y(Ft,H,Se),Le===null?ge=Ft:Le.sibling=Ft,Le=Ft);return r&&_e.forEach(function(ps){return s(G,ps)}),Ke&&ha(G,Se),ge}function we(G,H,Y,ae){if(Y==null)throw Error(i(151));for(var ge=null,Le=null,_e=H,Se=H=0,Ft=null,Ge=Y.next();_e!==null&&!Ge.done;Se++,Ge=Y.next()){_e.index>Se?(Ft=_e,_e=null):Ft=_e.sibling;var ps=X(G,_e,Ge.value,ae);if(ps===null){_e===null&&(_e=Ft);break}r&&_e&&ps.alternate===null&&s(G,_e),H=y(ps,H,Se),Le===null?ge=ps:Le.sibling=ps,Le=ps,_e=Ft}if(Ge.done)return l(G,_e),Ke&&ha(G,Se),ge;if(_e===null){for(;!Ge.done;Se++,Ge=Y.next())Ge=oe(G,Ge.value,ae),Ge!==null&&(H=y(Ge,H,Se),Le===null?ge=Ge:Le.sibling=Ge,Le=Ge);return Ke&&ha(G,Se),ge}for(_e=c(_e);!Ge.done;Se++,Ge=Y.next())Ge=Z(_e,G,Se,Ge.value,ae),Ge!==null&&(r&&Ge.alternate!==null&&_e.delete(Ge.key===null?Se:Ge.key),H=y(Ge,H,Se),Le===null?ge=Ge:Le.sibling=Ge,Le=Ge);return r&&_e.forEach(function(YO){return s(G,YO)}),Ke&&ha(G,Se),ge}function it(G,H,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===R&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var ge=Y.key;H!==null;){if(H.key===ge){if(ge=Y.type,ge===R){if(H.tag===7){l(G,H.sibling),ae=m(H,Y.props.children),ae.return=G,G=ae;break e}}else if(H.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&gT(ge)===H.type){l(G,H.sibling),ae=m(H,Y.props),hu(ae,Y),ae.return=G,G=ae;break e}l(G,H);break}else s(G,H);H=H.sibling}Y.type===R?(ae=ca(Y.props.children,G.mode,ae,Y.key),ae.return=G,G=ae):(ae=Sf(Y.type,Y.key,Y.props,null,G.mode,ae),hu(ae,Y),ae.return=G,G=ae)}return b(G);case S:e:{for(ge=Y.key;H!==null;){if(H.key===ge)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){l(G,H.sibling),ae=m(H,Y.children||[]),ae.return=G,G=ae;break e}else{l(G,H);break}else s(G,H);H=H.sibling}ae=Np(Y,G.mode,ae),ae.return=G,G=ae}return b(G);case A:return ge=Y._init,Y=ge(Y._payload),it(G,H,Y,ae)}if(Te(Y))return Ce(G,H,Y,ae);if(j(Y)){if(ge=j(Y),typeof ge!="function")throw Error(i(150));return Y=ge.call(Y),we(G,H,Y,ae)}if(typeof Y.then=="function")return it(G,H,zf(Y),ae);if(Y.$$typeof===z)return it(G,H,If(G,Y),ae);Ff(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,H!==null&&H.tag===6?(l(G,H.sibling),ae=m(H,Y),ae.return=G,G=ae):(l(G,H),ae=Pp(Y,G.mode,ae),ae.return=G,G=ae),b(G)):l(G,H)}return function(G,H,Y,ae){try{fu=0;var ge=it(G,H,Y,ae);return To=null,ge}catch(_e){if(_e===nu||_e===Df)throw _e;var Le=xn(29,_e,null,G.mode);return Le.lanes=ae,Le.return=G,Le}finally{}}}var Eo=yT(!0),vT=yT(!1),Wn=q(null),Ni=null;function Jr(r){var s=r.alternate;te(kt,kt.current&1),te(Wn,r),Ni===null&&(s===null||go.current!==null||s.memoizedState!==null)&&(Ni=r)}function _T(r){if(r.tag===22){if(te(kt,kt.current),te(Wn,r),Ni===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ni=r)}}else es()}function es(){te(kt,kt.current),te(Wn,Wn.current)}function mr(r){ne(Wn),Ni===r&&(Ni=null),ne(kt)}var kt=q(0);function Hf(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||tg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function hm(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:g({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var dm={enqueueSetState:function(r,s,l){r=r._reactInternals;var c=Nn(),m=Xr(c);m.payload=s,l!=null&&(m.callback=l),s=Wr(r,m,c),s!==null&&(Mn(s,r,c),ru(s,r,c))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=Nn(),m=Xr(c);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=Wr(r,m,c),s!==null&&(Mn(s,r,c),ru(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Nn(),c=Xr(l);c.tag=2,s!=null&&(c.callback=s),s=Wr(r,c,l),s!==null&&(Mn(s,r,l),ru(s,r,l))}};function TT(r,s,l,c,m,y,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,b):s.prototype&&s.prototype.isPureReactComponent?!Yl(l,c)||!Yl(m,y):!0}function ET(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&dm.enqueueReplaceState(s,s.state,null)}function _a(r,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(r=r.defaultProps){l===s&&(l=g({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}var qf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function bT(r){qf(r)}function wT(r){console.error(r)}function ST(r){qf(r)}function $f(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function AT(r,s,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function pm(r,s,l){return l=Xr(l),l.tag=3,l.payload={element:null},l.callback=function(){$f(r,s)},l}function RT(r){return r=Xr(r),r.tag=3,r}function CT(r,s,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;r.payload=function(){return m(y)},r.callback=function(){AT(s,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){AT(s,l,c),typeof m!="function"&&(as===null?as=new Set([this]):as.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function YD(r,s,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Jl(s,l,m,!0),l=Wn.current,l!==null){switch(l.tag){case 13:return Ni===null?Um():l.alternate===null&&vt===0&&(vt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===Hp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),jm(r,c,m)),!1;case 22:return l.flags|=65536,c===Hp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),jm(r,c,m)),!1}throw Error(i(435,l.tag))}return jm(r,c,m),Um(),!1}if(Ke)return s=Wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Vp&&(r=Error(i(422),{cause:c}),Zl(Kn(r,l)))):(c!==Vp&&(s=Error(i(423),{cause:c}),Zl(Kn(s,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Kn(c,l),m=pm(r.stateNode,c,m),Gp(r,m),vt!==4&&(vt=2)),!1;var y=Error(i(520),{cause:c});if(y=Kn(y,l),_u===null?_u=[y]:_u.push(y),vt!==4&&(vt=2),s===null)return!0;c=Kn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=pm(l.stateNode,c,r),Gp(l,r),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(as===null||!as.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=RT(m),CT(m,r,l,c),Gp(l,m),!1}l=l.return}while(l!==null);return!1}var IT=Error(i(461)),jt=!1;function Gt(r,s,l,c){s.child=r===null?vT(s,null,l,c):Eo(s,r.child,l,c)}function xT(r,s,l,c,m){l=l.render;var y=s.ref;if("ref"in c){var b={};for(var C in c)C!=="ref"&&(b[C]=c[C])}else b=c;return ga(s),c=Wp(r,s,l,b,y,m),C=Zp(),r!==null&&!jt?(Jp(r,s,m),gr(r,s,m)):(Ke&&C&&Mp(s),s.flags|=1,Gt(r,s,c,m),s.child)}function DT(r,s,l,c,m){if(r===null){var y=l.type;return typeof y=="function"&&!Op(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,OT(r,s,y,c,m)):(r=Sf(l.type,null,c,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!bm(r,m)){var b=y.memoizedProps;if(l=l.compare,l=l!==null?l:Yl,l(b,c)&&r.ref===s.ref)return gr(r,s,m)}return s.flags|=1,r=ur(y,c),r.ref=s.ref,r.return=s,s.child=r}function OT(r,s,l,c,m){if(r!==null){var y=r.memoizedProps;if(Yl(y,c)&&r.ref===s.ref)if(jt=!1,s.pendingProps=c=y,bm(r,m))(r.flags&131072)!==0&&(jt=!0);else return s.lanes=r.lanes,gr(r,s,m)}return mm(r,s,l,c,m)}function PT(r,s,l){var c=s.pendingProps,m=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,r!==null){for(m=s.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return NT(r,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&xf(s,y!==null?y.cachePool:null),y!==null?O0(s,y):Yp(),_T(s);else return s.lanes=s.childLanes=536870912,NT(r,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(xf(s,y.cachePool),O0(s,y),es(),s.memoizedState=null):(r!==null&&xf(s,null),Yp(),es());return Gt(r,s,m,l),s.child}function NT(r,s,l,c){var m=Fp();return m=m===null?null:{parent:Mt._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},r!==null&&xf(s,null),Yp(),_T(s),r!==null&&Jl(r,s,c,!0),null}function Gf(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function mm(r,s,l,c,m){return ga(s),l=Wp(r,s,l,c,void 0,m),c=Zp(),r!==null&&!jt?(Jp(r,s,m),gr(r,s,m)):(Ke&&c&&Mp(s),s.flags|=1,Gt(r,s,l,m),s.child)}function MT(r,s,l,c,m,y){return ga(s),s.updateQueue=null,l=N0(s,c,l,m),P0(r),c=Zp(),r!==null&&!jt?(Jp(r,s,y),gr(r,s,y)):(Ke&&c&&Mp(s),s.flags|=1,Gt(r,s,l,y),s.child)}function kT(r,s,l,c,m){if(ga(s),s.stateNode===null){var y=co,b=l.contextType;typeof b=="object"&&b!==null&&(y=tn(b)),y=new l(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=dm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},qp(s),b=l.contextType,y.context=typeof b=="object"&&b!==null?tn(b):co,y.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(hm(s,l,b,c),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&dm.enqueueReplaceState(y,y.state,null),au(s,c,y,m),su(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var C=s.memoizedProps,U=_a(l,C);y.props=U;var Q=y.context,re=l.contextType;b=co,typeof re=="object"&&re!==null&&(b=tn(re));var oe=l.getDerivedStateFromProps;re=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,re||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||Q!==b)&&ET(s,y,c,b),Qr=!1;var X=s.memoizedState;y.state=X,au(s,c,y,m),su(),Q=s.memoizedState,C||X!==Q||Qr?(typeof oe=="function"&&(hm(s,l,oe,c),Q=s.memoizedState),(U=Qr||TT(s,l,U,c,X,Q,b))?(re||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),y.props=c,y.state=Q,y.context=b,c=U):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,$p(r,s),b=s.memoizedProps,re=_a(l,b),y.props=re,oe=s.pendingProps,X=y.context,Q=l.contextType,U=co,typeof Q=="object"&&Q!==null&&(U=tn(Q)),C=l.getDerivedStateFromProps,(Q=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==oe||X!==U)&&ET(s,y,c,U),Qr=!1,X=s.memoizedState,y.state=X,au(s,c,y,m),su();var Z=s.memoizedState;b!==oe||X!==Z||Qr||r!==null&&r.dependencies!==null&&Cf(r.dependencies)?(typeof C=="function"&&(hm(s,l,C,c),Z=s.memoizedState),(re=Qr||TT(s,l,re,c,X,Z,U)||r!==null&&r.dependencies!==null&&Cf(r.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Z,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Z,U)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Z),y.props=c,y.state=Z,y.context=U,c=re):(typeof y.componentDidUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,Gf(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Eo(s,r.child,null,m),s.child=Eo(s,null,l,m)):Gt(r,s,l,m),s.memoizedState=y.state,r=s.child):r=gr(r,s,m),r}function VT(r,s,l,c){return Wl(),s.flags|=256,Gt(r,s,l,c),s.child}var gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ym(r){return{baseLanes:r,cachePool:w0()}}function vm(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Zn),r}function LT(r,s,l){var c=s.pendingProps,m=!1,y=(s.flags&128)!==0,b;if((b=y)||(b=r!==null&&r.memoizedState===null?!1:(kt.current&2)!==0),b&&(m=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ke){if(m?Jr(s):es(),Ke){var C=yt,U;if(U=C){e:{for(U=C,C=Pi;U.nodeType!==8;){if(!C){C=null;break e}if(U=hi(U.nextSibling),U===null){C=null;break e}}C=U}C!==null?(s.memoizedState={dehydrated:C,treeContext:fa!==null?{id:cr,overflow:fr}:null,retryLane:536870912,hydrationErrors:null},U=xn(18,null,null,0),U.stateNode=C,U.return=s,s.child=U,pn=s,yt=null,U=!0):U=!1}U||pa(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return tg(C)?s.lanes=32:s.lanes=536870912,null;mr(s)}return C=c.children,c=c.fallback,m?(es(),m=s.mode,C=Kf({mode:"hidden",children:C},m),c=ca(c,m,l,null),C.return=s,c.return=s,C.sibling=c,s.child=C,m=s.child,m.memoizedState=ym(l),m.childLanes=vm(r,b,l),s.memoizedState=gm,c):(Jr(s),_m(s,C))}if(U=r.memoizedState,U!==null&&(C=U.dehydrated,C!==null)){if(y)s.flags&256?(Jr(s),s.flags&=-257,s=Tm(r,s,l)):s.memoizedState!==null?(es(),s.child=r.child,s.flags|=128,s=null):(es(),m=c.fallback,C=s.mode,c=Kf({mode:"visible",children:c.children},C),m=ca(m,C,l,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,Eo(s,r.child,null,l),c=s.child,c.memoizedState=ym(l),c.childLanes=vm(r,b,l),s.memoizedState=gm,s=m);else if(Jr(s),tg(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var Q=b.dgst;b=Q,c=Error(i(419)),c.stack="",c.digest=b,Zl({value:c,source:null,stack:null}),s=Tm(r,s,l)}else if(jt||Jl(r,s,l,!1),b=(l&r.childLanes)!==0,jt||b){if(b=at,b!==null&&(c=l&-l,c=(c&42)!==0?1:zr(c),c=(c&(b.suspendedLanes|l))!==0?0:c,c!==0&&c!==U.retryLane))throw U.retryLane=c,uo(r,c),Mn(b,r,c),IT;C.data==="$?"||Um(),s=Tm(r,s,l)}else C.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,yt=hi(C.nextSibling),pn=s,Ke=!0,da=null,Pi=!1,r!==null&&(Qn[Xn++]=cr,Qn[Xn++]=fr,Qn[Xn++]=fa,cr=r.id,fr=r.overflow,fa=s),s=_m(s,c.children),s.flags|=4096);return s}return m?(es(),m=c.fallback,C=s.mode,U=r.child,Q=U.sibling,c=ur(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,Q!==null?m=ur(Q,m):(m=ca(m,C,l,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,C=r.child.memoizedState,C===null?C=ym(l):(U=C.cachePool,U!==null?(Q=Mt._currentValue,U=U.parent!==Q?{parent:Q,pool:Q}:U):U=w0(),C={baseLanes:C.baseLanes|l,cachePool:U}),m.memoizedState=C,m.childLanes=vm(r,b,l),s.memoizedState=gm,c):(Jr(s),l=r.child,r=l.sibling,l=ur(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=l,s.memoizedState=null,l)}function _m(r,s){return s=Kf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Kf(r,s){return r=xn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Tm(r,s,l){return Eo(s,r.child,null,l),r=_m(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function UT(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Up(r.return,s,l)}function Em(r,s,l,c,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function BT(r,s,l){var c=s.pendingProps,m=c.revealOrder,y=c.tail;if(Gt(r,s,c.children,l),c=kt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&UT(r,l,s);else if(r.tag===19)UT(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(te(kt,c),m){case"forwards":for(l=s.child,m=null;l!==null;)r=l.alternate,r!==null&&Hf(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Em(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Hf(r)===null){s.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}Em(s,!0,l,null,y);break;case"together":Em(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ss|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Jl(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=ur(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=ur(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function bm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Cf(r)))}function QD(r,s,l){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),Yr(s,Mt,r.memoizedState.cache),Wl();break;case 27:case 5:jr(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:Yr(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Jr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?LT(r,s,l):(Jr(s),r=gr(r,s,l),r!==null?r.sibling:null);Jr(s);break;case 19:var m=(r.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Jl(r,s,l,!1),c=(l&s.childLanes)!==0),m){if(c)return BT(r,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(kt,kt.current),c)break;return null;case 22:case 23:return s.lanes=0,PT(r,s,l);case 24:Yr(s,Mt,r.memoizedState.cache)}return gr(r,s,l)}function jT(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)jt=!0;else{if(!bm(r,l)&&(s.flags&128)===0)return jt=!1,QD(r,s,l);jt=(r.flags&131072)!==0}else jt=!1,Ke&&(s.flags&1048576)!==0&&g0(s,Rf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")Op(c)?(r=_a(c,r),s.tag=1,s=kT(null,s,c,r,l)):(s.tag=0,s=mm(null,s,c,r,l));else{if(c!=null){if(m=c.$$typeof,m===ie){s.tag=11,s=xT(null,s,c,r,l);break e}else if(m===M){s.tag=14,s=DT(null,s,c,r,l);break e}}throw s=ve(c)||c,Error(i(306,s,""))}}return s;case 0:return mm(r,s,s.type,s.pendingProps,l);case 1:return c=s.type,m=_a(c,s.pendingProps),kT(r,s,c,m,l);case 3:e:{if(xe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;m=y.element,$p(r,s),au(s,c,null,l);var b=s.memoizedState;if(c=b.cache,Yr(s,Mt,c),c!==y.cache&&Bp(s,[Mt],l,!0),su(),c=b.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=VT(r,s,c,l);break e}else if(c!==m){m=Kn(Error(i(424)),s),Zl(m),s=VT(r,s,c,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(yt=hi(r.firstChild),pn=s,Ke=!0,da=null,Pi=!0,l=vT(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wl(),c===m){s=gr(r,s,l);break e}Gt(r,s,c,l)}s=s.child}return s;case 26:return Gf(r,s),r===null?(l=qE(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ke||(l=s.type,r=s.pendingProps,c=oh(he.current).createElement(l),c[Ot]=s,c[At]=r,Yt(c,l,r),Tt(c),s.stateNode=c):s.memoizedState=qE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return jr(s),r===null&&Ke&&(c=s.stateNode=zE(s.type,s.pendingProps,he.current),pn=s,Pi=!0,m=yt,us(s.type)?(ng=m,yt=hi(c.firstChild)):yt=m),Gt(r,s,s.pendingProps.children,l),Gf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ke&&((m=c=yt)&&(c=wO(c,s.type,s.pendingProps,Pi),c!==null?(s.stateNode=c,pn=s,yt=hi(c.firstChild),Pi=!1,m=!0):m=!1),m||pa(s)),jr(s),m=s.type,y=s.pendingProps,b=r!==null?r.memoizedProps:null,c=y.children,Zm(m,y)?c=null:b!==null&&Zm(m,b)&&(s.flags|=32),s.memoizedState!==null&&(m=Wp(r,s,zD,null,null,l),Iu._currentValue=m),Gf(r,s),Gt(r,s,c,l),s.child;case 6:return r===null&&Ke&&((r=l=yt)&&(l=SO(l,s.pendingProps,Pi),l!==null?(s.stateNode=l,pn=s,yt=null,r=!0):r=!1),r||pa(s)),null;case 13:return LT(r,s,l);case 4:return xe(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Eo(s,null,c,l):Gt(r,s,c,l),s.child;case 11:return xT(r,s,s.type,s.pendingProps,l);case 7:return Gt(r,s,s.pendingProps,l),s.child;case 8:return Gt(r,s,s.pendingProps.children,l),s.child;case 12:return Gt(r,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Yr(s,s.type,c.value),Gt(r,s,c.children,l),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,ga(s),m=tn(m),c=c(m),s.flags|=1,Gt(r,s,c,l),s.child;case 14:return DT(r,s,s.type,s.pendingProps,l);case 15:return OT(r,s,s.type,s.pendingProps,l);case 19:return BT(r,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},r===null?(l=Kf(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=ur(r.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return PT(r,s,l);case 24:return ga(s),c=tn(Mt),r===null?(m=Fp(),m===null&&(m=at,y=jp(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),s.memoizedState={parent:c,cache:m},qp(s),Yr(s,Mt,m)):((r.lanes&l)!==0&&($p(r,s),au(s,null,null,l),su()),m=r.memoizedState,y=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Yr(s,Mt,c)):(c=y.cache,Yr(s,Mt,c),c!==m.cache&&Bp(s,[Mt],l,!0))),Gt(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function yr(r){r.flags|=4}function zT(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!QE(s)){if(s=Wn.current,s!==null&&((qe&4194048)===qe?Ni!==null:(qe&62914560)!==qe&&(qe&536870912)===0||s!==Ni))throw iu=Hp,S0;r.flags|=8192}}function Yf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Dl():536870912,r.lanes|=s,Ao|=s)}function du(r,s){if(!Ke)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function XD(r,s,l){var c=s.pendingProps;switch(kp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return ht(s),null;case 3:return l=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),dr(Mt),jn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Xl(s)?yr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_0())),ht(s),null;case 26:return l=s.memoizedState,r===null?(yr(s),l!==null?(ht(s),zT(s,l)):(ht(s),s.flags&=-16777217)):l?l!==r.memoizedState?(yr(s),ht(s),zT(s,l)):(ht(s),s.flags&=-16777217):(r.memoizedProps!==c&&yr(s),ht(s),s.flags&=-16777217),null;case 27:Xi(s),l=he.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&yr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ht(s),null}r=ce.current,Xl(s)?y0(s):(r=zE(m,c,l),s.stateNode=r,yr(s))}return ht(s),null;case 5:if(Xi(s),l=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&yr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ht(s),null}if(r=ce.current,Xl(s))y0(s);else{switch(m=oh(he.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}r[Ot]=s,r[At]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(Yt(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&yr(s)}}return ht(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&yr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=he.current,Xl(s)){if(r=s.stateNode,l=s.memoizedProps,c=null,m=pn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[Ot]=s,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||ME(r.nodeValue,l)),r||pa(s)}else r=oh(r).createTextNode(c),r[Ot]=s,s.stateNode=r}return ht(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Xl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ot]=s}else Wl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),m=!1}else m=_0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(mr(s),s):(mr(s),null)}if(mr(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==r&&l&&(s.child.flags|=8192),Yf(s,s.updateQueue),ht(s),null;case 4:return jn(),r===null&&Km(s.stateNode.containerInfo),ht(s),null;case 10:return dr(s.type),ht(s),null;case 19:if(ne(kt),m=s.memoizedState,m===null)return ht(s),null;if(c=(s.flags&128)!==0,y=m.rendering,y===null)if(c)du(m,!1);else{if(vt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Hf(r),y!==null){for(s.flags|=128,du(m,!1),r=y.updateQueue,s.updateQueue=r,Yf(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)m0(l,r),l=l.sibling;return te(kt,kt.current&1|2),s.child}r=r.sibling}m.tail!==null&&zn()>Wf&&(s.flags|=128,c=!0,du(m,!1),s.lanes=4194304)}else{if(!c)if(r=Hf(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Yf(s,r),du(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ke)return ht(s),null}else 2*zn()-m.renderingStartTime>Wf&&l!==536870912&&(s.flags|=128,c=!0,du(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(r=m.last,r!==null?r.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=zn(),s.sibling=null,r=kt.current,te(kt,c?r&1|2:r&1),s):(ht(s),null);case 22:case 23:return mr(s),Qp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),l=s.updateQueue,l!==null&&Yf(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),r!==null&&ne(ya),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),dr(Mt),ht(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function WD(r,s){switch(kp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return dr(Mt),jn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Xi(s),null;case 13:if(mr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Wl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ne(kt),null;case 4:return jn(),null;case 10:return dr(s.type),null;case 22:case 23:return mr(s),Qp(),r!==null&&ne(ya),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return dr(Mt),null;case 25:return null;default:return null}}function FT(r,s){switch(kp(s),s.tag){case 3:dr(Mt),jn();break;case 26:case 27:case 5:Xi(s);break;case 4:jn();break;case 13:mr(s);break;case 19:ne(kt);break;case 10:dr(s.type);break;case 22:case 23:mr(s),Qp(),r!==null&&ne(ya);break;case 24:dr(Mt)}}function pu(r,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&r)===r){c=void 0;var y=l.create,b=l.inst;c=y(),b.destroy=c}l=l.next}while(l!==m)}}catch(C){st(s,s.return,C)}}function ts(r,s,l){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&r)===r){var b=c.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,m=s;var U=l,Q=C;try{Q()}catch(re){st(m,U,re)}}}c=c.next}while(c!==y)}}catch(re){st(s,s.return,re)}}function HT(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{D0(s,l)}catch(c){st(r,r.return,c)}}}function qT(r,s,l){l.props=_a(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){st(r,s,c)}}function mu(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(m){st(r,s,m)}}function Mi(r,s){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){st(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){st(r,s,m)}else l.current=null}function $T(r){var s=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){st(r,r.return,m)}}function wm(r,s,l){try{var c=r.stateNode;vO(c,r.type,l,s),c[At]=s}catch(m){st(r,r.return,m)}}function GT(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&us(r.type)||r.tag===4}function Sm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||GT(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&us(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Am(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ah));else if(c!==4&&(c===27&&us(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Am(r,s,l),r=r.sibling;r!==null;)Am(r,s,l),r=r.sibling}function Qf(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(c===27&&us(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Qf(r,s,l),r=r.sibling;r!==null;)Qf(r,s,l),r=r.sibling}function KT(r){var s=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Yt(s,c,l),s[Ot]=r,s[At]=l}catch(y){st(r,r.return,y)}}var vr=!1,bt=!1,Rm=!1,YT=typeof WeakSet=="function"?WeakSet:Set,zt=null;function ZD(r,s){if(r=r.containerInfo,Xm=dh,r=s0(r),Sp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var b=0,C=-1,U=-1,Q=0,re=0,oe=r,X=null;t:for(;;){for(var Z;oe!==l||m!==0&&oe.nodeType!==3||(C=b+m),oe!==y||c!==0&&oe.nodeType!==3||(U=b+c),oe.nodeType===3&&(b+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)X=oe,oe=Z;for(;;){if(oe===r)break t;if(X===l&&++Q===m&&(C=b),X===y&&++re===c&&(U=b),(Z=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=Z}l=C===-1||U===-1?null:{start:C,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wm={focusedElem:r,selectionRange:l},dh=!1,zt=s;zt!==null;)if(s=zt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,zt=r;else for(;zt!==null;){switch(s=zt,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=s,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ce=_a(l.type,m,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(Ce,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(we){st(l,l.return,we)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)eg(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":eg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,zt=r;break}zt=s.return}}function QT(r,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ns(r,l),c&4&&pu(5,l);break;case 1:if(ns(r,l),c&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(b){st(l,l.return,b)}else{var m=_a(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){st(l,l.return,b)}}c&64&&HT(l),c&512&&mu(l,l.return);break;case 3:if(ns(r,l),c&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{D0(r,s)}catch(b){st(l,l.return,b)}}break;case 27:s===null&&c&4&&KT(l);case 26:case 5:ns(r,l),s===null&&c&4&&$T(l),c&512&&mu(l,l.return);break;case 12:ns(r,l);break;case 13:ns(r,l),c&4&&ZT(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=oO.bind(null,l),AO(r,l))));break;case 22:if(c=l.memoizedState!==null||vr,!c){s=s!==null&&s.memoizedState!==null||bt,m=vr;var y=bt;vr=c,(bt=s)&&!y?is(r,l,(l.subtreeFlags&8772)!==0):ns(r,l),vr=m,bt=y}break;case 30:break;default:ns(r,l)}}function XT(r){var s=r.alternate;s!==null&&(r.alternate=null,XT(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&qr(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ut=null,_n=!1;function _r(r,s,l){for(l=l.child;l!==null;)WT(r,s,l),l=l.sibling}function WT(r,s,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(gt,l)}catch{}switch(l.tag){case 26:bt||Mi(l,s),_r(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:bt||Mi(l,s);var c=ut,m=_n;us(l.type)&&(ut=l.stateNode,_n=!1),_r(r,s,l),Su(l.stateNode),ut=c,_n=m;break;case 5:bt||Mi(l,s);case 6:if(c=ut,m=_n,ut=null,_r(r,s,l),ut=c,_n=m,ut!==null)if(_n)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(l.stateNode)}catch(y){st(l,s,y)}else try{ut.removeChild(l.stateNode)}catch(y){st(l,s,y)}break;case 18:ut!==null&&(_n?(r=ut,BE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Pu(r)):BE(ut,l.stateNode));break;case 4:c=ut,m=_n,ut=l.stateNode.containerInfo,_n=!0,_r(r,s,l),ut=c,_n=m;break;case 0:case 11:case 14:case 15:bt||ts(2,l,s),bt||ts(4,l,s),_r(r,s,l);break;case 1:bt||(Mi(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&qT(l,s,c)),_r(r,s,l);break;case 21:_r(r,s,l);break;case 22:bt=(c=bt)||l.memoizedState!==null,_r(r,s,l),bt=c;break;default:_r(r,s,l)}}function ZT(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Pu(r)}catch(l){st(s,s.return,l)}}function JD(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new YT),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new YT),s;default:throw Error(i(435,r.tag))}}function Cm(r,s){var l=JD(r);s.forEach(function(c){var m=lO.bind(null,r,c);l.has(c)||(l.add(c),c.then(m,m))})}function Dn(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=r,b=s,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(us(C.type)){ut=C.stateNode,_n=!1;break e}break;case 5:ut=C.stateNode,_n=!1;break e;case 3:case 4:ut=C.stateNode.containerInfo,_n=!0;break e}C=C.return}if(ut===null)throw Error(i(160));WT(y,b,m),ut=null,_n=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)JT(s,r),s=s.sibling}var fi=null;function JT(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Dn(s,r),On(r),c&4&&(ts(3,r,r.return),pu(3,r),ts(5,r,r.return));break;case 1:Dn(s,r),On(r),c&512&&(bt||l===null||Mi(l,l.return)),c&64&&vr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=fi;if(Dn(s,r),On(r),c&512&&(bt||l===null||Mi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ys]||y[Ot]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Yt(y,c,l),y[Ot]=r,Tt(y),c=y;break e;case"link":var b=KE("link","href",m).get(c+(l.href||""));if(b){for(var C=0;C<b.length;C++)if(y=b[C],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(C,1);break t}}y=m.createElement(c),Yt(y,c,l),m.head.appendChild(y);break;case"meta":if(b=KE("meta","content",m).get(c+(l.content||""))){for(C=0;C<b.length;C++)if(y=b[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(C,1);break t}}y=m.createElement(c),Yt(y,c,l),m.head.appendChild(y);break;default:throw Error(i(468,c))}y[Ot]=r,Tt(y),c=y}r.stateNode=c}else YE(m,r.type,r.stateNode);else r.stateNode=GE(m,c,r.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?YE(m,r.type,r.stateNode):GE(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&wm(r,r.memoizedProps,l.memoizedProps)}break;case 27:Dn(s,r),On(r),c&512&&(bt||l===null||Mi(l,l.return)),l!==null&&c&4&&wm(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Dn(s,r),On(r),c&512&&(bt||l===null||Mi(l,l.return)),r.flags&32){m=r.stateNode;try{Hn(m,"")}catch(Z){st(r,r.return,Z)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,wm(r,m,l!==null?l.memoizedProps:m)),c&1024&&(Rm=!0);break;case 6:if(Dn(s,r),On(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(Z){st(r,r.return,Z)}}break;case 3:if(ch=null,m=fi,fi=lh(s.containerInfo),Dn(s,r),fi=m,On(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Pu(s.containerInfo)}catch(Z){st(r,r.return,Z)}Rm&&(Rm=!1,eE(r));break;case 4:c=fi,fi=lh(r.stateNode.containerInfo),Dn(s,r),On(r),fi=c;break;case 12:Dn(s,r),On(r);break;case 13:Dn(s,r),On(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nm=zn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Cm(r,c)));break;case 22:m=r.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,Q=vr,re=bt;if(vr=Q||m,bt=re||U,Dn(s,r),bt=re,vr=Q,On(r),c&8192)e:for(s=r.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||U||vr||bt||Ta(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){U=l=s;try{if(y=U.stateNode,m)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=U.stateNode;var oe=U.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){st(U,U.return,Z)}}}else if(s.tag===6){if(l===null){U=s;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(Z){st(U,U.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Cm(r,l))));break;case 19:Dn(s,r),On(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Cm(r,c)));break;case 30:break;case 21:break;default:Dn(s,r),On(r)}}function On(r){var s=r.flags;if(s&2){try{for(var l,c=r.return;c!==null;){if(GT(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,y=Sm(r);Qf(r,y,m);break;case 5:var b=l.stateNode;l.flags&32&&(Hn(b,""),l.flags&=-33);var C=Sm(r);Qf(r,C,b);break;case 3:case 4:var U=l.stateNode.containerInfo,Q=Sm(r);Am(r,Q,U);break;default:throw Error(i(161))}}catch(re){st(r,r.return,re)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function eE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;eE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ns(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)QT(r,s.alternate,s),s=s.sibling}function Ta(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ts(4,s,s.return),Ta(s);break;case 1:Mi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&qT(s,s.return,l),Ta(s);break;case 27:Su(s.stateNode);case 26:case 5:Mi(s,s.return),Ta(s);break;case 22:s.memoizedState===null&&Ta(s);break;case 30:Ta(s);break;default:Ta(s)}r=r.sibling}}function is(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=r,y=s,b=y.flags;switch(y.tag){case 0:case 11:case 15:is(m,y,l),pu(4,y);break;case 1:if(is(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){st(c,c.return,Q)}if(c=y,m=c.updateQueue,m!==null){var C=c.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)x0(U[m],C)}catch(Q){st(c,c.return,Q)}}l&&b&64&&HT(y),mu(y,y.return);break;case 27:KT(y);case 26:case 5:is(m,y,l),l&&c===null&&b&4&&$T(y),mu(y,y.return);break;case 12:is(m,y,l);break;case 13:is(m,y,l),l&&b&4&&ZT(m,y);break;case 22:y.memoizedState===null&&is(m,y,l),mu(y,y.return);break;case 30:break;default:is(m,y,l)}s=s.sibling}}function Im(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&eu(l))}function xm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&eu(r))}function ki(r,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tE(r,s,l,c),s=s.sibling}function tE(r,s,l,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ki(r,s,l,c),m&2048&&pu(9,s);break;case 1:ki(r,s,l,c);break;case 3:ki(r,s,l,c),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&eu(r)));break;case 12:if(m&2048){ki(r,s,l,c),r=s.stateNode;try{var y=s.memoizedProps,b=y.id,C=y.onPostCommit;typeof C=="function"&&C(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){st(s,s.return,U)}}else ki(r,s,l,c);break;case 13:ki(r,s,l,c);break;case 23:break;case 22:y=s.stateNode,b=s.alternate,s.memoizedState!==null?y._visibility&2?ki(r,s,l,c):gu(r,s):y._visibility&2?ki(r,s,l,c):(y._visibility|=2,bo(r,s,l,c,(s.subtreeFlags&10256)!==0)),m&2048&&Im(b,s);break;case 24:ki(r,s,l,c),m&2048&&xm(s.alternate,s);break;default:ki(r,s,l,c)}}function bo(r,s,l,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,b=s,C=l,U=c,Q=b.flags;switch(b.tag){case 0:case 11:case 15:bo(y,b,C,U,m),pu(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&2?bo(y,b,C,U,m):gu(y,b):(re._visibility|=2,bo(y,b,C,U,m)),m&&Q&2048&&Im(b.alternate,b);break;case 24:bo(y,b,C,U,m),m&&Q&2048&&xm(b.alternate,b);break;default:bo(y,b,C,U,m)}s=s.sibling}}function gu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,c=s,m=c.flags;switch(c.tag){case 22:gu(l,c),m&2048&&Im(c.alternate,c);break;case 24:gu(l,c),m&2048&&xm(c.alternate,c);break;default:gu(l,c)}s=s.sibling}}var yu=8192;function wo(r){if(r.subtreeFlags&yu)for(r=r.child;r!==null;)nE(r),r=r.sibling}function nE(r){switch(r.tag){case 26:wo(r),r.flags&yu&&r.memoizedState!==null&&UO(fi,r.memoizedState,r.memoizedProps);break;case 5:wo(r);break;case 3:case 4:var s=fi;fi=lh(r.stateNode.containerInfo),wo(r),fi=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=yu,yu=16777216,wo(r),yu=s):wo(r));break;default:wo(r)}}function iE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function vu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];zt=c,sE(c,r)}iE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)rE(r),r=r.sibling}function rE(r){switch(r.tag){case 0:case 11:case 15:vu(r),r.flags&2048&&ts(9,r,r.return);break;case 3:vu(r);break;case 12:vu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Xf(r)):vu(r);break;default:vu(r)}}function Xf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];zt=c,sE(c,r)}iE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ts(8,s,s.return),Xf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Xf(s));break;default:Xf(s)}r=r.sibling}}function sE(r,s){for(;zt!==null;){var l=zt;switch(l.tag){case 0:case 11:case 15:ts(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:eu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,zt=c;else e:for(l=r;zt!==null;){c=zt;var m=c.sibling,y=c.return;if(XT(c),c===l){zt=null;break e}if(m!==null){m.return=y,zt=m;break e}zt=y}}}var eO={getCacheForType:function(r){var s=tn(Mt),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l}},tO=typeof WeakMap=="function"?WeakMap:Map,We=0,at=null,Ue=null,qe=0,Ze=0,Pn=null,rs=!1,So=!1,Dm=!1,Tr=0,vt=0,ss=0,Ea=0,Om=0,Zn=0,Ao=0,_u=null,Tn=null,Pm=!1,Nm=0,Wf=1/0,Zf=null,as=null,Kt=0,os=null,Ro=null,Co=0,Mm=0,km=null,aE=null,Tu=0,Vm=null;function Nn(){if((We&2)!==0&&qe!==0)return qe&-qe;if(W.T!==null){var r=po;return r!==0?r:Hm()}return Fr()}function oE(){Zn===0&&(Zn=(qe&536870912)===0||Ke?xl():536870912);var r=Wn.current;return r!==null&&(r.flags|=32),Zn}function Mn(r,s,l){(r===at&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)&&(Io(r,0),ls(r,qe,Zn,!1)),Zi(r,l),((We&2)===0||r!==at)&&(r===at&&((We&2)===0&&(Ea|=l),vt===4&&ls(r,qe,Zn,!1)),Vi(r))}function lE(r,s,l){if((We&6)!==0)throw Error(i(327));var c=!l&&(s&124)===0&&(s&r.expiredLanes)===0||Ks(r,s),m=c?rO(r,s):Bm(r,s,!0),y=c;do{if(m===0){So&&!c&&ls(r,s,0,!1);break}else{if(l=r.current.alternate,y&&!nO(l)){m=Bm(r,s,!1),y=!1;continue}if(m===2){if(y=s,r.errorRecoveryDisabledLanes&y)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var C=r;m=_u;var U=C.current.memoizedState.isDehydrated;if(U&&(Io(C,b).flags|=256),b=Bm(C,b,!1),b!==2){if(Dm&&!U){C.errorRecoveryDisabledLanes|=y,Ea|=y,m=4;break e}y=Tn,Tn=m,y!==null&&(Tn===null?Tn=y:Tn.push.apply(Tn,y))}m=b}if(y=!1,m!==2)continue}}if(m===1){Io(r,0),ls(r,s,0,!0);break}e:{switch(c=r,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ls(c,s,Zn,!rs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=Nm+300-zn(),10<m)){if(ls(c,s,Zn,!rs),qa(c,0,!0)!==0)break e;c.timeoutHandle=LE(uE.bind(null,c,l,Tn,Zf,Pm,s,Zn,Ea,Ao,rs,y,2,-0,0),m);break e}uE(c,l,Tn,Zf,Pm,s,Zn,Ea,Ao,rs,y,0,-0,0)}}break}while(!0);Vi(r)}function uE(r,s,l,c,m,y,b,C,U,Q,re,oe,X,Z){if(r.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Cu={stylesheets:null,count:0,unsuspend:LO},nE(s),oe=BO(),oe!==null)){r.cancelPendingCommit=oe(gE.bind(null,r,s,y,l,c,m,b,C,U,re,1,X,Z)),ls(r,y,b,!Q);return}gE(r,s,y,l,c,m,b,C,U)}function nO(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!In(y(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ls(r,s,l,c){s&=~Om,s&=~Ea,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var m=s;0<m;){var y=31-en(m),b=1<<y;c[y]=-1,m&=~b}l!==0&&Ei(r,l,s)}function Jf(){return(We&6)===0?(Eu(0),!1):!0}function Lm(){if(Ue!==null){if(Ze===0)var r=Ue.return;else r=Ue,hr=ma=null,em(r),To=null,fu=0,r=Ue;for(;r!==null;)FT(r.alternate,r),r=r.return;Ue=null}}function Io(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,TO(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Lm(),at=r,Ue=l=ur(r.current,null),qe=s,Ze=0,Pn=null,rs=!1,So=Ks(r,s),Dm=!1,Ao=Zn=Om=Ea=ss=vt=0,Tn=_u=null,Pm=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var m=31-en(c),y=1<<m;s|=r[m],c&=~y}return Tr=s,Ef(),l}function cE(r,s){ke=null,W.H=jf,s===nu||s===Df?(s=C0(),Ze=3):s===S0?(s=C0(),Ze=4):Ze=s===IT?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,Ue===null&&(vt=1,$f(r,Kn(s,r.current)))}function fE(){var r=W.H;return W.H=jf,r===null?jf:r}function hE(){var r=W.A;return W.A=eO,r}function Um(){vt=4,rs||(qe&4194048)!==qe&&Wn.current!==null||(So=!0),(ss&134217727)===0&&(Ea&134217727)===0||at===null||ls(at,qe,Zn,!1)}function Bm(r,s,l){var c=We;We|=2;var m=fE(),y=hE();(at!==r||qe!==s)&&(Zf=null,Io(r,s)),s=!1;var b=vt;e:do try{if(Ze!==0&&Ue!==null){var C=Ue,U=Pn;switch(Ze){case 8:Lm(),b=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(s=!0);var Q=Ze;if(Ze=0,Pn=null,xo(r,C,U,Q),l&&So){b=0;break e}break;default:Q=Ze,Ze=0,Pn=null,xo(r,C,U,Q)}}iO(),b=vt;break}catch(re){cE(r,re)}while(!0);return s&&r.shellSuspendCounter++,hr=ma=null,We=c,W.H=m,W.A=y,Ue===null&&(at=null,qe=0,Ef()),b}function iO(){for(;Ue!==null;)dE(Ue)}function rO(r,s){var l=We;We|=2;var c=fE(),m=hE();at!==r||qe!==s?(Zf=null,Wf=zn()+500,Io(r,s)):So=Ks(r,s);e:do try{if(Ze!==0&&Ue!==null){s=Ue;var y=Pn;t:switch(Ze){case 1:Ze=0,Pn=null,xo(r,s,y,1);break;case 2:case 9:if(A0(y)){Ze=0,Pn=null,pE(s);break}s=function(){Ze!==2&&Ze!==9||at!==r||(Ze=7),Vi(r)},y.then(s,s);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:A0(y)?(Ze=0,Pn=null,pE(s)):(Ze=0,Pn=null,xo(r,s,y,7));break;case 5:var b=null;switch(Ue.tag){case 26:b=Ue.memoizedState;case 5:case 27:var C=Ue;if(!b||QE(b)){Ze=0,Pn=null;var U=C.sibling;if(U!==null)Ue=U;else{var Q=C.return;Q!==null?(Ue=Q,eh(Q)):Ue=null}break t}}Ze=0,Pn=null,xo(r,s,y,5);break;case 6:Ze=0,Pn=null,xo(r,s,y,6);break;case 8:Lm(),vt=6;break e;default:throw Error(i(462))}}sO();break}catch(re){cE(r,re)}while(!0);return hr=ma=null,W.H=c,W.A=m,We=l,Ue!==null?0:(at=null,qe=0,Ef(),vt)}function sO(){for(;Ue!==null&&!Al();)dE(Ue)}function dE(r){var s=jT(r.alternate,r,Tr);r.memoizedProps=r.pendingProps,s===null?eh(r):Ue=s}function pE(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=MT(l,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=MT(l,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:em(s);default:FT(l,s),s=Ue=m0(s,Tr),s=jT(l,s,Tr)}r.memoizedProps=r.pendingProps,s===null?eh(r):Ue=s}function xo(r,s,l,c){hr=ma=null,em(s),To=null,fu=0;var m=s.return;try{if(YD(r,m,s,l,qe)){vt=1,$f(r,Kn(l,r.current)),Ue=null;return}}catch(y){if(m!==null)throw Ue=m,y;vt=1,$f(r,Kn(l,r.current)),Ue=null;return}s.flags&32768?(Ke||c===1?r=!0:So||(qe&536870912)!==0?r=!1:(rs=r=!0,(c===2||c===9||c===3||c===6)&&(c=Wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),mE(s,r)):eh(s)}function eh(r){var s=r;do{if((s.flags&32768)!==0){mE(s,rs);return}r=s.return;var l=XD(s.alternate,s,Tr);if(l!==null){Ue=l;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=r}while(s!==null);vt===0&&(vt=5)}function mE(r,s){do{var l=WD(r.alternate,r);if(l!==null){l.flags&=32767,Ue=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=l}while(r!==null);vt=6,Ue=null}function gE(r,s,l,c,m,y,b,C,U){r.cancelPendingCommit=null;do th();while(Kt!==0);if((We&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=xp,Ol(r,l,y,b,C,U),r===at&&(Ue=at=null,qe=0),Ro=s,os=r,Co=l,Mm=y,km=m,aE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,uO(Hs,function(){return EE(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,m=se.p,se.p=2,b=We,We|=4;try{ZD(r,s,l)}finally{We=b,se.p=m,W.T=c}}Kt=1,yE(),vE(),_E()}}function yE(){if(Kt===1){Kt=0;var r=os,s=Ro,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var c=se.p;se.p=2;var m=We;We|=4;try{JT(s,r);var y=Wm,b=s0(r.containerInfo),C=y.focusedElem,U=y.selectionRange;if(b!==C&&C&&C.ownerDocument&&r0(C.ownerDocument.documentElement,C)){if(U!==null&&Sp(C)){var Q=U.start,re=U.end;if(re===void 0&&(re=Q),"selectionStart"in C)C.selectionStart=Q,C.selectionEnd=Math.min(re,C.value.length);else{var oe=C.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Ce=C.textContent.length,we=Math.min(U.start,Ce),it=U.end===void 0?we:Math.min(U.end,Ce);!Z.extend&&we>it&&(b=it,it=we,we=b);var G=i0(C,we),H=i0(C,it);if(G&&H&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var Y=oe.createRange();Y.setStart(G.node,G.offset),Z.removeAllRanges(),we>it?(Z.addRange(Y),Z.extend(H.node,H.offset)):(Y.setEnd(H.node,H.offset),Z.addRange(Y))}}}}for(oe=[],Z=C;Z=Z.parentNode;)Z.nodeType===1&&oe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<oe.length;C++){var ae=oe[C];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}dh=!!Xm,Wm=Xm=null}finally{We=m,se.p=c,W.T=l}}r.current=s,Kt=2}}function vE(){if(Kt===2){Kt=0;var r=os,s=Ro,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var c=se.p;se.p=2;var m=We;We|=4;try{QT(r,s.alternate,s)}finally{We=m,se.p=c,W.T=l}}Kt=3}}function _E(){if(Kt===4||Kt===3){Kt=0,Qc();var r=os,s=Ro,l=Co,c=aE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kt=5:(Kt=0,Ro=os=null,TE(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(as=null),$a(l),s=s.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(gt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,m=se.p,se.p=2,W.T=null;try{for(var y=r.onRecoverableError,b=0;b<c.length;b++){var C=c[b];y(C.value,{componentStack:C.stack})}}finally{W.T=s,se.p=m}}(Co&3)!==0&&th(),Vi(r),m=r.pendingLanes,(l&4194090)!==0&&(m&42)!==0?r===Vm?Tu++:(Tu=0,Vm=r):Tu=0,Eu(0)}}function TE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,eu(s)))}function th(r){return yE(),vE(),_E(),EE()}function EE(){if(Kt!==5)return!1;var r=os,s=Mm;Mm=0;var l=$a(Co),c=W.T,m=se.p;try{se.p=32>l?32:l,W.T=null,l=km,km=null;var y=os,b=Co;if(Kt=0,Ro=os=null,Co=0,(We&6)!==0)throw Error(i(331));var C=We;if(We|=4,rE(y.current),tE(y,y.current,b,l),We=C,Eu(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(gt,y)}catch{}return!0}finally{se.p=m,W.T=c,TE(r,s)}}function bE(r,s,l){s=Kn(l,s),s=pm(r.stateNode,s,2),r=Wr(r,s,2),r!==null&&(Zi(r,2),Vi(r))}function st(r,s,l){if(r.tag===3)bE(r,r,l);else for(;s!==null;){if(s.tag===3){bE(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(as===null||!as.has(c))){r=Kn(l,r),l=RT(2),c=Wr(s,l,2),c!==null&&(CT(l,c,s,r),Zi(c,2),Vi(c));break}}s=s.return}}function jm(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new tO;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(l)||(Dm=!0,m.add(l),r=aO.bind(null,r,s,l),s.then(r,r))}function aO(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,at===r&&(qe&l)===l&&(vt===4||vt===3&&(qe&62914560)===qe&&300>zn()-Nm?(We&2)===0&&Io(r,0):Om|=l,Ao===qe&&(Ao=0)),Vi(r)}function wE(r,s){s===0&&(s=Dl()),r=uo(r,s),r!==null&&(Zi(r,s),Vi(r))}function oO(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),wE(r,l)}function lO(r,s){var l=0;switch(r.tag){case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),wE(r,l)}function uO(r,s){return zs(r,s)}var nh=null,Do=null,zm=!1,ih=!1,Fm=!1,ba=0;function Vi(r){r!==Do&&r.next===null&&(Do===null?nh=Do=r:Do=Do.next=r),ih=!0,zm||(zm=!0,fO())}function Eu(r,s){if(!Fm&&ih){Fm=!0;do for(var l=!1,c=nh;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var b=c.suspendedLanes,C=c.pingedLanes;y=(1<<31-en(42|r)+1)-1,y&=m&~(b&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,CE(c,y))}else y=qe,y=qa(c,c===at?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ks(c,y)||(l=!0,CE(c,y));c=c.next}while(l);Fm=!1}}function cO(){SE()}function SE(){ih=zm=!1;var r=0;ba!==0&&(_O()&&(r=ba),ba=0);for(var s=zn(),l=null,c=nh;c!==null;){var m=c.next,y=AE(c,s);y===0?(c.next=null,l===null?nh=m:l.next=m,m===null&&(Do=l)):(l=c,(r!==0||(y&3)!==0)&&(ih=!0)),c=m}Eu(r)}function AE(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var b=31-en(y),C=1<<b,U=m[b];U===-1?((C&l)===0||(C&c)!==0)&&(m[b]=Il(C,s)):U<=s&&(r.expiredLanes|=C),y&=~C}if(s=at,l=qe,l=qa(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===s&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Fs(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Ks(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(c!==null&&Fs(c),$a(l)){case 2:case 8:l=Fa;break;case 32:l=Hs;break;case 268435456:l=Ha;break;default:l=Hs}return c=RE.bind(null,r),l=zs(l,c),r.callbackPriority=s,r.callbackNode=l,s}return c!==null&&c!==null&&Fs(c),r.callbackPriority=2,r.callbackNode=null,2}function RE(r,s){if(Kt!==0&&Kt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(th()&&r.callbackNode!==l)return null;var c=qe;return c=qa(r,r===at?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(lE(r,c,s),AE(r,zn()),r.callbackNode!=null&&r.callbackNode===l?RE.bind(null,r):null)}function CE(r,s){if(th())return null;lE(r,s,!0)}function fO(){EO(function(){(We&6)!==0?zs(Rl,cO):SE()})}function Hm(){return ba===0&&(ba=xl()),ba}function IE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Wa(""+r)}function xE(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function hO(r,s,l,c,m){if(s==="submit"&&l&&l.stateNode===m){var y=IE((m[At]||null).action),b=c.submitter;b&&(s=(s=b[At]||null)?IE(s.formAction):b.getAttribute("formAction"),s!==null&&(y=s,b=null));var C=new Za("action","action",null,c,m);r.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ba!==0){var U=b?xE(m,b):new FormData(m);um(l,{pending:!0,data:U,method:m.method,action:y},null,U)}}else typeof y=="function"&&(C.preventDefault(),U=b?xE(m,b):new FormData(m),um(l,{pending:!0,data:U,method:m.method,action:y},y,U))},currentTarget:m}]})}}for(var qm=0;qm<Ip.length;qm++){var $m=Ip[qm],dO=$m.toLowerCase(),pO=$m[0].toUpperCase()+$m.slice(1);ci(dO,"on"+pO)}ci(l0,"onAnimationEnd"),ci(u0,"onAnimationIteration"),ci(c0,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(OD,"onTransitionRun"),ci(PD,"onTransitionStart"),ci(ND,"onTransitionCancel"),ci(f0,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function DE(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],m=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var b=c.length-1;0<=b;b--){var C=c[b],U=C.instance,Q=C.currentTarget;if(C=C.listener,U!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=Q;try{y(m)}catch(re){qf(re)}m.currentTarget=null,y=U}else for(b=0;b<c.length;b++){if(C=c[b],U=C.instance,Q=C.currentTarget,C=C.listener,U!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=Q;try{y(m)}catch(re){qf(re)}m.currentTarget=null,y=U}}}}function Be(r,s){var l=s[Nl];l===void 0&&(l=s[Nl]=new Set);var c=r+"__bubble";l.has(c)||(OE(s,r,2,!1),l.add(c))}function Gm(r,s,l){var c=0;s&&(c|=4),OE(l,r,c,s)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Km(r){if(!r[rh]){r[rh]=!0,Ml.forEach(function(l){l!=="selectionchange"&&(mO.has(l)||Gm(l,!1,r),Gm(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[rh]||(s[rh]=!0,Gm("selectionchange",!1,s))}}function OE(r,s,l,c){switch(tb(s)){case 2:var m=FO;break;case 8:m=HO;break;default:m=og}l=m.bind(null,s,l,r),m=void 0,!$n||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(s,l,{capture:!0,passive:m}):r.addEventListener(s,l,!0):m!==void 0?r.addEventListener(s,l,{passive:m}):r.addEventListener(s,l,!1)}function Ym(r,s,l,c,m){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var C=c.stateNode.containerInfo;if(C===m)break;if(b===4)for(b=c.return;b!==null;){var U=b.tag;if((U===3||U===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;C!==null;){if(b=Ji(C),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){c=y=b;continue e}C=C.parentNode}}c=c.return}af(function(){var Q=y,re=qn(l),oe=[];e:{var X=h0.get(r);if(X!==void 0){var Z=Za,Ce=r;switch(r){case"keypress":if(Ci(l)===0)break e;case"keydown":case"keyup":Z=ro;break;case"focusin":Ce="focus",Z=to;break;case"focusout":Ce="blur",Z=to;break;case"beforeblur":case"afterblur":Z=to;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=pf;break;case l0:case u0:case c0:Z=no;break;case f0:Z=gf;break;case"scroll":case"scrollend":Z=of;break;case"wheel":Z=so;break;case"copy":case"cut":case"paste":Z=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Gl;break;case"toggle":case"beforetoggle":Z=vf}var we=(s&4)!==0,it=!we&&(r==="scroll"||r==="scrollend"),G=we?X!==null?X+"Capture":null:X;we=[];for(var H=Q,Y;H!==null;){var ae=H;if(Y=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Y===null||G===null||(ae=ta(H,G),ae!=null&&we.push(wu(H,ae,Y))),it)break;H=H.return}0<we.length&&(X=new Z(X,Ce,null,l,re),oe.push({event:X,listeners:we}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",X&&l!==ir&&(Ce=l.relatedTarget||l.fromElement)&&(Ji(Ce)||Ce[Fn]))break e;if((Z||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Ce=l.relatedTarget||l.toElement,Z=Q,Ce=Ce?Ji(Ce):null,Ce!==null&&(it=o(Ce),we=Ce.tag,Ce!==it||we!==5&&we!==27&&we!==6)&&(Ce=null)):(Z=null,Ce=Q),Z!==Ce)){if(we=Gn,ae="onMouseLeave",G="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(we=Gl,ae="onPointerLeave",G="onPointerEnter",H="pointer"),it=Z==null?X:wi(Z),Y=Ce==null?X:wi(Ce),X=new we(ae,H+"leave",Z,l,re),X.target=it,X.relatedTarget=Y,ae=null,Ji(re)===Q&&(we=new we(G,H+"enter",Ce,l,re),we.target=Y,we.relatedTarget=it,ae=we),it=ae,Z&&Ce)t:{for(we=Z,G=Ce,H=0,Y=we;Y;Y=Oo(Y))H++;for(Y=0,ae=G;ae;ae=Oo(ae))Y++;for(;0<H-Y;)we=Oo(we),H--;for(;0<Y-H;)G=Oo(G),Y--;for(;H--;){if(we===G||G!==null&&we===G.alternate)break t;we=Oo(we),G=Oo(G)}we=null}else we=null;Z!==null&&PE(oe,X,Z,we,!1),Ce!==null&&it!==null&&PE(oe,it,Ce,we,!0)}}e:{if(X=Q?wi(Q):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var ge=W_;else if(Nt(X))if(Z_)ge=ID;else{ge=RD;var Le=AD}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Bl(Q.elementType)&&(ge=W_):ge=CD;if(ge&&(ge=ge(r,Q))){lr(oe,ge,l,re);break e}Le&&Le(r,X,Q),r==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&Gr(X,"number",X.value)}switch(Le=Q?wi(Q):window,r){case"focusin":(Nt(Le)||Le.contentEditable==="true")&&(ao=Le,Ap=Q,Ql=null);break;case"focusout":Ql=Ap=ao=null;break;case"mousedown":Rp=!0;break;case"contextmenu":case"mouseup":case"dragend":Rp=!1,a0(oe,l,re);break;case"selectionchange":if(DD)break;case"keydown":case"keyup":a0(oe,l,re)}var _e;if(Di)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Fe?ee(r,l)&&(Se="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(E&&l.locale!=="ko"&&(Fe||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Fe&&(_e=zl()):(Ri=re,Kr="value"in Ri?Ri.value:Ri.textContent,Fe=!0)),Le=sh(Q,Se),0<Le.length&&(Se=new ql(Se,r,null,l,re),oe.push({event:Se,listeners:Le}),_e?Se.data=_e:(_e=fe(l),_e!==null&&(Se.data=_e)))),(_e=v?Pt(r,l):He(r,l))&&(Se=sh(Q,"onBeforeInput"),0<Se.length&&(Le=new ql("onBeforeInput","beforeinput",null,l,re),oe.push({event:Le,listeners:Se}),Le.data=_e)),hO(oe,r,Q,l,re)}DE(oe,s)})}function wu(r,s,l){return{instance:r,listener:s,currentTarget:l}}function sh(r,s){for(var l=s+"Capture",c=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=ta(r,l),m!=null&&c.unshift(wu(r,m,y)),m=ta(r,s),m!=null&&c.push(wu(r,m,y))),r.tag===3)return c;r=r.return}return[]}function Oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function PE(r,s,l,c,m){for(var y=s._reactName,b=[];l!==null&&l!==c;){var C=l,U=C.alternate,Q=C.stateNode;if(C=C.tag,U!==null&&U===c)break;C!==5&&C!==26&&C!==27||Q===null||(U=Q,m?(Q=ta(l,y),Q!=null&&b.unshift(wu(l,Q,U))):m||(Q=ta(l,y),Q!=null&&b.push(wu(l,Q,U)))),l=l.return}b.length!==0&&r.push({event:s,listeners:b})}var gO=/\r\n?/g,yO=/\u0000|\uFFFD/g;function NE(r){return(typeof r=="string"?r:""+r).replace(gO,`
`).replace(yO,"")}function ME(r,s){return s=NE(s),NE(r)===s}function ah(){}function nt(r,s,l,c,m,y){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Hn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Hn(r,""+c);break;case"className":Si(r,"class",c);break;case"tabIndex":Si(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(r,l,c);break;case"style":Ul(r,c,y);break;case"data":if(s!=="object"){Si(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Wa(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&nt(r,s,"name",m.name,m,null),nt(r,s,"formEncType",m.formEncType,m,null),nt(r,s,"formMethod",m.formMethod,m,null),nt(r,s,"formTarget",m.formTarget,m,null)):(nt(r,s,"encType",m.encType,m,null),nt(r,s,"method",m.method,m,null),nt(r,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Wa(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=ah);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Wa(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":Be("beforetoggle",r),Be("toggle",r),$r(r,"popover",c);break;case"xlinkActuate":qt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":$r(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vp.get(l)||l,$r(r,l,c))}}function Qm(r,s,l,c,m,y){switch(l){case"style":Ul(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Hn(r,c):(typeof c=="number"||typeof c=="bigint")&&Hn(r,""+c);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"onClick":c!=null&&(r.onclick=ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),y=r[At]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(s,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,c,m);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):$r(r,l,c)}}}function Yt(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var b=l[y];if(b!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:nt(r,s,y,b,l,null)}}m&&nt(r,s,"srcSet",l.srcSet,l,null),c&&nt(r,s,"src",l.src,l,null);return;case"input":Be("invalid",r);var C=y=b=m=null,U=null,Q=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":m=re;break;case"type":b=re;break;case"checked":U=re;break;case"defaultChecked":Q=re;break;case"value":y=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:nt(r,s,c,re,l,null)}}Zs(r,y,C,U,Q,b,m,!1),Xa(r);return;case"select":Be("invalid",r),c=b=y=null;for(m in l)if(l.hasOwnProperty(m)&&(C=l[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":b=C;break;case"multiple":c=C;default:nt(r,s,m,C,l,null)}s=y,l=b,r.multiple=!!c,s!=null?nr(r,!!c,s,!1):l!=null&&nr(r,!!c,l,!0);return;case"textarea":Be("invalid",r),y=m=c=null;for(b in l)if(l.hasOwnProperty(b)&&(C=l[b],C!=null))switch(b){case"value":c=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:nt(r,s,b,C,l,null)}Js(r,c,m,y),Xa(r);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(c=l[U],c!=null))switch(U){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:nt(r,s,U,c,l,null)}return;case"dialog":Be("beforetoggle",r),Be("toggle",r),Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(c=0;c<bu.length;c++)Be(bu[c],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(c=l[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:nt(r,s,Q,c,l,null)}return;default:if(Bl(s)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&Qm(r,s,re,c,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(c=l[C],c!=null&&nt(r,s,C,c,l,null))}function vO(r,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,b=null,C=null,U=null,Q=null,re=null;for(Z in l){var oe=l[Z];if(l.hasOwnProperty(Z)&&oe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":U=oe;default:c.hasOwnProperty(Z)||nt(r,s,Z,null,c,oe)}}for(var X in c){var Z=c[X];if(oe=l[X],c.hasOwnProperty(X)&&(Z!=null||oe!=null))switch(X){case"type":y=Z;break;case"name":m=Z;break;case"checked":Q=Z;break;case"defaultChecked":re=Z;break;case"value":b=Z;break;case"defaultValue":C=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==oe&&nt(r,s,X,Z,c,oe)}}Cn(r,b,C,U,Q,re,y,m);return;case"select":Z=b=C=X=null;for(y in l)if(U=l[y],l.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":Z=U;default:c.hasOwnProperty(y)||nt(r,s,y,null,c,U)}for(m in c)if(y=c[m],U=l[m],c.hasOwnProperty(m)&&(y!=null||U!=null))switch(m){case"value":X=y;break;case"defaultValue":C=y;break;case"multiple":b=y;default:y!==U&&nt(r,s,m,y,c,U)}s=C,l=b,c=Z,X!=null?nr(r,!!l,X,!1):!!c!=!!l&&(s!=null?nr(r,!!l,s,!0):nr(r,!!l,l?[]:"",!1));return;case"textarea":Z=X=null;for(C in l)if(m=l[C],l.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:nt(r,s,C,null,c,m)}for(b in c)if(m=c[b],y=l[b],c.hasOwnProperty(b)&&(m!=null||y!=null))switch(b){case"value":X=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&nt(r,s,b,m,c,y)}et(r,X,Z);return;case"option":for(var Ce in l)if(X=l[Ce],l.hasOwnProperty(Ce)&&X!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:nt(r,s,Ce,null,c,X)}for(U in c)if(X=c[U],Z=l[U],c.hasOwnProperty(U)&&X!==Z&&(X!=null||Z!=null))switch(U){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:nt(r,s,U,X,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in l)X=l[we],l.hasOwnProperty(we)&&X!=null&&!c.hasOwnProperty(we)&&nt(r,s,we,null,c,X);for(Q in c)if(X=c[Q],Z=l[Q],c.hasOwnProperty(Q)&&X!==Z&&(X!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:nt(r,s,Q,X,c,Z)}return;default:if(Bl(s)){for(var it in l)X=l[it],l.hasOwnProperty(it)&&X!==void 0&&!c.hasOwnProperty(it)&&Qm(r,s,it,void 0,c,X);for(re in c)X=c[re],Z=l[re],!c.hasOwnProperty(re)||X===Z||X===void 0&&Z===void 0||Qm(r,s,re,X,c,Z);return}}for(var G in l)X=l[G],l.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&nt(r,s,G,null,c,X);for(oe in c)X=c[oe],Z=l[oe],!c.hasOwnProperty(oe)||X===Z||X==null&&Z==null||nt(r,s,oe,X,c,Z)}var Xm=null,Wm=null;function oh(r){return r.nodeType===9?r:r.ownerDocument}function kE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Zm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jm=null;function _O(){var r=window.event;return r&&r.type==="popstate"?r===Jm?!1:(Jm=r,!0):(Jm=null,!1)}var LE=typeof setTimeout=="function"?setTimeout:void 0,TO=typeof clearTimeout=="function"?clearTimeout:void 0,UE=typeof Promise=="function"?Promise:void 0,EO=typeof queueMicrotask=="function"?queueMicrotask:typeof UE<"u"?function(r){return UE.resolve(null).then(r).catch(bO)}:LE;function bO(r){setTimeout(function(){throw r})}function us(r){return r==="head"}function BE(r,s){var l=s,c=0,m=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var b=r.ownerDocument;if(l&1&&Su(b.documentElement),l&2&&Su(b.body),l&4)for(l=b.head,Su(l),b=l.firstChild;b;){var C=b.nextSibling,U=b.nodeName;b[Ys]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=C}}if(m===0){r.removeChild(y),Pu(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Pu(s)}function eg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":eg(l),qr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function wO(r,s,l,c){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ys])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=hi(r.nextSibling),r===null)break}return null}function SO(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=hi(r.nextSibling),r===null))return null;return r}function tg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function AO(r,s){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function hi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var ng=null;function jE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}function zE(r,s,l){switch(s=oh(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Su(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);qr(r)}var Jn=new Map,FE=new Set;function lh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Er=se.d;se.d={f:RO,r:CO,D:IO,C:xO,L:DO,m:OO,X:NO,S:PO,M:MO};function RO(){var r=Er.f(),s=Jf();return r||s}function CO(r){var s=bi(r);s!==null&&s.tag===5&&s.type==="form"?lT(s):Er.r(r)}var Po=typeof document>"u"?null:document;function HE(r,s,l){var c=Po;if(c&&typeof s=="string"&&s){var m=Rt(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),FE.has(m)||(FE.add(m),r={rel:r,crossOrigin:l,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Yt(s,"link",r),Tt(s),c.head.appendChild(s)))}}function IO(r){Er.D(r),HE("dns-prefetch",r,null)}function xO(r,s){Er.C(r,s),HE("preconnect",r,s)}function DO(r,s,l){Er.L(r,s,l);var c=Po;if(c&&r&&s){var m='link[rel="preload"][as="'+Rt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Rt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Rt(l.imageSizes)+'"]')):m+='[href="'+Rt(r)+'"]';var y=m;switch(s){case"style":y=No(r);break;case"script":y=Mo(r)}Jn.has(y)||(r=g({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),Jn.set(y,r),c.querySelector(m)!==null||s==="style"&&c.querySelector(Au(y))||s==="script"&&c.querySelector(Ru(y))||(s=c.createElement("link"),Yt(s,"link",r),Tt(s),c.head.appendChild(s)))}}function OO(r,s){Er.m(r,s);var l=Po;if(l&&r){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Rt(c)+'"][href="'+Rt(r)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Mo(r)}if(!Jn.has(y)&&(r=g({rel:"modulepreload",href:r},s),Jn.set(y,r),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ru(y)))return}c=l.createElement("link"),Yt(c,"link",r),Tt(c),l.head.appendChild(c)}}}function PO(r,s,l){Er.S(r,s,l);var c=Po;if(c&&r){var m=fn(c).hoistableStyles,y=No(r);s=s||"default";var b=m.get(y);if(!b){var C={loading:0,preload:null};if(b=c.querySelector(Au(y)))C.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":s},l),(l=Jn.get(y))&&ig(r,l);var U=b=c.createElement("link");Tt(U),Yt(U,"link",r),U._p=new Promise(function(Q,re){U.onload=Q,U.onerror=re}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,uh(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:C},m.set(y,b)}}}function NO(r,s){Er.X(r,s);var l=Po;if(l&&r){var c=fn(l).hoistableScripts,m=Mo(r),y=c.get(m);y||(y=l.querySelector(Ru(m)),y||(r=g({src:r,async:!0},s),(s=Jn.get(m))&&rg(r,s),y=l.createElement("script"),Tt(y),Yt(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function MO(r,s){Er.M(r,s);var l=Po;if(l&&r){var c=fn(l).hoistableScripts,m=Mo(r),y=c.get(m);y||(y=l.querySelector(Ru(m)),y||(r=g({src:r,async:!0,type:"module"},s),(s=Jn.get(m))&&rg(r,s),y=l.createElement("script"),Tt(y),Yt(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function qE(r,s,l,c){var m=(m=he.current)?lh(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=No(l.href),l=fn(m).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=No(l.href);var y=fn(m).hoistableStyles,b=y.get(r);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,b),(y=m.querySelector(Au(r)))&&!y._p&&(b.instance=y,b.state.loading=5),Jn.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jn.set(r,l),y||kO(m,r,l,b.state))),s&&c===null)throw Error(i(528,""));return b}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Mo(l),l=fn(m).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function No(r){return'href="'+Rt(r)+'"'}function Au(r){return'link[rel="stylesheet"]['+r+"]"}function $E(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function kO(r,s,l,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Yt(s,"link",l),Tt(s),r.head.appendChild(s))}function Mo(r){return'[src="'+Rt(r)+'"]'}function Ru(r){return"script[async]"+r}function GE(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Rt(l.href)+'"]');if(c)return s.instance=c,Tt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Tt(c),Yt(c,"style",m),uh(c,l.precedence,r),s.instance=c;case"stylesheet":m=No(l.href);var y=r.querySelector(Au(m));if(y)return s.state.loading|=4,s.instance=y,Tt(y),y;c=$E(l),(m=Jn.get(m))&&ig(c,m),y=(r.ownerDocument||r).createElement("link"),Tt(y);var b=y;return b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),Yt(y,"link",c),s.state.loading|=4,uh(y,l.precedence,r),s.instance=y;case"script":return y=Mo(l.src),(m=r.querySelector(Ru(y)))?(s.instance=m,Tt(m),m):(c=l,(m=Jn.get(y))&&(c=g({},l),rg(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),Tt(m),Yt(m,"link",c),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,uh(c,l.precedence,r));return s.instance}function uh(r,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,b=0;b<c.length;b++){var C=c[b];if(C.dataset.precedence===s)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function ig(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function rg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var ch=null;function KE(r,s,l){if(ch===null){var c=new Map,m=ch=new Map;m.set(l,c)}else m=ch,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var y=l[m];if(!(y[Ys]||y[Ot]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(s)||"";b=r+b;var C=c.get(b);C?C.push(y):c.set(b,[y])}}return c}function YE(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function VO(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function QE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Cu=null;function LO(){}function UO(r,s,l){if(Cu===null)throw Error(i(475));var c=Cu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=No(l.href),y=r.querySelector(Au(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=fh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,Tt(y);return}y=r.ownerDocument||r,l=$E(l),(m=Jn.get(m))&&ig(l,m),y=y.createElement("link"),Tt(y);var b=y;b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),Yt(y,"link",l),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=fh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function BO(){if(Cu===null)throw Error(i(475));var r=Cu;return r.stylesheets&&r.count===0&&sg(r,r.stylesheets),0<r.count?function(s){var l=setTimeout(function(){if(r.stylesheets&&sg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(l)}}:null}function fh(){if(this.count--,this.count===0){if(this.stylesheets)sg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var hh=null;function sg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,hh=new Map,s.forEach(jO,r),hh=null,fh.call(r))}function jO(r,s){if(!(s.state.loading&4)){var l=hh.get(r);if(l)var c=l.get(null);else{l=new Map,hh.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var b=m[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}m=s.instance,b=m.getAttribute("data-precedence"),y=l.get(b)||c,y===c&&l.set(null,m),l.set(b,m),this.count++,c=fh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var Iu={$$typeof:z,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function zO(r,s,l,c,m,y,b,C){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function XE(r,s,l,c,m,y,b,C,U,Q,re,oe){return r=new zO(r,s,l,b,C,U,Q,oe),s=1,y===!0&&(s|=24),y=xn(3,null,null,s),r.current=y,y.stateNode=r,s=jp(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:s},qp(y),r}function WE(r){return r?(r=co,r):co}function ZE(r,s,l,c,m,y){m=WE(m),c.context===null?c.context=m:c.pendingContext=m,c=Xr(s),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Wr(r,c,s),l!==null&&(Mn(l,r,s),ru(l,r,s))}function JE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function ag(r,s){JE(r,s),(r=r.alternate)&&JE(r,s)}function eb(r){if(r.tag===13){var s=uo(r,67108864);s!==null&&Mn(s,r,67108864),ag(r,67108864)}}var dh=!0;function FO(r,s,l,c){var m=W.T;W.T=null;var y=se.p;try{se.p=2,og(r,s,l,c)}finally{se.p=y,W.T=m}}function HO(r,s,l,c){var m=W.T;W.T=null;var y=se.p;try{se.p=8,og(r,s,l,c)}finally{se.p=y,W.T=m}}function og(r,s,l,c){if(dh){var m=lg(c);if(m===null)Ym(r,s,c,ph,l),nb(r,c);else if($O(m,r,s,l,c))c.stopPropagation();else if(nb(r,c),s&4&&-1<qO.indexOf(r)){for(;m!==null;){var y=bi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=oi(y.pendingLanes);if(b!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var U=1<<31-en(b);C.entanglements[1]|=U,b&=~U}Vi(y),(We&6)===0&&(Wf=zn()+500,Eu(0))}}break;case 13:C=uo(y,2),C!==null&&Mn(C,y,2),Jf(),ag(y,2)}if(y=lg(c),y===null&&Ym(r,s,c,ph,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Ym(r,s,c,null,l)}}function lg(r){return r=qn(r),ug(r)}var ph=null;function ug(r){if(ph=null,r=Ji(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=u(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return ph=r,null}function tb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hp()){case Rl:return 2;case Fa:return 8;case Hs:case dp:return 32;case Ha:return 268435456;default:return 32}default:return 32}}var cg=!1,cs=null,fs=null,hs=null,xu=new Map,Du=new Map,ds=[],qO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nb(r,s){switch(r){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":xu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(s.pointerId)}}function Ou(r,s,l,c,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},s!==null&&(s=bi(s),s!==null&&eb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function $O(r,s,l,c,m){switch(s){case"focusin":return cs=Ou(cs,r,s,l,c,m),!0;case"dragenter":return fs=Ou(fs,r,s,l,c,m),!0;case"mouseover":return hs=Ou(hs,r,s,l,c,m),!0;case"pointerover":var y=m.pointerId;return xu.set(y,Ou(xu.get(y)||null,r,s,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Du.set(y,Ou(Du.get(y)||null,r,s,l,c,m)),!0}return!1}function ib(r){var s=Ji(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){r.blockedOn=s,Zc(r.priority,function(){if(l.tag===13){var c=Nn();c=zr(c);var m=uo(l,c);m!==null&&Mn(m,l,c),ag(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function mh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=lg(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);ir=c,l.target.dispatchEvent(c),ir=null}else return s=bi(l),s!==null&&eb(s),r.blockedOn=l,!1;s.shift()}return!0}function rb(r,s,l){mh(r)&&l.delete(s)}function GO(){cg=!1,cs!==null&&mh(cs)&&(cs=null),fs!==null&&mh(fs)&&(fs=null),hs!==null&&mh(hs)&&(hs=null),xu.forEach(rb),Du.forEach(rb)}function gh(r,s){r.blockedOn===s&&(r.blockedOn=null,cg||(cg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,GO)))}var yh=null;function sb(r){yh!==r&&(yh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){yh===r&&(yh=null);for(var s=0;s<r.length;s+=3){var l=r[s],c=r[s+1],m=r[s+2];if(typeof c!="function"){if(ug(c||l)===null)continue;break}var y=bi(l);y!==null&&(r.splice(s,3),s-=3,um(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Pu(r){function s(U){return gh(U,r)}cs!==null&&gh(cs,r),fs!==null&&gh(fs,r),hs!==null&&gh(hs,r),xu.forEach(s),Du.forEach(s);for(var l=0;l<ds.length;l++){var c=ds[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ds.length&&(l=ds[0],l.blockedOn===null);)ib(l),l.blockedOn===null&&ds.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],b=m[At]||null;if(typeof y=="function")b||sb(l);else if(b){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,b=y[At]||null)C=b.formAction;else if(ug(m)!==null)continue}else C=b.action;typeof C=="function"?l[c+1]=C:(l.splice(c,3),c-=3),sb(l)}}}function fg(r){this._internalRoot=r}vh.prototype.render=fg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=Nn();ZE(l,c,r,s,null,null)},vh.prototype.unmount=fg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ZE(r.current,2,null,r,null,null),Jf(),s[Fn]=null}};function vh(r){this._internalRoot=r}vh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Fr();r={blockedOn:null,target:r,priority:s};for(var l=0;l<ds.length&&s!==0&&s<ds[l].priority;l++);ds.splice(l,0,r),l===0&&ib(r)}};var ab=e.version;if(ab!=="19.1.0")throw Error(i(527,ab,"19.1.0"));se.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var KO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{gt=_h.inject(KO),Xe=_h}catch{}}return Nu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,c="",m=bT,y=wT,b=ST,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=XE(r,1,!1,null,null,l,c,m,y,b,C,null),r[Fn]=s.current,Km(r),new fg(s)},Nu.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var c=!1,m="",y=bT,b=wT,C=ST,U=null,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(Q=l.formState)),s=XE(r,1,!0,s,l??null,c,m,y,b,C,U,Q),s.context=WE(null),l=s.current,c=Nn(),c=zr(c),m=Xr(c),m.callback=null,Wr(l,m,c),l=c,s.current.lanes=l,Zi(s,l),Vi(s),r[Fn]=s.current,Km(r),new vh(s)},Nu.version="19.1.0",Nu}var pb;function tP(){if(pb)return dg.exports;pb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dg.exports=eP(),dg.exports}var nP=tP();const iP=iv(nP);var Mu={},mb;function rP(){if(mb)return Mu;mb=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.parse=u,Mu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,S){const R=new o,P=T.length;if(P<2)return R;const I=(S==null?void 0:S.decode)||g;let L=0;do{const $=T.indexOf("=",L);if($===-1)break;const z=T.indexOf(";",L),ie=z===-1?P:z;if($>ie){L=T.lastIndexOf(";",$-1)+1;continue}const F=f(T,L,$),J=h(T,$,F),M=T.slice(F,J);if(R[M]===void 0){let A=f(T,$+1,ie),D=h(T,ie,A);const k=I(T.slice(A,D));R[M]=k}L=ie+1}while(L<P);return R}function f(T,S,R){do{const P=T.charCodeAt(S);if(P!==32&&P!==9)return S}while(++S<R);return R}function h(T,S,R){for(;S>R;){const P=T.charCodeAt(--S);if(P!==32&&P!==9)return S+1}return R}function p(T,S,R){const P=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const I=P(S);if(!e.test(I))throw new TypeError(`argument val is invalid: ${S}`);let L=T+"="+I;if(!R)return L;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);L+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);L+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);L+="; Path="+R.path}if(R.expires){if(!_(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);L+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(L+="; HttpOnly"),R.secure&&(L+="; Secure"),R.partitioned&&(L+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return L}function g(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return a.call(T)==="[object Date]"}return Mu}rP();var gb="popstate";function sP(n={}){function e(i,a){let{pathname:o,search:u,hash:f}=i.location;return iy("",{pathname:o,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:oc(a)}return oP(e,t,null,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aP(){return Math.random().toString(36).substring(2,10)}function yb(n,e){return{usr:n.state,key:n.key,idx:e}}function iy(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:t,key:e&&e.key||i||aP()}}function oc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function oP(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,f="POP",h=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function _(){f="POP";let I=g(),L=I==null?null:I-p;p=I,h&&h({action:f,location:P.location,delta:L})}function T(I,L){f="PUSH";let $=iy(P.location,I,L);p=g()+1;let z=yb($,p),ie=P.createHref($);try{u.pushState(z,"",ie)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(ie)}o&&h&&h({action:f,location:P.location,delta:1})}function S(I,L){f="REPLACE";let $=iy(P.location,I,L);p=g();let z=yb($,p),ie=P.createHref($);u.replaceState(z,"",ie),o&&h&&h({action:f,location:P.location,delta:0})}function R(I){let L=a.location.origin!=="null"?a.location.origin:a.location.href,$=typeof I=="string"?I:oc(I);return $=$.replace(/ $/,"%20"),pt(L,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,L)}let P={get action(){return f},get location(){return n(a,u)},listen(I){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(gb,_),h=I,()=>{a.removeEventListener(gb,_),h=null}},createHref(I){return e(a,I)},createURL:R,encodeLocation(I){let L=R(I);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:S,go(I){return u.go(I)}};return P}function iR(n,e,t="/"){return lP(n,e,t,!1)}function lP(n,e,t,i){let a=typeof e=="string"?fl(e):e,o=Dr(a.pathname||"/",t);if(o==null)return null;let u=rR(n);uP(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let p=TP(o);f=vP(u[h],p,i)}return f}function rR(n,e=[],t=[],i=""){let a=(o,u,f)=>{let h={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(pt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=Rr([i,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(pt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rR(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:gP(p,o.index),routesMeta:g})};return n.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))a(o,u);else for(let h of sR(o.path))a(o,u,h)}),e}function sR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=sR(i.join("/")),f=[];return f.push(...u.map(h=>h===""?o:[o,h].join("/"))),a&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function uP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yP(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var cP=/^:[\w-]+$/,fP=3,hP=2,dP=1,pP=10,mP=-2,vb=n=>n==="*";function gP(n,e){let t=n.split("/"),i=t.length;return t.some(vb)&&(i+=mP),e&&(i+=hP),t.filter(a=>!vb(a)).reduce((a,o)=>a+(cP.test(o)?fP:o===""?dP:pP),i)}function yP(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function vP(n,e,t=!1){let{routesMeta:i}=n,a={},o="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],p=f===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Yh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),T=h.route;if(!_&&p&&t&&!i[i.length-1].route.index&&(_=Yh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Rr([o,_.pathname]),pathnameBase:SP(Rr([o,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(o=Rr([o,_.pathnameBase]))}return u}function Yh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=_P(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:_},T)=>{if(g==="*"){let R=f[T]||"";u=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const S=f[T];return _&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function _P(n,e=!1,t=!0){Ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function TP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Dr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function EP(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?fl(n):n;return{pathname:t?t.startsWith("/")?t:bP(t,e):e,search:AP(i),hash:RP(a)}}function bP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function yg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function aR(n){let e=wP(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function oR(n,e,t,i=!1){let a;typeof n=="string"?a=fl(n):(a={...n},pt(!a.pathname||!a.pathname.includes("?"),yg("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),yg("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),yg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,f;if(u==null)f=t;else{let _=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}f=_>=0?e[_]:"/"}let h=EP(a,f),p=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Rr=n=>n.join("/").replace(/\/\/+/g,"/"),SP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,RP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function CP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var lR=["POST","PUT","PATCH","DELETE"];new Set(lR);var IP=["GET",...lR];new Set(IP);var hl=B.createContext(null);hl.displayName="DataRouter";var xd=B.createContext(null);xd.displayName="DataRouterState";var uR=B.createContext({isTransitioning:!1});uR.displayName="ViewTransition";var xP=B.createContext(new Map);xP.displayName="Fetchers";var DP=B.createContext(null);DP.displayName="Await";var Qi=B.createContext(null);Qi.displayName="Navigation";var Dc=B.createContext(null);Dc.displayName="Location";var Ur=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var sv=B.createContext(null);sv.displayName="RouteError";function OP(n,{relative:e}={}){pt(Oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(Qi),{hash:a,pathname:o,search:u}=Pc(n,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:Rr([t,o])),i.createHref({pathname:f,search:u,hash:a})}function Oc(){return B.useContext(Dc)!=null}function Ps(){return pt(Oc(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Dc).location}var cR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fR(n){B.useContext(Qi).static||B.useLayoutEffect(n)}function dl(){let{isDataRoute:n}=B.useContext(Ur);return n?qP():PP()}function PP(){pt(Oc(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(hl),{basename:e,navigator:t}=B.useContext(Qi),{matches:i}=B.useContext(Ur),{pathname:a}=Ps(),o=JSON.stringify(aR(i)),u=B.useRef(!1);return fR(()=>{u.current=!0}),B.useCallback((h,p={})=>{if(Ki(u.current,cR),!u.current)return;if(typeof h=="number"){t.go(h);return}let g=oR(h,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Rr([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,a,n])}B.createContext(null);function Pc(n,{relative:e}={}){let{matches:t}=B.useContext(Ur),{pathname:i}=Ps(),a=JSON.stringify(aR(t));return B.useMemo(()=>oR(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function NP(n,e){return hR(n,e)}function hR(n,e,t,i){var $;pt(Oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=B.useContext(Qi),{matches:u}=B.useContext(Ur),f=u[u.length-1],h=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",_=f&&f.route;{let z=_&&_.path||"";dR(p,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let T=Ps(),S;if(e){let z=typeof e=="string"?fl(e):e;pt(g==="/"||(($=z.pathname)==null?void 0:$.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=T;let R=S.pathname||"/",P=R;if(g!=="/"){let z=g.replace(/^\//,"").split("/");P="/"+R.replace(/^\//,"").split("/").slice(z.length).join("/")}let I=!o&&t&&t.matches&&t.matches.length>0?t.matches:iR(n,{pathname:P});Ki(_||I!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ki(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=UP(I&&I.map(z=>Object.assign({},z,{params:Object.assign({},h,z.params),pathname:Rr([g,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:Rr([g,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),u,t,i);return e&&L?B.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function MP(){let n=HP(),e=CP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:a},t):null,u)}var kP=B.createElement(MP,null),VP=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Ur.Provider,{value:this.props.routeContext},B.createElement(sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LP({routeContext:n,match:e,children:t}){let i=B.useContext(hl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ur.Provider,{value:n},t)}function UP(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);pt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:_}=t,T=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||T){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let _,T=!1,S=null,R=null;t&&(_=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||kP,u&&(f<0&&g===0?(dR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,R=null):f===g&&(T=!0,R=p.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,g+1)),I=()=>{let L;return _?L=S:T?L=R:p.route.Component?L=B.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=h,B.createElement(LP,{match:p,routeContext:{outlet:h,matches:P,isDataRoute:t!=null},children:L})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?B.createElement(VP,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:I(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):I()},null)}function av(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BP(n){let e=B.useContext(hl);return pt(e,av(n)),e}function jP(n){let e=B.useContext(xd);return pt(e,av(n)),e}function zP(n){let e=B.useContext(Ur);return pt(e,av(n)),e}function ov(n){let e=zP(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function FP(){return ov("useRouteId")}function HP(){var i;let n=B.useContext(sv),e=jP("useRouteError"),t=ov("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function qP(){let{router:n}=BP("useNavigate"),e=ov("useNavigate"),t=B.useRef(!1);return fR(()=>{t.current=!0}),B.useCallback(async(a,o={})=>{Ki(t.current,cR),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var _b={};function dR(n,e,t){!e&&!_b[n]&&(_b[n]=!0,Ki(!1,t))}B.memo($P);function $P({routes:n,future:e,state:t}){return hR(n,void 0,t,e)}function Li(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GP({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1}){pt(!Oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=fl(t));let{pathname:h="/",search:p="",hash:g="",state:_=null,key:T="default"}=t,S=B.useMemo(()=>{let R=Dr(h,u);return R==null?null:{location:{pathname:R,search:p,hash:g,state:_,key:T},navigationType:i}},[u,h,p,g,_,T,i]);return Ki(S!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:B.createElement(Qi.Provider,{value:f},B.createElement(Dc.Provider,{children:e,value:S}))}function KP({children:n,location:e}){return NP(ry(n),e)}function ry(n,e=[]){let t=[];return B.Children.forEach(n,(i,a)=>{if(!B.isValidElement(i))return;let o=[...e,a];if(i.type===B.Fragment){t.push.apply(t,ry(i.props.children,o));return}pt(i.type===Li,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=ry(i.props.children,o)),t.push(u)}),t}var Ph="get",Nh="application/x-www-form-urlencoded";function Dd(n){return n!=null&&typeof n.tagName=="string"}function YP(n){return Dd(n)&&n.tagName.toLowerCase()==="button"}function QP(n){return Dd(n)&&n.tagName.toLowerCase()==="form"}function XP(n){return Dd(n)&&n.tagName.toLowerCase()==="input"}function WP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZP(n,e){return n.button===0&&(!e||e==="_self")&&!WP(n)}var Th=null;function JP(){if(Th===null)try{new FormData(document.createElement("form"),0),Th=!1}catch{Th=!0}return Th}var eN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(n){return n!=null&&!eN.has(n)?(Ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):n}function tN(n,e){let t,i,a,o,u;if(QP(n)){let f=n.getAttribute("action");i=f?Dr(f,e):null,t=n.getAttribute("method")||Ph,a=vg(n.getAttribute("enctype"))||Nh,o=new FormData(n)}else if(YP(n)||XP(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(i=h?Dr(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Ph,a=vg(n.getAttribute("formenctype"))||vg(f.getAttribute("enctype"))||Nh,o=new FormData(f,n),!JP()){let{name:p,type:g,value:_}=n;if(g==="image"){let T=p?`${p}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else p&&o.append(p,_)}}else{if(Dd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ph,i=null,a=Nh,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:u}}function lv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function nN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function rN(n,e,t){let i=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await nN(o,t);return u.links?u.links():[]}return[]}));return lN(i.flat(1).filter(iN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Tb(n,e,t,i,a,o){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,f=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>u(h,p)||f(h,p)):o==="data"?e.filter((h,p)=>{var _;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let T=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function sN(n,e,{includeHydrateFallback:t}={}){return aN(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function aN(n){return[...new Set(n)]}function oN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function lN(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let o=JSON.stringify(oN(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}var uN=new Set([100,101,204,205]);function cN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Dr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function pR(){let n=B.useContext(hl);return lv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function fN(){let n=B.useContext(xd);return lv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var uv=B.createContext(void 0);uv.displayName="FrameworkContext";function mR(){let n=B.useContext(uv);return lv(n,"You must render this element inside a <HydratedRouter> element"),n}function hN(n,e){let t=B.useContext(uv),[i,a]=B.useState(!1),[o,u]=B.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,T=B.useRef(null);B.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=L=>{L.forEach($=>{u($.isIntersecting)})},I=new IntersectionObserver(P,{threshold:.5});return T.current&&I.observe(T.current),()=>{I.disconnect()}}},[n]),B.useEffect(()=>{if(i){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[i]);let S=()=>{a(!0)},R=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,T,{}]:[o,T,{onFocus:ku(f,S),onBlur:ku(h,R),onMouseEnter:ku(p,S),onMouseLeave:ku(g,R),onTouchStart:ku(_,S)}]:[!1,T,{}]}function ku(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function dN({page:n,...e}){let{router:t}=pR(),i=B.useMemo(()=>iR(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(mN,{page:n,matches:i,...e}):null}function pN(n){let{manifest:e,routeModules:t}=mR(),[i,a]=B.useState([]);return B.useEffect(()=>{let o=!1;return rN(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),i}function mN({page:n,matches:e,...t}){let i=Ps(),{manifest:a,routeModules:o}=mR(),{basename:u}=pR(),{loaderData:f,matches:h}=fN(),p=B.useMemo(()=>Tb(n,e,h,a,i,"data"),[n,e,h,a,i]),g=B.useMemo(()=>Tb(n,e,h,a,i,"assets"),[n,e,h,a,i]),_=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,P=!1;if(e.forEach(L=>{var z;let $=a.routes[L.route.id];!$||!$.hasLoader||(!p.some(ie=>ie.route.id===L.route.id)&&L.route.id in f&&((z=o[L.route.id])!=null&&z.shouldRevalidate)||$.hasClientLoader?P=!0:R.add(L.route.id))}),R.size===0)return[];let I=cN(n,u);return P&&R.size>0&&I.searchParams.set("_routes",e.filter(L=>R.has(L.route.id)).map(L=>L.route.id).join(",")),[I.pathname+I.search]},[u,f,i,a,p,e,n,o]),T=B.useMemo(()=>sN(g,a),[g,a]),S=pN(g);return B.createElement(B.Fragment,null,_.map(R=>B.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),T.map(R=>B.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),S.map(({key:R,link:P})=>B.createElement("link",{key:R,...P})))}function gN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gR&&(window.__reactRouterVersion="7.5.3")}catch{}function yN({basename:n,children:e,window:t}){let i=B.useRef();i.current==null&&(i.current=sP({window:t,v5Compat:!0}));let a=i.current,[o,u]=B.useState({action:a.action,location:a.location}),f=B.useCallback(h=>{B.startTransition(()=>u(h))},[u]);return B.useLayoutEffect(()=>a.listen(f),[a,f]),B.createElement(GP,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var yR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vR=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:f,target:h,to:p,preventScrollReset:g,viewTransition:_,...T},S){let{basename:R}=B.useContext(Qi),P=typeof p=="string"&&yR.test(p),I,L=!1;if(typeof p=="string"&&P&&(I=p,gR))try{let D=new URL(window.location.href),k=p.startsWith("//")?new URL(D.protocol+p):new URL(p),V=Dr(k.pathname,R);k.origin===D.origin&&V!=null?p=V+k.search+k.hash:L=!0}catch{Ki(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=OP(p,{relative:a}),[z,ie,F]=hN(i,T),J=EN(p,{replace:u,state:f,target:h,preventScrollReset:g,relative:a,viewTransition:_});function M(D){e&&e(D),D.defaultPrevented||J(D)}let A=B.createElement("a",{...T,...F,href:I||$,onClick:L||o?e:M,ref:gN(S,ie),target:h,"data-discover":!P&&t==="render"?"true":void 0});return z&&!P?B.createElement(B.Fragment,null,A,B.createElement(dN,{page:$})):A});vR.displayName="Link";var vN=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:f,children:h,...p},g){let _=Pc(u,{relative:p.relative}),T=Ps(),S=B.useContext(xd),{navigator:R,basename:P}=B.useContext(Qi),I=S!=null&&RN(_)&&f===!0,L=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,$=T.pathname,z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||($=$.toLowerCase(),z=z?z.toLowerCase():null,L=L.toLowerCase()),z&&P&&(z=Dr(z,P)||z);const ie=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let F=$===L||!a&&$.startsWith(L)&&$.charAt(ie)==="/",J=z!=null&&(z===L||!a&&z.startsWith(L)&&z.charAt(L.length)==="/"),M={isActive:F,isPending:J,isTransitioning:I},A=F?e:void 0,D;typeof i=="function"?D=i(M):D=[i,F?"active":null,J?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(M):o;return B.createElement(vR,{...p,"aria-current":A,className:D,ref:g,style:k,to:u,viewTransition:f},typeof h=="function"?h(M):h)});vN.displayName="NavLink";var _N=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:u=Ph,action:f,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:_,...T},S)=>{let R=SN(),P=AN(f,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&yR.test(f),$=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let ie=z.nativeEvent.submitter,F=(ie==null?void 0:ie.getAttribute("formmethod"))||u;R(ie||z.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:_})};return B.createElement("form",{ref:S,method:I,action:P,onSubmit:i?h:$,...T,"data-discover":!L&&n==="render"?"true":void 0})});_N.displayName="Form";function TN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(n){let e=B.useContext(hl);return pt(e,TN(n)),e}function EN(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:u}={}){let f=dl(),h=Ps(),p=Pc(n,{relative:o});return B.useCallback(g=>{if(ZP(g,e)){g.preventDefault();let _=t!==void 0?t:oc(h)===oc(p);f(n,{replace:_,state:i,preventScrollReset:a,relative:o,viewTransition:u})}},[h,f,p,t,i,e,n,a,o,u])}var bN=0,wN=()=>`__${String(++bN)}__`;function SN(){let{router:n}=_R("useSubmit"),{basename:e}=B.useContext(Qi),t=FP();return B.useCallback(async(i,a={})=>{let{action:o,method:u,encType:f,formData:h,body:p}=tN(i,e);if(a.navigate===!1){let g=a.fetcherKey||wN();await n.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function AN(n,{relative:e}={}){let{basename:t}=B.useContext(Qi),i=B.useContext(Ur);pt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Pc(n||".",{relative:e})},u=Ps();if(n==null){o.search=u.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(_=>_).forEach(_=>f.append("index",_));let g=f.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Rr([t,o.pathname])),oc(o)}function RN(n,e={}){let t=B.useContext(uR);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_R("useViewTransitionState"),a=Pc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Dr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Dr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Yh(a.pathname,u)!=null||Yh(a.pathname,o)!=null}new TextEncoder;[...uN];var _g,Eb;function CN(){return Eb||(Eb=1,_g={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),_g}var IN=CN();const xN=iv(IN);var DN=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function bb(n){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=n.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(e.name=t[1],(xN[t[1]]||n.charAt(n.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var i=n.indexOf("-->");return{type:"comment",comment:i!==-1?n.slice(4,i):""}}for(var a=new RegExp(DN),o=null;(o=a.exec(n))!==null;)if(o[0].trim())if(o[1]){var u=o[1].trim(),f=[u,""];u.indexOf("=")>-1&&(f=u.split("=")),e.attrs[f[0]]=f[1],a.lastIndex--}else o[2]&&(e.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return e}var ON=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,PN=/^\s*$/,NN=Object.create(null);function TR(n,e){switch(e.type){case"text":return n+e.content;case"tag":return n+="<"+e.name+(e.attrs?function(t){var i=[];for(var a in t)i.push(a+'="'+t[a]+'"');return i.length?" "+i.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?n:n+e.children.reduce(TR,"")+"</"+e.name+">";case"comment":return n+"<!--"+e.comment+"-->"}}var MN={parse:function(n,e){e||(e={}),e.components||(e.components=NN);var t,i=[],a=[],o=-1,u=!1;if(n.indexOf("<")!==0){var f=n.indexOf("<");i.push({type:"text",content:f===-1?n:n.substring(0,f)})}return n.replace(ON,function(h,p){if(u){if(h!=="</"+t.name+">")return;u=!1}var g,_=h.charAt(1)!=="/",T=h.startsWith("<!--"),S=p+h.length,R=n.charAt(S);if(T){var P=bb(h);return o<0?(i.push(P),i):((g=a[o]).children.push(P),i)}if(_&&(o++,(t=bb(h)).type==="tag"&&e.components[t.name]&&(t.type="component",u=!0),t.voidElement||u||!R||R==="<"||t.children.push({type:"text",content:n.slice(S,n.indexOf("<",S))}),o===0&&i.push(t),(g=a[o-1])&&g.children.push(t),a[o]=t),(!_||t.voidElement)&&(o>-1&&(t.voidElement||t.name===h.slice(2,-1))&&(o--,t=o===-1?i:a[o]),!u&&R!=="<"&&R)){g=o===-1?i:a[o].children;var I=n.indexOf("<",S),L=n.slice(S,I===-1?void 0:I);PN.test(L)&&(L=" "),(I>-1&&o+g.length>=0||L!==" ")&&g.push({type:"text",content:L})}}),i},stringify:function(n){return n.reduce(function(e,t){return e+TR("",t)},"")}};const Mh=(n,e,t,i)=>{var o,u,f,h;const a=[t,{code:e,...i||{}}];if((u=(o=n==null?void 0:n.services)==null?void 0:o.logger)!=null&&u.forward)return n.services.logger.forward(a,"warn","react-i18next::",!0);ni(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(h=(f=n==null?void 0:n.services)==null?void 0:f.logger)!=null&&h.warn?n.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},wb={},lc=(n,e,t,i)=>{ni(t)&&wb[t]||(ni(t)&&(wb[t]=new Date),Mh(n,e,t,i))},ER=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},sy=(n,e,t)=>{n.loadNamespaces(e,ER(n,t))},Sb=(n,e,t,i)=>{if(ni(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return sy(n,t,i);t.forEach(a=>{n.options.ns.indexOf(a)<0&&n.options.ns.push(a)}),n.loadLanguages(e,ER(n,i))},kN=(n,e,t={})=>!e.languages||!e.languages.length?(lc(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,a)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,n))return!1}}),ni=n=>typeof n=="string",Ra=n=>typeof n=="object"&&n!==null,VN=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,LN={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},UN=n=>LN[n],BN=n=>n.replace(VN,UN);let ay={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:BN};const jN=(n={})=>{ay={...ay,...n}},bR=()=>ay;let wR;const zN=n=>{wR=n},cv=()=>wR,Tg=(n,e)=>{var i;if(!n)return!1;const t=((i=n.props)==null?void 0:i.children)??n.children;return e?t.length>0:!!t},Eg=n=>{var t,i;if(!n)return[];const e=((t=n.props)==null?void 0:t.children)??n.children;return(i=n.props)!=null&&i.i18nIsDynamicList?qo(e):e},FN=n=>Array.isArray(n)&&n.every(B.isValidElement),qo=n=>Array.isArray(n)?n:[n],HN=(n,e)=>{const t={...e};return t.props=Object.assign(n.props,e.props),t},SR=(n,e,t,i)=>{if(!n)return"";let a="";const o=qo(n),u=e!=null&&e.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return o.forEach((f,h)=>{if(ni(f)){a+=`${f}`;return}if(B.isValidElement(f)){const{props:p,type:g}=f,_=Object.keys(p).length,T=u.indexOf(g)>-1,S=p.children;if(!S&&T&&!_){a+=`<${g}/>`;return}if(!S&&(!T||_)||p.i18nIsDynamicList){a+=`<${h}></${h}>`;return}if(T&&_===1&&ni(S)){a+=`<${g}>${S}</${g}>`;return}const R=SR(S,e,t,i);a+=`<${h}>${R}</${h}>`;return}if(f===null){Mh(t,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:i});return}if(Ra(f)){const{format:p,...g}=f,_=Object.keys(g);if(_.length===1){const T=p?`${_[0]}, ${p}`:_[0];a+=`{{${T}}}`;return}Mh(t,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:i,child:f});return}Mh(t,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:i,child:f})}),a},qN=(n,e,t,i,a,o)=>{if(e==="")return[];const u=i.transKeepBasicHtmlNodesFor||[],f=e&&new RegExp(u.map(I=>`<${I}`).join("|")).test(e);if(!n&&!f&&!o)return[e];const h={},p=I=>{qo(I).forEach($=>{ni($)||(Tg($)?p(Eg($)):Ra($)&&!B.isValidElement($)&&Object.assign(h,$))})};p(n);const g=MN.parse(`<0>${e}</0>`),_={...h,...a},T=(I,L,$)=>{var F;const z=Eg(I),ie=R(z,L.children,$);return FN(z)&&ie.length===0||(F=I.props)!=null&&F.i18nIsDynamicList?z:ie},S=(I,L,$,z,ie)=>{I.dummy?(I.children=L,$.push(B.cloneElement(I,{key:z},ie?void 0:L))):$.push(...B.Children.map([I],F=>{const J={...F.props};return delete J.i18nIsDynamicList,B.createElement(F.type,{...J,key:z,ref:F.ref},ie?null:L)}))},R=(I,L,$)=>{const z=qo(I);return qo(L).reduce((F,J,M)=>{var D,k;const A=((k=(D=J.children)==null?void 0:D[0])==null?void 0:k.content)&&t.services.interpolator.interpolate(J.children[0].content,_,t.language);if(J.type==="tag"){let V=z[parseInt(J.name,10)];$.length===1&&!V&&(V=$[0][J.name]),V||(V={});const j=Object.keys(J.attrs).length!==0?HN({props:J.attrs},V):V,O=B.isValidElement(j),ve=O&&Tg(J,!0)&&!J.voidElement,Te=f&&Ra(j)&&j.dummy&&!O,W=Ra(n)&&Object.hasOwnProperty.call(n,J.name);if(ni(j)){const se=t.services.interpolator.interpolate(j,_,t.language);F.push(se)}else if(Tg(j)||ve){const se=T(j,J,$);S(j,se,F,M)}else if(Te){const se=R(z,J.children,$);S(j,se,F,M)}else if(Number.isNaN(parseFloat(J.name)))if(W){const se=T(j,J,$);S(j,se,F,M,J.voidElement)}else if(i.transSupportBasicHtmlNodes&&u.indexOf(J.name)>-1)if(J.voidElement)F.push(B.createElement(J.name,{key:`${J.name}-${M}`}));else{const se=R(z,J.children,$);F.push(B.createElement(J.name,{key:`${J.name}-${M}`},se))}else if(J.voidElement)F.push(`<${J.name} />`);else{const se=R(z,J.children,$);F.push(`<${J.name}>${se}</${J.name}>`)}else if(Ra(j)&&!O){const se=J.children[0]?A:null;se&&F.push(se)}else S(j,A,F,M,J.children.length!==1||!A)}else if(J.type==="text"){const V=i.transWrapTextNodes,j=o?i.unescape(t.services.interpolator.interpolate(J.content,_,t.language)):t.services.interpolator.interpolate(J.content,_,t.language);V?F.push(B.createElement(V,{key:`${J.name}-${M}`},j)):F.push(j)}return F},[])},P=R([{dummy:!0,children:n||[]}],g,qo(n||[]));return Eg(P[0])},AR=(n,e,t)=>{const i=n.key||e,a=B.cloneElement(n,{key:i});if(!a.props||!a.props.children||t.indexOf(`${e}/>`)<0&&t.indexOf(`${e} />`)<0)return a;function o(){return B.createElement(B.Fragment,null,a)}return B.createElement(o,{key:i})},$N=(n,e)=>n.map((t,i)=>AR(t,i,e)),GN=(n,e)=>{const t={};return Object.keys(n).forEach(i=>{Object.assign(t,{[i]:AR(n[i],i,e)})}),t},KN=(n,e,t,i)=>n?Array.isArray(n)?$N(n,e):Ra(n)?GN(n,e):(lc(t,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:i}),null):null;function YN({children:n,count:e,parent:t,i18nKey:i,context:a,tOptions:o={},values:u,defaults:f,components:h,ns:p,i18n:g,t:_,shouldUnescape:T,...S}){var j,O,ve,Te,W,se;const R=g||cv();if(!R)return lc(R,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:i}),n;const P=_||R.t.bind(R)||(de=>de),I={...bR(),...(j=R.options)==null?void 0:j.react};let L=p||P.ns||((O=R.options)==null?void 0:O.defaultNS);L=ni(L)?[L]:L||["translation"];const $=SR(n,I,R,i),z=f||$||I.transEmptyNodeValue||i,{hashTransKey:ie}=I,F=i||(ie?ie($||z):$||z);(Te=(ve=R.options)==null?void 0:ve.interpolation)!=null&&Te.defaultVariables&&(u=u&&Object.keys(u).length>0?{...u,...R.options.interpolation.defaultVariables}:{...R.options.interpolation.defaultVariables});const J=u||e!==void 0&&!((se=(W=R.options)==null?void 0:W.interpolation)!=null&&se.alwaysFormat)||!n?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},M={...o,context:a||o.context,count:e,...u,...J,defaultValue:z,ns:L},A=F?P(F,M):z,D=KN(h,A,R,i),k=qN(D||n,A,R,I,M,T),V=t??I.defaultTransParent;return V?B.createElement(V,S,k):k}const QN={type:"3rdParty",init(n){jN(n.options.react),zN(n)}},RR=B.createContext();class XN{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function WN({children:n,count:e,parent:t,i18nKey:i,context:a,tOptions:o={},values:u,defaults:f,components:h,ns:p,i18n:g,t:_,shouldUnescape:T,...S}){var $;const{i18n:R,defaultNS:P}=B.useContext(RR)||{},I=g||R||cv(),L=_||(I==null?void 0:I.t.bind(I));return YN({children:n,count:e,parent:t,i18nKey:i,context:a,tOptions:o,values:u,defaults:f,components:h,ns:p||(L==null?void 0:L.ns)||P||(($=I==null?void 0:I.options)==null?void 0:$.defaultNS),i18n:I,t:_,shouldUnescape:T,...S})}const ZN=(n,e)=>{const t=B.useRef();return B.useEffect(()=>{t.current=n},[n,e]),t.current},CR=(n,e,t,i)=>n.getFixedT(e,t,i),JN=(n,e,t,i)=>B.useCallback(CR(n,e,t,i),[n,e,t,i]),e2=(n,e={})=>{var ie,F,J,M;const{i18n:t}=e,{i18n:i,defaultNS:a}=B.useContext(RR)||{},o=t||i||cv();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new XN),!o){lc(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(k,V)=>ni(V)?V:Ra(V)&&ni(V.defaultValue)?V.defaultValue:Array.isArray(k)?k[k.length-1]:k,D=[A,{},!1];return D.t=A,D.i18n={},D.ready=!1,D}(ie=o.options.react)!=null&&ie.wait&&lc(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...bR(),...o.options.react,...e},{useSuspense:f,keyPrefix:h}=u;let p=a||((F=o.options)==null?void 0:F.defaultNS);p=ni(p)?[p]:p||["translation"],(M=(J=o.reportNamespaces).addUsedNamespaces)==null||M.call(J,p);const g=(o.isInitialized||o.initializedStoreOnce)&&p.every(A=>kN(A,o,u)),_=JN(o,e.lng||null,u.nsMode==="fallback"?p:p[0],h),T=()=>_,S=()=>CR(o,e.lng||null,u.nsMode==="fallback"?p:p[0],h),[R,P]=B.useState(T);let I=p.join();e.lng&&(I=`${e.lng}${I}`);const L=ZN(I),$=B.useRef(!0);B.useEffect(()=>{const{bindI18n:A,bindI18nStore:D}=u;$.current=!0,!g&&!f&&(e.lng?Sb(o,e.lng,p,()=>{$.current&&P(S)}):sy(o,p,()=>{$.current&&P(S)})),g&&L&&L!==I&&$.current&&P(S);const k=()=>{$.current&&P(S)};return A&&(o==null||o.on(A,k)),D&&(o==null||o.store.on(D,k)),()=>{$.current=!1,o&&(A==null||A.split(" ").forEach(V=>o.off(V,k))),D&&o&&D.split(" ").forEach(V=>o.store.off(V,k))}},[o,I]),B.useEffect(()=>{$.current&&g&&P(T)},[o,h,g]);const z=[R,o,g];if(z.t=R,z.i18n=o,z.ready=g,g||!g&&!f)return z;throw new Promise(A=>{e.lng?Sb(o,e.lng,p,()=>A()):sy(o,p,()=>A())})},t2=({show:n,onClose:e,children:t})=>n?N.createElement("div",{className:"modal-backdrop",onClick:e},N.createElement("div",{className:"modal-content",onClick:i=>i.stopPropagation()},t)):null,n2=()=>{};var Ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},i2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],f=n[t++],h=((a&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},xR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,f=u?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,g=o>>2,_=(o&3)<<4|f>>4;let T=(f&15)<<2|p>>6,S=p&63;h||(S=64,u||(T=64)),i.push(t[g],t[_],t[T],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(IR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||f==null||p==null||_==null)throw new r2;const T=o<<2|f>>4;if(i.push(T),p!==64){const S=f<<4&240|p>>2;if(i.push(S),_!==64){const R=p<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class r2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s2=function(n){const e=IR(n);return xR.encodeByteArray(e,!0)},Qh=function(n){return s2(n).replace(/\./g,"")},DR=function(n){try{return xR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=()=>a2().__FIREBASE_DEFAULTS__,l2=()=>{if(typeof process>"u"||typeof Ab>"u")return;const n=Ab.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},u2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&DR(n[1]);return e&&JSON.parse(e)},Od=()=>{try{return n2()||o2()||l2()||u2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},OR=n=>{var e,t;return(t=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},c2=n=>{const e=OR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},PR=()=>{var n;return(n=Od())===null||n===void 0?void 0:n.config},NR=n=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qh(JSON.stringify(t)),Qh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function p2(){var n;const e=(n=Od())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function g2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y2(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function v2(){return!p2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fv(){try{return typeof indexedDB=="object"}catch{return!1}}function hv(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function kR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="FirebaseError";class Ti extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=_2,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ns.prototype.create)}}class Ns{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?T2(o,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ti(a,f,i)}}function T2(n,e){return n.replace(E2,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const E2=/\{\$([^}]+)}/g;function b2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ss(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const o=n[a],u=e[a];if(Rb(o)&&Rb(u)){if(!Ss(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Rb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Bu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function ju(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function w2(n,e){const t=new S2(n,e);return t.subscribe.bind(t)}class S2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");A2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=bg),a.error===void 0&&(a.error=bg),a.complete===void 0&&(a.complete=bg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=1e3,C2=2,I2=4*60*60*1e3,x2=.5;function Cb(n,e=R2,t=C2){const i=e*Math.pow(t,n),a=Math.round(x2*i*(Math.random()-.5)*2);return Math.min(I2,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(n){return n&&n._delegate?n._delegate:n}class Bn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new f2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P2(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);i===f&&u.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:O2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O2(n){return n===Sa?void 0:n}function P2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const M2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},k2=je.INFO,V2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},L2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=V2[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Pd=class{constructor(e){this.name=e,this._logLevel=k2,this._logHandler=L2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}};const U2=(n,e)=>e.some(t=>n instanceof t);let Ib,xb;function B2(){return Ib||(Ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j2(){return xb||(xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VR=new WeakMap,oy=new WeakMap,LR=new WeakMap,wg=new WeakMap,dv=new WeakMap;function z2(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Cr(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&VR.set(t,n)}).catch(()=>{}),dv.set(e,n),e}function F2(n){if(oy.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});oy.set(n,e)}let ly={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return oy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function H2(n){ly=n(ly)}function q2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Sg(this),e,...t);return LR.set(i,e.sort?e.sort():[e]),Cr(i)}:j2().includes(n)?function(...e){return n.apply(Sg(this),e),Cr(VR.get(this))}:function(...e){return Cr(n.apply(Sg(this),e))}}function $2(n){return typeof n=="function"?q2(n):(n instanceof IDBTransaction&&F2(n),U2(n,B2())?new Proxy(n,ly):n)}function Cr(n){if(n instanceof IDBRequest)return z2(n);if(wg.has(n))return wg.get(n);const e=$2(n);return e!==n&&(wg.set(n,e),dv.set(e,n)),e}const Sg=n=>dv.get(n);function Nd(n,e,{blocked:t,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),f=Cr(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Cr(u.result),h.oldVersion,h.newVersion,Cr(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}function Ag(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",i=>e(i.oldVersion,i)),Cr(t).then(()=>{})}const G2=["get","getKey","getAll","getAllKeys","count"],K2=["put","add","delete","clear"],Rg=new Map;function Db(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=K2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||G2.includes(t)))return;const o=async function(u,...f){const h=this.transaction(u,a?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&h.done]))[0]};return Rg.set(e,o),o}H2(n=>({...n,get:(e,t,i)=>Db(e,t)||n.get(e,t,i),has:(e,t)=>!!Db(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Q2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Q2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uy="@firebase/app",Ob="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Pd("@firebase/app"),X2="@firebase/app-compat",W2="@firebase/analytics-compat",Z2="@firebase/analytics",J2="@firebase/app-check-compat",eM="@firebase/app-check",tM="@firebase/auth",nM="@firebase/auth-compat",iM="@firebase/database",rM="@firebase/data-connect",sM="@firebase/database-compat",aM="@firebase/functions",oM="@firebase/functions-compat",lM="@firebase/installations",uM="@firebase/installations-compat",cM="@firebase/messaging",fM="@firebase/messaging-compat",hM="@firebase/performance",dM="@firebase/performance-compat",pM="@firebase/remote-config",mM="@firebase/remote-config-compat",gM="@firebase/storage",yM="@firebase/storage-compat",vM="@firebase/firestore",_M="@firebase/vertexai",TM="@firebase/firestore-compat",EM="firebase",bM="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="[DEFAULT]",wM={[uy]:"fire-core",[X2]:"fire-core-compat",[Z2]:"fire-analytics",[W2]:"fire-analytics-compat",[eM]:"fire-app-check",[J2]:"fire-app-check-compat",[tM]:"fire-auth",[nM]:"fire-auth-compat",[iM]:"fire-rtdb",[rM]:"fire-data-connect",[sM]:"fire-rtdb-compat",[aM]:"fire-fn",[oM]:"fire-fn-compat",[lM]:"fire-iid",[uM]:"fire-iid-compat",[cM]:"fire-fcm",[fM]:"fire-fcm-compat",[hM]:"fire-perf",[dM]:"fire-perf-compat",[pM]:"fire-rc",[mM]:"fire-rc-compat",[gM]:"fire-gcs",[yM]:"fire-gcs-compat",[vM]:"fire-fst",[TM]:"fire-fst-compat",[_M]:"fire-vertex","fire-js":"fire-js",[EM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,SM=new Map,fy=new Map;function Pb(n,e){try{n.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function si(n){const e=n.name;if(fy.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;fy.set(e,n);for(const t of Xh.values())Pb(t,n);for(const t of SM.values())Pb(t,n);return!0}function Ms(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function kn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Ns("app","Firebase",AM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=bM;function UR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:cy,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Es.create("bad-app-name",{appName:String(a)});if(t||(t=PR()),!t)throw Es.create("no-options");const o=Xh.get(a);if(o){if(Ss(t,o.options)&&Ss(i,o.config))return o;throw Es.create("duplicate-app",{appName:a})}const u=new N2(a);for(const h of fy.values())u.addComponent(h);const f=new RM(t,i,u);return Xh.set(a,f),f}function Md(n=cy){const e=Xh.get(n);if(!e&&n===cy&&PR())return UR();if(!e)throw Es.create("no-app",{appName:n});return e}function Sn(n,e,t){var i;let a=(i=wM[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(f.join(" "));return}si(new Bn(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="firebase-heartbeat-database",IM=1,uc="firebase-heartbeat-store";let Cg=null;function BR(){return Cg||(Cg=Nd(CM,IM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Es.create("idb-open",{originalErrorMessage:n.message})})),Cg}async function xM(n){try{const t=(await BR()).transaction(uc),i=await t.objectStore(uc).get(jR(n));return await t.done,i}catch(e){if(e instanceof Ti)Or.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(t.message)}}}async function Nb(n,e){try{const i=(await BR()).transaction(uc,"readwrite");await i.objectStore(uc).put(e,jR(n)),await i.done}catch(t){if(t instanceof Ti)Or.warn(t.message);else{const i=Es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Or.warn(i.message)}}}function jR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=1024,OM=30;class PM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MM(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Mb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>OM){const u=kM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Or.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mb(),{heartbeatsToSend:i,unsentEntries:a}=NM(this._heartbeatsCache.heartbeats),o=Qh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Or.warn(t),""}}}function Mb(){return new Date().toISOString().substring(0,10)}function NM(n,e=DM){const t=[];let i=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),kb(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),kb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class MM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fv()?hv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Nb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Nb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function kb(n){return Qh(JSON.stringify({version:2,heartbeats:n})).length}function kM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(n){si(new Bn("platform-logger",e=>new Y2(e),"PRIVATE")),si(new Bn("heartbeat",e=>new PM(e),"PRIVATE")),Sn(uy,Ob,n),Sn(uy,Ob,"esm2017"),Sn("fire-js","")}VM("");var LM="firebase",UM="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(LM,UM,"app");function pv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function zR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BM=zR,FR=new Ns("auth","Firebase",zR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Pd("@firebase/auth");function jM(n,...e){Wh.logLevel<=je.WARN&&Wh.warn(`Auth (${pl}): ${n}`,...e)}function kh(n,...e){Wh.logLevel<=je.ERROR&&Wh.error(`Auth (${pl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(n,...e){throw gv(n,...e)}function yi(n,...e){return gv(n,...e)}function mv(n,e,t){const i=Object.assign(Object.assign({},BM()),{[e]:t});return new Ns("auth","Firebase",i).create(e,{appName:n.name})}function Ir(n){return mv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zM(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ai(n,"argument-error"),mv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return FR.create(n,...e)}function Ae(n,e,...t){if(!n)throw gv(e,...t)}function Sr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kh(e),new Error(e)}function Pr(n,e){n||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function FM(){return Vb()==="http:"||Vb()==="https:"}function Vb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FM()||MR()||"connection"in navigator)?navigator.onLine:!0}function qM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pr(t>e,"Short delay should be less than long delay!"),this.isMobile=d2()||g2()}get(){return HM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(n,e){Pr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KM=new Mc(3e4,6e4);function ks(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Br(n,e,t,i,a={}){return qR(n,a,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const f=Nc(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return m2()||(p.referrerPolicy="no-referrer"),HR.fetch()(await $R(n,n.config.apiHost,t,f),p)})}async function qR(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},$M),e);try{const a=new QM(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Eh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Eh(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Eh(n,"user-disabled",u);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw mv(n,g,p);ai(n,g)}}catch(a){if(a instanceof Ti)throw a;ai(n,"network-request-failed",{message:String(a)})}}async function kc(n,e,t,i,a={}){const o=await Br(n,e,t,i,a);return"mfaPendingCredential"in o&&ai(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function $R(n,e,t,i){const a=`${e}${t}?${i}`,o=n,u=o.config.emulator?yv(n.config,a):`${n.config.apiScheme}://${a}`;return GM.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function YM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yi(this.auth,"network-request-failed")),KM.get())})}}function Eh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=yi(n,e,i);return a.customData._tokenResponse=t,a}function Lb(n){return n!==void 0&&n.enterprise!==void 0}class XM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WM(n,e){return Br(n,"GET","/v2/recaptchaConfig",ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(n,e){return Br(n,"POST","/v1/accounts:delete",e)}async function Zh(n,e){return Br(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JM(n,e=!1){const t=ft(n),i=await t.getIdToken(e),a=vv(i);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:i,authTime:Ku(Ig(a.auth_time)),issuedAtTime:Ku(Ig(a.iat)),expirationTime:Ku(Ig(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ig(n){return Number(n)*1e3}function vv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const a=DR(t);return a?JSON.parse(a):(kh("Failed to decode base64 JWT payload"),null)}catch(a){return kh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Ub(n){const e=vv(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ti&&ek(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ek({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await el(n,Zh(t,{idToken:i}));Ae(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GR(o.providerUserInfo):[],f=ik(n.providerData,u),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),g=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new dy(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function nk(n){const e=ft(n);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ik(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function GR(n){return n.map(e=>{var{providerId:t}=e,i=pv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(n,e){const t=await qR(n,{},async()=>{const i=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await $R(n,a,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",HR.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sk(n,e){return Br(n,"POST","/v2/accounts:revokeToken",ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ub(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=Ub(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:o}=await rk(e,t);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:o}=t,u=new Xo;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ae(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ae(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,o=pv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await el(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JM(this,e)}reload(){return nk(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Jh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ir(this.auth));const e=await this.getIdToken();return await el(this,ZM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,o,u,f,h,p,g;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,P=(f=t.tenantId)!==null&&f!==void 0?f:void 0,I=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,L=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:z,emailVerified:ie,isAnonymous:F,providerData:J,stsTokenManager:M}=t;Ae(z&&M,e,"internal-error");const A=Xo.fromJSON(this.name,M);Ae(typeof z=="string",e,"internal-error"),ms(_,e.name),ms(T,e.name),Ae(typeof ie=="boolean",e,"internal-error"),Ae(typeof F=="boolean",e,"internal-error"),ms(S,e.name),ms(R,e.name),ms(P,e.name),ms(I,e.name),ms(L,e.name),ms($,e.name);const D=new gi({uid:z,auth:e,email:T,emailVerified:ie,displayName:_,isAnonymous:F,photoURL:R,phoneNumber:S,tenantId:P,stsTokenManager:A,createdAt:L,lastLoginAt:$});return J&&Array.isArray(J)&&(D.providerData=J.map(k=>Object.assign({},k))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(e,t,i=!1){const a=new Xo;a.updateFromServerResponse(t);const o=new gi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Jh(o),o}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?GR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),f=new Xo;f.updateFromIdToken(i);const h=new gi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new dy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;function Ar(n){Pr(n instanceof Function,"Expected a class definition");let e=Bb.get(n);return e?(Pr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Bb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KR.type="NONE";const jb=KR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n,e,t){return`firebase:${n}:${e}:${t}`}class Wo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Vh(this.userKey,a.apiKey,o),this.fullPersistenceKey=Vh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zh(this.auth,{idToken:e}).catch(()=>{});return t?gi._fromGetAccountInfoResponse(this.auth,t,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Wo(Ar(jb),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ar(jb);const u=Vh(i,e.config.apiKey,e.name);let f=null;for(const p of t)try{const g=await p._get(u);if(g){let _;if(typeof g=="string"){const T=await Zh(e,{idToken:g}).catch(()=>{});if(!T)break;_=await gi._fromGetAccountInfoResponse(e,T,g)}else _=gi._fromJSON(e,g);p!==o&&(f=_),o=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Wo(o,e,i):(o=h[0],f&&await o._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Wo(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JR(e))return"Blackberry";if(e1(e))return"Webos";if(QR(e))return"Safari";if((e.includes("chrome/")||XR(e))&&!e.includes("edge/"))return"Chrome";if(ZR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function YR(n=un()){return/firefox\//i.test(n)}function QR(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XR(n=un()){return/crios\//i.test(n)}function WR(n=un()){return/iemobile/i.test(n)}function ZR(n=un()){return/android/i.test(n)}function JR(n=un()){return/blackberry/i.test(n)}function e1(n=un()){return/webos/i.test(n)}function _v(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ak(n=un()){var e;return _v(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ok(){return y2()&&document.documentMode===10}function t1(n=un()){return _v(n)||ZR(n)||e1(n)||JR(n)||/windows phone/i.test(n)||WR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n,e=[]){let t;switch(n){case"Browser":t=zb(un());break;case"Worker":t=`${zb(un())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,f)=>{try{const h=e(o);u(h)}catch(h){f(h)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(n,e={}){return Br(n,"GET","/v2/passwordPolicy",ks(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=6;class fk{constructor(e){var t,i,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:ck,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,o,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new lk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{var i,a,o;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zh(this,{idToken:e}),i=await gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Ir(this));const t=e?ft(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uk(this),t=new fk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ns("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await sk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,a);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&jM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vs(n){return ft(n)}class Fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=w2(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dk(n){kd=n}function i1(n){return kd.loadJS(n)}function pk(){return kd.recaptchaEnterpriseScript}function mk(){return kd.gapiScript}function gk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class yk{constructor(){this.enterprise=new vk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _k="recaptcha-enterprise",r1="NO_RECAPTCHA";class Tk{constructor(e){this.type=_k,this.auth=Vs(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,f)=>{WM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new XM(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(h=>{f(h)})})}function a(o,u,f){const h=window.grecaptcha;Lb(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(r1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yk().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(f=>{if(!t&&Lb(window.grecaptcha))a(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=pk();h.length!==0&&(h+=f),i1(h).then(()=>{a(f,o,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function Hb(n,e,t,i=!1,a=!1){const o=new Tk(n);let u;if(a)u=r1;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function py(n,e,t,i,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Hb(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Hb(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n,e){const t=Ms(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Ss(o,e??{}))return a;ai(a,"already-initialized")}return t.initialize({options:e})}function bk(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ar);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function wk(n,e,t){const i=Vs(n);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=s1(e),{host:u,port:f}=Sk(e),h=f===null?"":`:${f}`,p={url:`${o}//${u}${h}/`},g=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(Ss(p,i.config.emulator)&&Ss(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Ak()}function s1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Sk(n){const e=s1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:qb(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:qb(u)}}}function qb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Ak(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,t){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function Rk(n,e){return Br(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(n,e){return kc(n,"POST","/v1/accounts:signInWithPassword",ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(n,e){return kc(n,"POST","/v1/accounts:signInWithEmailLink",ks(n,e))}async function xk(n,e){return kc(n,"POST","/v1/accounts:signInWithEmailLink",ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Tv{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new cc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new cc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return py(e,t,"signInWithPassword",Ck);case"emailLink":return Ik(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return py(e,i,"signUpPassword",Rk);case"emailLink":return xk(e,{idToken:t,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n,e){return kc(n,"POST","/v1/accounts:signInWithIdp",ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="http://localhost";class Na extends Tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,o=pv(t,["providerId","signInMethod"]);if(!i||!a)return null;const u=new Na(i,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Zo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Zo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:Dk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Pk(n){const e=Bu(ju(n)).link,t=e?Bu(ju(e)).deep_link_id:null,i=Bu(ju(n)).deep_link_id;return(i?Bu(ju(i)).link:null)||i||t||e||n}class Ev{constructor(e){var t,i,a,o,u,f;const h=Bu(ju(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,_=Ok((a=h.mode)!==null&&a!==void 0?a:null);Ae(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=Pk(e);try{return new Ev(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,t){return cc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Ev.parseLink(t);return Ae(i,"argument-error"),cc._fromEmailAndCode(e,i.code,i.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends bv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Vc{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Na._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return wr.credential(t,i)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Vc{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Vc{constructor(){super("twitter.com")}static credential(e,t){return Na._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return _s.credential(t,i)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(n,e){return kc(n,"POST","/v1/accounts:signUp",ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const o=await gi._fromIdTokenResponse(e,i,a),u=$b(i);return new Ma({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=$b(i);return new Ma({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function $b(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Ti{constructor(e,t,i,a){var o;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new ed(e,t,i,a)}}function a1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(n,o,e,i):o})}async function Mk(n,e,t=!1){const i=await el(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ma._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(n,e,t=!1){const{auth:i}=n;if(kn(i.app))return Promise.reject(Ir(i));const a="reauthenticate";try{const o=await el(n,a1(i,a,e,n),t);Ae(o.idToken,i,"internal-error");const u=vv(o.idToken);Ae(u,i,"internal-error");const{sub:f}=u;return Ae(n.uid===f,i,"user-mismatch"),Ma._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ai(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(n,e,t=!1){if(kn(n.app))return Promise.reject(Ir(n));const i="signIn",a=await a1(n,i,e),o=await Ma._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(o.user),o}async function Vk(n,e){return o1(Vs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(n){const e=Vs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lk(n,e,t){if(kn(n.app))return Promise.reject(Ir(n));const i=Vs(n),u=await py(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nk).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&l1(n),h}),f=await Ma._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function Uk(n,e,t){return kn(n.app)?Promise.reject(Ir(n)):Vk(ft(n),ml.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&l1(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,e){return Br(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=ft(n),o={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await el(i,Bk(i.auth,o));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const f=i.providerData.find(({providerId:h})=>h==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function zk(n,e,t,i){return ft(n).onIdTokenChanged(e,t,i)}function Fk(n,e,t){return ft(n).beforeAuthStateChanged(e,t)}function Hk(n,e,t,i){return ft(n).onAuthStateChanged(e,t,i)}function qk(n){return ft(n).signOut()}async function $k(n){return ft(n).delete()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1e3,Kk=10;class c1 extends u1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);ok()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Kk):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}c1.type="LOCAL";const Yk=c1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends u1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}f1.type="SESSION";const h1=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Vd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async p=>p(t.origin,o)),h=await Qk(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((f,h)=>{const p=wv("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(T.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function Wk(n){ji().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function Zk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function eV(){return d1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebaseLocalStorageDb",tV=1,nd="firebaseLocalStorage",m1="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ld(n,e){return n.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function nV(){const n=indexedDB.deleteDatabase(p1);return new Lc(n).toPromise()}function my(){const n=indexedDB.open(p1,tV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(nd,{keyPath:m1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(nd)?e(i):(i.close(),await nV(),e(await my()))})})}async function Gb(n,e,t){const i=Ld(n,!0).put({[m1]:e,value:t});return new Lc(i).toPromise()}async function iV(n,e){const t=Ld(n,!1).get(e),i=await new Lc(t).toPromise();return i===void 0?null:i.value}function Kb(n,e){const t=Ld(n,!0).delete(e);return new Lc(t).toPromise()}const rV=800,sV=3;class g1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await my(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>sV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(eV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Zk(),!this.activeServiceWorker)return;this.sender=new Xk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await my();return await Gb(e,td,"1"),await Kb(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>iV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Kb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Ld(a,!1).getAll();return new Lc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g1.type="LOCAL";const aV=g1;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n,e){return e?Ar(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends Tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oV(n){return o1(n.auth,new Sv(n),n.bypassAuthState)}function lV(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),kk(t,new Sv(n),n.bypassAuthState)}async function uV(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),Mk(t,new Sv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oV;case"linkViaPopup":case"linkViaRedirect":return uV;case"reauthViaPopup":case"reauthViaRedirect":return lV;default:ai(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=new Mc(2e3,1e4);async function fV(n,e,t){if(kn(n.app))return Promise.reject(yi(n,"operation-not-supported-in-this-environment"));const i=Vs(n);zM(n,e,bv);const a=y1(i,t);return new Ca(i,"signInViaPopup",e,a).executeNotNull()}class Ca extends v1{constructor(e,t,i,a,o){super(e,t,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cV.get())};e()}}Ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="pendingRedirect",Lh=new Map;class dV extends v1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Lh.get(this.auth._key());if(!e){try{const i=await pV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pV(n,e){const t=yV(e),i=gV(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function mV(n,e){Lh.set(n._key(),e)}function gV(n){return Ar(n._redirectPersistence)}function yV(n){return Vh(hV,n.config.apiKey,n.name)}async function vV(n,e,t=!1){if(kn(n.app))return Promise.reject(Ir(n));const i=Vs(n),a=y1(i,e),u=await new dV(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=10*60*1e3;class TV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!_1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_V&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yb(e))}saveEventToCache(e){this.cachedEventUids.add(Yb(e)),this.lastProcessedEventTime=Date.now()}}function Yb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(n,e={}){return Br(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SV=/^https?/;async function AV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await bV(n);for(const t of e)try{if(RV(t))return}catch{}ai(n,"unauthorized-domain")}function RV(n){const e=hy(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!SV.test(t))return!1;if(wV.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new Mc(3e4,6e4);function Qb(){const n=ji().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IV(n){return new Promise((e,t)=>{var i,a,o;function u(){Qb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qb(),t(yi(n,"network-request-failed"))},timeout:CV.get()})}if(!((a=(i=ji().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=ji().gapi)===null||o===void 0)&&o.load)u();else{const f=gk("iframefcb");return ji()[f]=()=>{gapi.load?u():t(yi(n,"network-request-failed"))},i1(`${mk()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function xV(n){return Uh=Uh||IV(n),Uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=new Mc(5e3,15e3),OV="__/auth/iframe",PV="emulator/auth/iframe",NV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kV(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?yv(e,PV):`https://${n.config.authDomain}/${OV}`,i={apiKey:e.apiKey,appName:n.name,v:pl},a=MV.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Nc(i).slice(1)}`}async function VV(n){const e=await xV(n),t=ji().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:kV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NV,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const u=yi(n,"network-request-failed"),f=ji().setTimeout(()=>{o(u)},DV.get());function h(){ji().clearTimeout(f),a(i)}i.ping(h).then(h,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UV=500,BV=600,jV="_blank",zV="http://localhost";class Xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FV(n,e,t,i=UV,a=BV){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h=Object.assign(Object.assign({},LV),{width:i.toString(),height:a.toString(),top:o,left:u}),p=un().toLowerCase();t&&(f=XR(p)?jV:t),YR(p)&&(e=e||zV,h.scrollbars="yes");const g=Object.entries(h).reduce((T,[S,R])=>`${T}${S}=${R},`,"");if(ak(p)&&f!=="_self")return HV(e||"",f),new Xb(null);const _=window.open(e||"",f,g);Ae(_,n,"popup-blocked");try{_.focus()}catch{}return new Xb(_)}function HV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="__/auth/handler",$V="emulator/auth/handler",GV=encodeURIComponent("fac");async function Wb(n,e,t,i,a,o){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:pl,eventId:a};if(e instanceof bv){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",b2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof Vc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const h=await n._getAppCheckToken(),p=h?`#${GV}=${encodeURIComponent(h)}`:"";return`${KV(n)}?${Nc(f).slice(1)}${p}`}function KV({config:n}){return n.emulator?yv(n,$V):`https://${n.authDomain}/${qV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="webStorageSupport";class YV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h1,this._completeRedirectFn=vV,this._overrideRedirectResult=mV}async _openPopup(e,t,i,a){var o;Pr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Wb(e,t,i,hy(),a);return FV(e,u,wv())}async _openRedirect(e,t,i,a){await this._originValidation(e);const o=await Wb(e,t,i,hy(),a);return Wk(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Pr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await VV(e),i=new TV(e);return t.register("authEvent",a=>(Ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xg,{type:xg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[xg];u!==void 0&&t(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return t1()||QR()||_v()}}const QV=YV;var Zb="@firebase/auth",Jb="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZV(n){si(new Bn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(n)},p=new hk(i,a,o,h);return bk(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),si(new Bn("auth-internal",e=>{const t=Vs(e.getProvider("auth").getImmediate());return(i=>new XV(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Zb,Jb,WV(n)),Sn(Zb,Jb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=5*60,eL=NR("authIdTokenMaxAge")||JV;let ew=null;const tL=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>eL)return;const a=t==null?void 0:t.token;ew!==a&&(ew=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function gl(n=Md()){const e=Ms(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ek(n,{popupRedirectResolver:QV,persistence:[aV,Yk,h1]}),i=NR("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=tL(o.toString());Fk(t,u,()=>u(t.currentUser)),zk(t,f=>u(f))}}const a=OR("auth");return a&&wk(t,`http://${a}`),t}function nL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const o=yi("internal-error");o.customData=a,t(o)},i.type="text/javascript",i.charset="UTF-8",nL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZV("Browser");var tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,T1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function D(){}D.prototype=A.prototype,M.D=A.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(k,V,j){for(var O=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)O[ve-2]=arguments[ve];return A.prototype[V].apply(k,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,A,D){D||(D=0);var k=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)k[V]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(V=0;16>V;++V)k[V]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=M.g[0],D=M.g[1],V=M.g[2];var j=M.g[3],O=A+(j^D&(V^j))+k[0]+3614090360&4294967295;A=D+(O<<7&4294967295|O>>>25),O=j+(V^A&(D^V))+k[1]+3905402710&4294967295,j=A+(O<<12&4294967295|O>>>20),O=V+(D^j&(A^D))+k[2]+606105819&4294967295,V=j+(O<<17&4294967295|O>>>15),O=D+(A^V&(j^A))+k[3]+3250441966&4294967295,D=V+(O<<22&4294967295|O>>>10),O=A+(j^D&(V^j))+k[4]+4118548399&4294967295,A=D+(O<<7&4294967295|O>>>25),O=j+(V^A&(D^V))+k[5]+1200080426&4294967295,j=A+(O<<12&4294967295|O>>>20),O=V+(D^j&(A^D))+k[6]+2821735955&4294967295,V=j+(O<<17&4294967295|O>>>15),O=D+(A^V&(j^A))+k[7]+4249261313&4294967295,D=V+(O<<22&4294967295|O>>>10),O=A+(j^D&(V^j))+k[8]+1770035416&4294967295,A=D+(O<<7&4294967295|O>>>25),O=j+(V^A&(D^V))+k[9]+2336552879&4294967295,j=A+(O<<12&4294967295|O>>>20),O=V+(D^j&(A^D))+k[10]+4294925233&4294967295,V=j+(O<<17&4294967295|O>>>15),O=D+(A^V&(j^A))+k[11]+2304563134&4294967295,D=V+(O<<22&4294967295|O>>>10),O=A+(j^D&(V^j))+k[12]+1804603682&4294967295,A=D+(O<<7&4294967295|O>>>25),O=j+(V^A&(D^V))+k[13]+4254626195&4294967295,j=A+(O<<12&4294967295|O>>>20),O=V+(D^j&(A^D))+k[14]+2792965006&4294967295,V=j+(O<<17&4294967295|O>>>15),O=D+(A^V&(j^A))+k[15]+1236535329&4294967295,D=V+(O<<22&4294967295|O>>>10),O=A+(V^j&(D^V))+k[1]+4129170786&4294967295,A=D+(O<<5&4294967295|O>>>27),O=j+(D^V&(A^D))+k[6]+3225465664&4294967295,j=A+(O<<9&4294967295|O>>>23),O=V+(A^D&(j^A))+k[11]+643717713&4294967295,V=j+(O<<14&4294967295|O>>>18),O=D+(j^A&(V^j))+k[0]+3921069994&4294967295,D=V+(O<<20&4294967295|O>>>12),O=A+(V^j&(D^V))+k[5]+3593408605&4294967295,A=D+(O<<5&4294967295|O>>>27),O=j+(D^V&(A^D))+k[10]+38016083&4294967295,j=A+(O<<9&4294967295|O>>>23),O=V+(A^D&(j^A))+k[15]+3634488961&4294967295,V=j+(O<<14&4294967295|O>>>18),O=D+(j^A&(V^j))+k[4]+3889429448&4294967295,D=V+(O<<20&4294967295|O>>>12),O=A+(V^j&(D^V))+k[9]+568446438&4294967295,A=D+(O<<5&4294967295|O>>>27),O=j+(D^V&(A^D))+k[14]+3275163606&4294967295,j=A+(O<<9&4294967295|O>>>23),O=V+(A^D&(j^A))+k[3]+4107603335&4294967295,V=j+(O<<14&4294967295|O>>>18),O=D+(j^A&(V^j))+k[8]+1163531501&4294967295,D=V+(O<<20&4294967295|O>>>12),O=A+(V^j&(D^V))+k[13]+2850285829&4294967295,A=D+(O<<5&4294967295|O>>>27),O=j+(D^V&(A^D))+k[2]+4243563512&4294967295,j=A+(O<<9&4294967295|O>>>23),O=V+(A^D&(j^A))+k[7]+1735328473&4294967295,V=j+(O<<14&4294967295|O>>>18),O=D+(j^A&(V^j))+k[12]+2368359562&4294967295,D=V+(O<<20&4294967295|O>>>12),O=A+(D^V^j)+k[5]+4294588738&4294967295,A=D+(O<<4&4294967295|O>>>28),O=j+(A^D^V)+k[8]+2272392833&4294967295,j=A+(O<<11&4294967295|O>>>21),O=V+(j^A^D)+k[11]+1839030562&4294967295,V=j+(O<<16&4294967295|O>>>16),O=D+(V^j^A)+k[14]+4259657740&4294967295,D=V+(O<<23&4294967295|O>>>9),O=A+(D^V^j)+k[1]+2763975236&4294967295,A=D+(O<<4&4294967295|O>>>28),O=j+(A^D^V)+k[4]+1272893353&4294967295,j=A+(O<<11&4294967295|O>>>21),O=V+(j^A^D)+k[7]+4139469664&4294967295,V=j+(O<<16&4294967295|O>>>16),O=D+(V^j^A)+k[10]+3200236656&4294967295,D=V+(O<<23&4294967295|O>>>9),O=A+(D^V^j)+k[13]+681279174&4294967295,A=D+(O<<4&4294967295|O>>>28),O=j+(A^D^V)+k[0]+3936430074&4294967295,j=A+(O<<11&4294967295|O>>>21),O=V+(j^A^D)+k[3]+3572445317&4294967295,V=j+(O<<16&4294967295|O>>>16),O=D+(V^j^A)+k[6]+76029189&4294967295,D=V+(O<<23&4294967295|O>>>9),O=A+(D^V^j)+k[9]+3654602809&4294967295,A=D+(O<<4&4294967295|O>>>28),O=j+(A^D^V)+k[12]+3873151461&4294967295,j=A+(O<<11&4294967295|O>>>21),O=V+(j^A^D)+k[15]+530742520&4294967295,V=j+(O<<16&4294967295|O>>>16),O=D+(V^j^A)+k[2]+3299628645&4294967295,D=V+(O<<23&4294967295|O>>>9),O=A+(V^(D|~j))+k[0]+4096336452&4294967295,A=D+(O<<6&4294967295|O>>>26),O=j+(D^(A|~V))+k[7]+1126891415&4294967295,j=A+(O<<10&4294967295|O>>>22),O=V+(A^(j|~D))+k[14]+2878612391&4294967295,V=j+(O<<15&4294967295|O>>>17),O=D+(j^(V|~A))+k[5]+4237533241&4294967295,D=V+(O<<21&4294967295|O>>>11),O=A+(V^(D|~j))+k[12]+1700485571&4294967295,A=D+(O<<6&4294967295|O>>>26),O=j+(D^(A|~V))+k[3]+2399980690&4294967295,j=A+(O<<10&4294967295|O>>>22),O=V+(A^(j|~D))+k[10]+4293915773&4294967295,V=j+(O<<15&4294967295|O>>>17),O=D+(j^(V|~A))+k[1]+2240044497&4294967295,D=V+(O<<21&4294967295|O>>>11),O=A+(V^(D|~j))+k[8]+1873313359&4294967295,A=D+(O<<6&4294967295|O>>>26),O=j+(D^(A|~V))+k[15]+4264355552&4294967295,j=A+(O<<10&4294967295|O>>>22),O=V+(A^(j|~D))+k[6]+2734768916&4294967295,V=j+(O<<15&4294967295|O>>>17),O=D+(j^(V|~A))+k[13]+1309151649&4294967295,D=V+(O<<21&4294967295|O>>>11),O=A+(V^(D|~j))+k[4]+4149444226&4294967295,A=D+(O<<6&4294967295|O>>>26),O=j+(D^(A|~V))+k[11]+3174756917&4294967295,j=A+(O<<10&4294967295|O>>>22),O=V+(A^(j|~D))+k[2]+718787259&4294967295,V=j+(O<<15&4294967295|O>>>17),O=D+(j^(V|~A))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+j&4294967295}i.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var D=A-this.blockSize,k=this.B,V=this.h,j=0;j<A;){if(V==0)for(;j<=D;)a(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<A;)if(k[V++]=M.charCodeAt(j++),V==this.blockSize){a(this,k),V=0;break}}else for(;j<A;)if(k[V++]=M[j++],V==this.blockSize){a(this,k),V=0;break}}this.h=V,this.o+=A},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var D=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=D&255,D/=256;for(this.u(M),M=Array(16),A=D=0;4>A;++A)for(var k=0;32>k;k+=8)M[D++]=this.g[A]>>>k&255;return M};function o(M,A){var D=f;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=A(M)}function u(M,A){this.h=A;for(var D=[],k=!0,V=M.length-1;0<=V;V--){var j=M[V]|0;k&&j==A||(D[V]=j,k=!1)}this.g=D}var f={};function h(M){return-128<=M&&128>M?o(M,function(A){return new u([A|0],0>A?-1:0)}):new u([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return I(p(-M));for(var A=[],D=1,k=0;M>=D;k++)A[k]=M/D|0,D*=4294967296;return new u(A,0)}function g(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return I(g(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(A,8)),k=_,V=0;V<M.length;V+=8){var j=Math.min(8,M.length-V),O=parseInt(M.substring(V,V+j),A);8>j?(j=p(Math.pow(A,j)),k=k.j(j).add(p(O))):(k=k.j(D),k=k.add(p(O)))}return k}var _=h(0),T=h(1),S=h(16777216);n=u.prototype,n.m=function(){if(P(this))return-I(this).m();for(var M=0,A=1,D=0;D<this.g.length;D++){var k=this.i(D);M+=(0<=k?k:4294967296+k)*A,A*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(P(this))return"-"+I(this).toString(M);for(var A=p(Math.pow(M,6)),D=this,k="";;){var V=ie(D,A).g;D=L(D,V.j(A));var j=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=V,R(D))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function P(M){return M.h==-1}n.l=function(M){return M=L(this,M),P(M)?-1:R(M)?0:1};function I(M){for(var A=M.g.length,D=[],k=0;k<A;k++)D[k]=~M.g[k];return new u(D,~M.h).add(T)}n.abs=function(){return P(this)?I(this):this},n.add=function(M){for(var A=Math.max(this.g.length,M.g.length),D=[],k=0,V=0;V<=A;V++){var j=k+(this.i(V)&65535)+(M.i(V)&65535),O=(j>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);k=O>>>16,j&=65535,O&=65535,D[V]=O<<16|j}return new u(D,D[D.length-1]&-2147483648?-1:0)};function L(M,A){return M.add(I(A))}n.j=function(M){if(R(this)||R(M))return _;if(P(this))return P(M)?I(this).j(I(M)):I(I(this).j(M));if(P(M))return I(this.j(I(M)));if(0>this.l(S)&&0>M.l(S))return p(this.m()*M.m());for(var A=this.g.length+M.g.length,D=[],k=0;k<2*A;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<M.g.length;V++){var j=this.i(k)>>>16,O=this.i(k)&65535,ve=M.i(V)>>>16,Te=M.i(V)&65535;D[2*k+2*V]+=O*Te,$(D,2*k+2*V),D[2*k+2*V+1]+=j*Te,$(D,2*k+2*V+1),D[2*k+2*V+1]+=O*ve,$(D,2*k+2*V+1),D[2*k+2*V+2]+=j*ve,$(D,2*k+2*V+2)}for(k=0;k<A;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=A;k<2*A;k++)D[k]=0;return new u(D,0)};function $(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function z(M,A){this.g=M,this.h=A}function ie(M,A){if(R(A))throw Error("division by zero");if(R(M))return new z(_,_);if(P(M))return A=ie(I(M),A),new z(I(A.g),I(A.h));if(P(A))return A=ie(M,I(A)),new z(I(A.g),A.h);if(30<M.g.length){if(P(M)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var D=T,k=A;0>=k.l(M);)D=F(D),k=F(k);var V=J(D,1),j=J(k,1);for(k=J(k,2),D=J(D,2);!R(k);){var O=j.add(k);0>=O.l(M)&&(V=V.add(D),j=O),k=J(k,1),D=J(D,1)}return A=L(M,V.j(A)),new z(V,A)}for(V=_;0<=M.l(A);){for(D=Math.max(1,Math.floor(M.m()/A.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=p(D),O=j.j(A);P(O)||0<O.l(M);)D-=k,j=p(D),O=j.j(A);R(j)&&(j=T),V=V.add(j),M=L(M,O)}return new z(V,M)}n.A=function(M){return ie(this,M).h},n.and=function(M){for(var A=Math.max(this.g.length,M.g.length),D=[],k=0;k<A;k++)D[k]=this.i(k)&M.i(k);return new u(D,this.h&M.h)},n.or=function(M){for(var A=Math.max(this.g.length,M.g.length),D=[],k=0;k<A;k++)D[k]=this.i(k)|M.i(k);return new u(D,this.h|M.h)},n.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),D=[],k=0;k<A;k++)D[k]=this.i(k)^M.i(k);return new u(D,this.h^M.h)};function F(M){for(var A=M.g.length+1,D=[],k=0;k<A;k++)D[k]=M.i(k)<<1|M.i(k-1)>>>31;return new u(D,M.h)}function J(M,A){var D=A>>5;A%=32;for(var k=M.g.length-D,V=[],j=0;j<k;j++)V[j]=0<A?M.i(j+D)>>>A|M.i(j+D+1)<<32-A:M.i(j+D);return new u(V,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,T1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,bs=u}).apply(typeof tw<"u"?tw:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,zu,b1,Bh,gy,w1,S1,A1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(d,v){if(v)e:{var E=i;d=d.split(".");for(var x=0;x<d.length-1;x++){var K=d[x];if(!(K in E))break e;E=E[K]}d=d[d.length-1],x=E[d],v=v(x),v!=x&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,x=!1,K={next:function(){if(!x&&E<d.length){var ee=E++;return{value:v(ee,d[ee]),done:!1}}return x=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,E){return d.call.apply(d.bind,arguments)}function _(d,v,E){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,x),d.apply(v,K)}}return function(){return d.apply(v,arguments)}}function T(d,v,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function S(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function R(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(x,K,ee){for(var fe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)fe[Fe-2]=arguments[Fe];return v.prototype[K].apply(x,fe)}}function P(d){const v=d.length;if(0<v){const E=Array(v);for(let x=0;x<v;x++)E[x]=d[x];return E}return[]}function I(d,v){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(h(x)){const K=d.length||0,ee=x.length||0;d.length=K+ee;for(let fe=0;fe<ee;fe++)d[K+fe]=x[fe]}else d.push(x)}}class L{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function ie(d){return ie[" "](d),d}ie[" "]=function(){};var F=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function J(d,v,E){for(const x in d)v.call(E,d[x],x,d)}function M(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function A(d){const v={};for(const E in d)v[E]=d[E];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,v){let E,x;for(let K=1;K<arguments.length;K++){x=arguments[K];for(E in x)d[E]=x[E];for(let ee=0;ee<D.length;ee++)E=D[ee],Object.prototype.hasOwnProperty.call(x,E)&&(d[E]=x[E])}}function V(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function j(d){f.setTimeout(()=>{throw d},0)}function O(){var d=be;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ve{constructor(){this.h=this.g=null}add(v,E){const x=Te.get();x.set(v,E),this.h?this.h.next=x:this.g=x,this.h=x}}var Te=new L(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,be=new ve,w=()=>{const d=f.Promise.resolve(void 0);se=()=>{d.then(q)}};var q=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(E){j(E)}var v=Te;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}de=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return d}();function ye(d,v){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(F){e:{try{ie(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:he[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ye.aa.h.call(this)}}R(ye,te);var he={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),xe=0;function jn(d,v,E,x,K){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!x,this.ha=K,this.key=++xe,this.da=this.fa=!1}function jr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Xi(d){this.src=d,this.g={},this.h=0}Xi.prototype.add=function(d,v,E,x,K){var ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);var fe=zs(d,v,x,K);return-1<fe?(v=d[fe],E||(v.fa=!1)):(v=new jn(v,this.src,ee,!!x,K),v.fa=E,d.push(v)),v};function js(d,v){var E=v.type;if(E in d.g){var x=d.g[E],K=Array.prototype.indexOf.call(x,v,void 0),ee;(ee=0<=K)&&Array.prototype.splice.call(x,K,1),ee&&(jr(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function zs(d,v,E,x){for(var K=0;K<d.length;++K){var ee=d[K];if(!ee.da&&ee.listener==v&&ee.capture==!!E&&ee.ha==x)return K}return-1}var Fs="closure_lm_"+(1e6*Math.random()|0),Al={};function Qc(d,v,E,x,K){if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)Qc(d,v[ee],E,x,K);return null}return E=Xc(E),d&&d[rt]?d.K(v,E,p(x)?!!x.capture:!1,K):zn(d,v,E,!1,x,K)}function zn(d,v,E,x,K,ee){if(!v)throw Error("Invalid event type");var fe=p(K)?!!K.capture:!!K,Fe=Ha(d);if(Fe||(d[Fs]=Fe=new Xi(d)),E=Fe.add(v,E,x,fe,ee),E.proxy)return E;if(x=hp(),E.proxy=x,x.src=d,x.listener=E,d.addEventListener)ce||(K=fe),K===void 0&&(K=!1),d.addEventListener(v.toString(),x,K);else if(d.attachEvent)d.attachEvent(Hs(v.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function hp(){function d(E){return v.call(d.src,d.listener,E)}const v=dp;return d}function Rl(d,v,E,x,K){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)Rl(d,v[ee],E,x,K);else x=p(x)?!!x.capture:!!x,E=Xc(E),d&&d[rt]?(d=d.i,v=String(v).toString(),v in d.g&&(ee=d.g[v],E=zs(ee,E,x,K),-1<E&&(jr(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete d.g[v],d.h--)))):d&&(d=Ha(d))&&(v=d.g[v.toString()],d=-1,v&&(d=zs(v,E,x,K)),(E=-1<d?v[d]:null)&&Fa(E))}function Fa(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[rt])js(v.i,d);else{var E=d.type,x=d.proxy;v.removeEventListener?v.removeEventListener(E,x,d.capture):v.detachEvent?v.detachEvent(Hs(E),x):v.addListener&&v.removeListener&&v.removeListener(x),(E=Ha(v))?(js(E,d),E.h==0&&(E.src=null,v[Fs]=null)):jr(d)}}}function Hs(d){return d in Al?Al[d]:Al[d]="on"+d}function dp(d,v){if(d.da)d=!0;else{v=new ye(v,this);var E=d.listener,x=d.ha||d.src;d.fa&&Fa(d),d=E.call(x,v)}return d}function Ha(d){return d=d[Fs],d instanceof Xi?d:null}var Cl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xc(d){return typeof d=="function"?d:(d[Cl]||(d[Cl]=function(v){return d.handleEvent(v)}),d[Cl])}function gt(){ne.call(this),this.i=new Xi(this),this.M=this,this.F=null}R(gt,ne),gt.prototype[rt]=!0,gt.prototype.removeEventListener=function(d,v,E,x){Rl(this,d,v,E,x)};function Xe(d,v){var E,x=d.F;if(x)for(E=[];x;x=x.F)E.push(x);if(d=d.M,x=v.type||v,typeof v=="string")v=new te(v,d);else if(v instanceof te)v.target=v.target||d;else{var K=v;v=new te(x,d),k(v,K)}if(K=!0,E)for(var ee=E.length-1;0<=ee;ee--){var fe=v.g=E[ee];K=Rn(fe,x,!0,v)&&K}if(fe=v.g=d,K=Rn(fe,x,!0,v)&&K,K=Rn(fe,x,!1,v)&&K,E)for(ee=0;ee<E.length;ee++)fe=v.g=E[ee],K=Rn(fe,x,!1,v)&&K}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],x=0;x<E.length;x++)jr(E[x]);delete d.g[v],d.h--}}this.F=null},gt.prototype.K=function(d,v,E,x){return this.i.add(String(d),v,!1,E,x)},gt.prototype.L=function(d,v,E,x){return this.i.add(String(d),v,!0,E,x)};function Rn(d,v,E,x){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,ee=0;ee<v.length;++ee){var fe=v[ee];if(fe&&!fe.da&&fe.capture==E){var Fe=fe.listener,Pt=fe.ha||fe.src;fe.fa&&js(d.i,fe),K=Fe.call(Pt,x)!==!1&&K}}return K&&!x.defaultPrevented}function en(d,v,E){if(typeof d=="function")E&&(d=T(d,E));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function Wc(d){d.g=en(()=>{d.g=null,d.i&&(d.i=!1,Wc(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class pp extends ne{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Wc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(d){ne.call(this),this.h=d,this.g={}}R(qs,ne);var $s=[];function Gs(d){J(d.g,function(v,E){this.g.hasOwnProperty(E)&&Fa(v)},d),d.g={}}qs.prototype.N=function(){qs.aa.N.call(this),Gs(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=f.JSON.stringify,qa=f.JSON.parse,Ks=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Il(){}Il.prototype.h=null;function xl(d){return d.h||(d.h=d.i())}function Dl(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){te.call(this,"d")}R(Zi,te);function Ol(){te.call(this,"c")}R(Ol,te);var Ei={},Pl=null;function zr(){return Pl=Pl||new gt}Ei.La="serverreachability";function $a(d){te.call(this,Ei.La,d)}R($a,te);function Fr(d){const v=zr();Xe(v,new $a(v))}Ei.STAT_EVENT="statevent";function Zc(d,v){te.call(this,Ei.STAT_EVENT,d),this.stat=v}R(Zc,te);function lt(d){const v=zr();Xe(v,new Zc(v,d))}Ei.Ma="timingevent";function Ot(d,v){te.call(this,Ei.Ma,d),this.size=v}R(Ot,te);function At(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function Nl(d,v,E,x,K,ee){d.info(function(){if(d.g)if(ee)for(var fe="",Fe=ee.split("&"),Pt=0;Pt<Fe.length;Pt++){var He=Fe[Pt].split("=");if(1<He.length){var Bt=He[0];He=He[1];var Nt=Bt.split("_");fe=2<=Nt.length&&Nt[1]=="type"?fe+(Bt+"="+He+"&"):fe+(Bt+"=redacted&")}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+x+") [attempt "+K+"]: "+v+`
`+E+`
`+fe})}function mp(d,v,E,x,K,ee,fe){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+K+"]: "+v+`
`+E+`
`+ee+" "+fe})}function Hr(d,v,E,x){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ys(d,E)+(x?" "+x:"")})}function Jc(d,v){d.info(function(){return"TIMEOUT: "+v})}Fn.prototype.info=function(){};function Ys(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var x=E[d];if(!(2>x.length)){var K=x[1];if(Array.isArray(K)&&!(1>K.length)){var ee=K[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var fe=1;fe<K.length;fe++)K[fe]=""}}}}return oi(E)}catch{return v}}var qr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function wi(){}R(wi,Il),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},bi=new wi;function fn(d,v,E,x){this.j=d,this.i=v,this.l=E,this.R=x||1,this.U=new qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var Ml={},Ga={};function li(d,v,E){d.L=1,d.v=Js(Cn(v)),d.m=E,d.P=!0,er(d,null)}function er(d,v){d.F=Date.now(),Qs(d),d.A=Cn(d.v);var E=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),jl(E.i,"t",x),d.C=0,E=d.j.J,d.h=new Tt,d.g=gf(d.j,E?v:null,!d.m),0<d.O&&(d.M=new pp(T(d.Y,d,d.g),d.O)),v=d.U,E=d.g,x=d.ca;var K="readystatechange";Array.isArray(K)||(K&&($s[0]=K.toString()),K=$s);for(var ee=0;ee<K.length;ee++){var fe=Qc(E,K[ee],x||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Fr(),Nl(d.i,d.u,d.A,d.l,d.R,d.m)}fn.prototype.ca=function(d){d=d.target;const v=this.M;v&&Gn(d)==3?v.j():this.Y(d)},fn.prototype.Y=function(d){try{if(d==this.g)e:{const Nt=Gn(this.g);var v=this.g.Ba();const lr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||lf(this.g)))){this.J||Nt!=4||v==7||(v==8||0>=lr?Fr(3):Fr(2)),$r(this);var E=this.g.Z();this.X=E;t:if(ef(this)){var x=lf(this.g);d="";var K=x.length,ee=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),Si(this);var fe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,d+=this.h.i.decode(x[v],{stream:!(ee&&v==K-1)});x.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=E==200,mp(this.i,this.u,this.A,this.l,this.R,Nt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Pt=this.g;if((Fe=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Fe)){var He=Fe;break t}}He=null}if(E=He)Hr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xs(this,E);else{this.o=!1,this.s=3,lt(12),qt(this),Si(this);break e}}if(this.P){E=!0;let $t;for(;!this.J&&this.C<fe.length;)if($t=tf(this,fe),$t==Ga){Nt==4&&(this.s=4,lt(14),E=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Ml){this.s=4,lt(15),Hr(this.i,this.l,fe,"[Invalid Chunk]"),E=!1;break}else Hr(this.i,this.l,$t,null),Xs(this,$t);if(ef(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||fe.length!=0||this.h.h||(this.s=1,lt(16),E=!1),this.o=this.o&&E,!E)Hr(this.i,this.l,fe,"[Invalid Chunked Response]"),qt(this),Si(this);else if(0<fe.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),oa(Bt),Bt.M=!0,lt(11))}}else Hr(this.i,this.l,fe,null),Xs(this,fe);Nt==4&&qt(this),this.o&&!this.J&&(Nt==4?df(this.j,this):(this.o=!1,Qs(this)))}else Tp(this.g),E==400&&0<fe.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),qt(this),Si(this)}}}catch{}finally{}};function ef(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function tf(d,v){var E=d.C,x=v.indexOf(`
`,E);return x==-1?Ga:(E=Number(v.substring(E,x)),isNaN(E)?Ml:(x+=1,x+E>v.length?Ga:(v=v.slice(x,x+E),d.C=x+E,v)))}fn.prototype.cancel=function(){this.J=!0,qt(this)};function Qs(d){d.S=Date.now()+d.I,nf(d,d.I)}function nf(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=At(T(d.ba,d),v)}function $r(d){d.B&&(f.clearTimeout(d.B),d.B=null)}fn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Jc(this.i,this.A),this.L!=2&&(Fr(),lt(17)),qt(this),this.s=2,Si(this)):nf(this,this.S-d)};function Si(d){d.j.G==0||d.J||df(d.j,d)}function qt(d){$r(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Gs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Xs(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||kl(E.h,d))){if(!d.K&&kl(E.h,d)&&E.G==3){try{var x=E.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var K=x;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)ro(E),no(E);else break e;$l(E),lt(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=At(T(E.Za,E),6e3));if(1>=Ya(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else or(E,11)}else if((d.K||E.g==d)&&ro(E),!$(v))for(K=E.Da.g.parse(v),v=0;v<K.length;v++){let He=K[v];if(E.T=He[0],He=He[1],E.G==2)if(He[0]=="c"){E.K=He[1],E.ia=He[2];const Bt=He[3];Bt!=null&&(E.la=Bt,E.j.info("VER="+E.la));const Nt=He[4];Nt!=null&&(E.Aa=Nt,E.j.info("SVER="+E.Aa));const lr=He[5];lr!=null&&typeof lr=="number"&&0<lr&&(x=1.5*lr,E.L=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const $t=d.g;if($t){const Oi=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var ee=x.h;ee.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Qa(ee,ee.h),ee.h=null))}if(x.D){const Kl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;Kl&&(x.ya=Kl,et(x.I,x.D,Kl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),x=E;var fe=d;if(x.qa=mf(x,x.J?x.ia:null,x.W),fe.K){hn(x.h,fe);var Fe=fe,Pt=x.L;Pt&&(Fe.I=Pt),Fe.B&&($r(Fe),Qs(Fe)),x.g=fe}else ff(x);0<E.i.length&&io(E)}else He[0]!="stop"&&He[0]!="close"||or(E,7);else E.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?or(E,7):Hl(E):He[0]!="noop"&&E.l&&E.l.ta(He),E.v=0)}}Fr(4)}catch{}}var rf=class{constructor(d,v){this.g=d,this.map=v}};function tr(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ya(d){return d.h?1:d.g?d.g.size:0}function kl(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Qa(d,v){d.g?d.g.add(v):d.h=v}function hn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}tr.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Vl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return P(d.i)}function gp(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],E=d.length,x=0;x<E;x++)v.push(d[x]);return v}v=[],E=0;for(x in d)v[E++]=d[x];return v}function Xa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const x in d)v[E++]=x;return v}}}function Ll(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=Xa(d),x=gp(d),K=x.length,ee=0;ee<K;ee++)v.call(void 0,x[ee],E&&E[ee],d)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yp(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var x=d[E].indexOf("="),K=null;if(0<=x){var ee=d[E].substring(0,x);K=d[E].substring(x+1)}else ee=d[E];v(ee,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Rt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Rt){this.h=d.h,Zs(this,d.j),this.o=d.o,this.g=d.g,Gr(this,d.s),this.l=d.l;var v=d.i,E=new ir;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),nr(this,E),this.m=d.m}else d&&(v=String(d).match(Ws))?(this.h=!1,Zs(this,v[1]||"",!0),this.o=Hn(v[2]||""),this.g=Hn(v[3]||"",!0),Gr(this,v[4]),this.l=Hn(v[5]||"",!0),nr(this,v[6]||"",!0),this.m=Hn(v[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}Rt.prototype.toString=function(){var d=[],v=this.j;v&&d.push(ea(v,Ul,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ea(v,Ul,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(ea(E,E.charAt(0)=="/"?vp:Bl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",ea(E,Wa)),d.join("")};function Cn(d){return new Rt(d)}function Zs(d,v,E){d.j=E?Hn(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Gr(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function nr(d,v,E){v instanceof ir?(d.i=v,af(d.i,d.h)):(E||(v=ea(v,_p)),d.i=new ir(v,d.h))}function et(d,v,E){d.i.set(v,E)}function Js(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Hn(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ea(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,sf),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function sf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ul=/[#\/\?@]/g,Bl=/[#\?:]/g,vp=/[#\?]/g,_p=/[#\?@]/g,Wa=/#/g;function ir(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function qn(d){d.g||(d.g=new Map,d.h=0,d.i&&yp(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=ir.prototype,n.add=function(d,v){qn(this),this.i=null,d=Ai(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function rr(d,v){qn(d),v=Ai(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function sr(d,v){return qn(d),v=Ai(d,v),d.g.has(v)}n.forEach=function(d,v){qn(this),this.g.forEach(function(E,x){E.forEach(function(K){d.call(v,K,x,this)},this)},this)},n.na=function(){qn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let x=0;x<v.length;x++){const K=d[x];for(let ee=0;ee<K.length;ee++)E.push(v[x])}return E},n.V=function(d){qn(this);let v=[];if(typeof d=="string")sr(this,d)&&(v=v.concat(this.g.get(Ai(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},n.set=function(d,v){return qn(this),this.i=null,d=Ai(this,d),sr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function jl(d,v,E){rr(d,v),0<E.length&&(d.i=null,d.g.set(Ai(d,v),P(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var x=v[E];const ee=encodeURIComponent(String(x)),fe=this.V(x);for(x=0;x<fe.length;x++){var K=ee;fe[x]!==""&&(K+="="+encodeURIComponent(String(fe[x]))),d.push(K)}}return this.i=d.join("&")};function Ai(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function af(d,v){v&&!d.j&&(qn(d),d.i=null,d.g.forEach(function(E,x){var K=x.toLowerCase();x!=K&&(rr(this,x),jl(this,K,E))},d)),d.j=v}function ta(d,v){const E=new Fn;if(f.Image){const x=new Image;x.onload=S($n,E,"TestLoadImage: loaded",!0,v,x),x.onerror=S($n,E,"TestLoadImage: error",!1,v,x),x.onabort=S($n,E,"TestLoadImage: abort",!1,v,x),x.ontimeout=S($n,E,"TestLoadImage: timeout",!1,v,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else v(!1)}function ui(d,v){const E=new Fn,x=new AbortController,K=setTimeout(()=>{x.abort(),$n(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:x.signal}).then(ee=>{clearTimeout(K),ee.ok?$n(E,"TestPingServer: ok",!0,v):$n(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),$n(E,"TestPingServer: error",!1,v)})}function $n(d,v,E,x,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),x(E)}catch{}}function na(){this.g=new Ks}function Ri(d,v,E){const x=E||"";try{Ll(d,function(K,ee){let fe=K;p(K)&&(fe=oi(K)),v.push(x+ee+"="+encodeURIComponent(fe))})}catch(K){throw v.push(x+"type="+encodeURIComponent("_badmap")),K}}function Kr(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Kr,Il),Kr.prototype.g=function(){return new ar(this.l,this.j)},Kr.prototype.i=function(d){return function(){return d}}({});function ar(d,v){gt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ar,gt),n=ar.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Ii(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ci(this):Ii(this),this.readyState==3&&zl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ci(this))},n.Qa=function(d){this.g&&(this.response=d,Ci(this))},n.ga=function(){this.g&&Ci(this)};function Ci(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ii(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function Ii(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Fl(d){let v="";return J(d,function(E,x){v+=x,v+=":",v+=E,v+=`\r
`}),v}function Ut(d,v,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=Fl(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):et(d,v,E))}function Ye(d){gt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ye,gt);var Za=/^https?$/i,ia=["POST","PUT"];n=Ye.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?xl(this.o):xl(bi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ee){of(this,ee);return}if(d=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var K in x)E.set(K,x[K]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ee of x.keys())E.set(ee,x.get(ee));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),K=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ia,v,void 0))||x||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of E)this.g.setRequestHeader(ee,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(d),this.u=!1}catch(ee){of(this,ee)}};function of(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Ja(d),xi(d)}function Ja(d){d.A||(d.A=!0,Xe(d,"complete"),Xe(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Xe(this,"complete"),Xe(this,"abort"),xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?eo(this):this.bb())},n.bb=function(){eo(this)};function eo(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Gn(d)!=4||d.Z()!=2)){if(d.u&&Gn(d)==4)en(d.Ea,0,d);else if(Xe(d,"readystatechange"),Gn(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var x;if(x=fe===0){var K=String(d.D).match(Ws)[1]||null;!K&&f.self&&f.self.location&&(K=f.self.location.protocol.slice(0,-1)),x=!Za.test(K?K.toLowerCase():"")}E=x}if(E)Xe(d,"complete"),Xe(d,"success");else{d.m=6;try{var ee=2<Gn(d)?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.Z()+"]",Ja(d)}}finally{xi(d)}}}}function xi(d,v){if(d.g){ra(d);const E=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Xe(d,"ready");try{E.onreadystatechange=x}catch{}}}function ra(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Gn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),qa(v)}};function lf(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Tp(d){const v={};d=(d.g&&2<=Gn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if($(d[x]))continue;var E=V(d[x]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=v[K]||[];v[K]=ee,ee.push(E)}M(v,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function to(d){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,d),this.cb=sa("retryDelaySeedMs",1e4,d),this.Wa=sa("forwardChannelMaxRetries",2,d),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new tr(d&&d.concurrentRequestLimit),this.Da=new na,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=to.prototype,n.la=8,n.G=1,n.connect=function(d,v,E,x){lt(0),this.W=d,this.H=v||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=mf(this,null,this.W),io(this)};function Hl(d){if(uf(d),d.G==3){var v=d.U++,E=Cn(d.I);if(et(E,"SID",d.K),et(E,"RID",v),et(E,"TYPE","terminate"),aa(d,E),v=new fn(d,d.j,v),v.L=2,v.v=Js(Cn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.v,E=!0),E||(v.g=gf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Qs(v)}pf(d)}function no(d){d.g&&(oa(d),d.g.cancel(),d.g=null)}function uf(d){no(d),d.u&&(f.clearTimeout(d.u),d.u=null),ro(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function io(d){if(!Ka(d.h)&&!d.s){d.s=!0;var v=d.Ga;se||w(),de||(se(),de=!0),be.add(v,d),d.B=0}}function Ep(d,v){return Ya(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=At(T(d.Ga,d,v),Gl(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new fn(this,this.j,d);let ee=this.o;if(this.S&&(ee?(ee=A(ee),k(ee,this.S)):ee=this.S),this.m!==null||this.O||(K.H=ee,ee=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=cf(this,K,v),E=Cn(this.I),et(E,"RID",d),et(E,"CVER",22),this.D&&et(E,"X-HTTP-Session-Id",this.D),aa(this,E),ee&&(this.O?v="headers="+encodeURIComponent(String(Fl(ee)))+"&"+v:this.m&&Ut(E,this.m,ee)),Qa(this.h,K),this.Ua&&et(E,"TYPE","init"),this.P?(et(E,"$req",v),et(E,"SID","null"),K.T=!0,li(K,E,null)):li(K,E,v),this.G=2}}else this.G==3&&(d?ql(this,d):this.i.length==0||Ka(this.h)||ql(this))};function ql(d,v){var E;v?E=v.l:E=d.U++;const x=Cn(d.I);et(x,"SID",d.K),et(x,"RID",E),et(x,"AID",d.T),aa(d,x),d.m&&d.o&&Ut(x,d.m,d.o),E=new fn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=cf(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Qa(d.h,E),li(E,x,v)}function aa(d,v){d.H&&J(d.H,function(E,x){et(v,x,E)}),d.l&&Ll({},function(E,x){et(v,x,E)})}function cf(d,v,E){E=Math.min(d.i.length,E);var x=d.l?T(d.l.Na,d.l,d):null;e:{var K=d.i;let ee=-1;for(;;){const fe=["count="+E];ee==-1?0<E?(ee=K[0].g,fe.push("ofs="+ee)):ee=0:fe.push("ofs="+ee);let Fe=!0;for(let Pt=0;Pt<E;Pt++){let He=K[Pt].g;const Bt=K[Pt].map;if(He-=ee,0>He)ee=Math.max(0,K[Pt].g-100),Fe=!1;else try{Ri(Bt,fe,"req"+He+"_")}catch{x&&x(Bt)}}if(Fe){x=fe.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,x}function ff(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;se||w(),de||(se(),de=!0),be.add(v,d),d.v=0}}function $l(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=At(T(d.Fa,d),Gl(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,hf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=At(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),no(this),hf(this))};function oa(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function hf(d){d.g=new fn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Cn(d.qa);et(v,"RID","rpc"),et(v,"SID",d.K),et(v,"AID",d.T),et(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(v,"TO",d.ja),et(v,"TYPE","xmlhttp"),aa(d,v),d.m&&d.o&&Ut(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Js(Cn(v)),E.m=null,E.P=!0,er(E,d)}n.Za=function(){this.C!=null&&(this.C=null,no(this),$l(this),lt(19))};function ro(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function df(d,v){var E=null;if(d.g==v){ro(d),oa(d),d.g=null;var x=2}else if(kl(d.h,v))E=v.D,hn(d.h,v),x=1;else return;if(d.G!=0){if(v.o)if(x==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var K=d.B;x=zr(),Xe(x,new Ot(x,E)),io(d)}else ff(d);else if(K=v.s,K==3||K==0&&0<v.X||!(x==1&&Ep(d,v)||x==2&&$l(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),K){case 1:or(d,5);break;case 4:or(d,10);break;case 3:or(d,6);break;default:or(d,2)}}}function Gl(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function or(d,v){if(d.j.info("Error code "+v),v==2){var E=T(d.fb,d),x=d.Xa;const K=!x;x=new Rt(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Zs(x,"https"),Js(x),K?ta(x.toString(),E):ui(x.toString(),E)}else lt(2);d.G=0,d.l&&d.l.sa(v),pf(d),uf(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function pf(d){if(d.G=0,d.ka=[],d.l){const v=Vl(d.h);(v.length!=0||d.i.length!=0)&&(I(d.ka,v),I(d.ka,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.ra()}}function mf(d,v,E){var x=E instanceof Rt?Cn(E):new Rt(E);if(x.g!="")v&&(x.g=v+"."+x.g),Gr(x,x.s);else{var K=f.location;x=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var ee=new Rt(null);x&&Zs(ee,x),v&&(ee.g=v),K&&Gr(ee,K),E&&(ee.l=E),x=ee}return E=d.D,v=d.ya,E&&v&&et(x,E,v),et(x,"VER",d.la),aa(d,x),x}function gf(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Ye(new Kr({eb:E})):new Ye(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yf(){}n=yf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function so(){}so.prototype.g=function(d,v){return new dn(d,v)};function dn(d,v){gt.call(this),this.g=new to(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!$(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Di(this)}R(dn,gt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Hl(this.g)},dn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=oi(d),d=E);v.i.push(new rf(v.Ya++,d)),v.G==3&&io(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,dn.aa.N.call(this)};function vf(d){Zi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}R(vf,Zi);function _f(){Ol.call(this),this.status=1}R(_f,Ol);function Di(d){this.g=d}R(Di,yf),Di.prototype.ua=function(){Xe(this.g,"a")},Di.prototype.ta=function(d){Xe(this.g,new vf(d))},Di.prototype.sa=function(d){Xe(this.g,new _f)},Di.prototype.ra=function(){Xe(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,A1=function(){return new so},S1=function(){return zr()},w1=Ei,gy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,Bh=qr,Ji.COMPLETE="complete",b1=Ji,Dl.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",gt.prototype.listen=gt.prototype.K,zu=Dl,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,E1=Ye}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const nw="@firebase/firestore",iw="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Pd("@firebase/firestore");function jo(){return ka.logLevel}function pe(n,...e){if(ka.logLevel<=je.DEBUG){const t=e.map(Av);ka.debug(`Firestore (${yl}): ${n}`,...t)}}function Nr(n,...e){if(ka.logLevel<=je.ERROR){const t=e.map(Av);ka.error(`Firestore (${yl}): ${n}`,...t)}}function tl(n,...e){if(ka.logLevel<=je.WARN){const t=e.map(Av);ka.warn(`Firestore (${yl}): ${n}`,...t)}}function Av(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,R1(n,i,t)}function R1(n,e,t){let i=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Nr(i),new Error(i)}function Qe(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||R1(e,a,i)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class rL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sL{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let i=this.i;const a=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xr,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},f=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string",31837,{l:i}),new C1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class aL{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oL{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new aL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const i=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const a=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=uL(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<t&&(i+=e.charAt(a[o]%62))}return i}}function Ve(n,e){return n<e?-1:n>e?1:0}function yy(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Ve(i,a);{const o=I1(),u=cL(o.encode(sw(n,t)),o.encode(sw(e,t)));return u!==0?u:Ve(i,a)}}t+=i>65535?2:1}return Ve(n.length,e.length)}function sw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function cL(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ve(n[t],e[t]);return Ve(n.length,e.length)}function nl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=-62135596800,ow=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ow);return new Vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aw)throw new me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ow}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Vt(0,0))}static max(){return new Oe(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="__name__";class Ui{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const o=Ui.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Ve(e.length,t.length)}static compareSegments(e,t){const i=Ui.isNumericId(e),a=Ui.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Ui.extractNumericId(e).compare(Ui.extractNumericId(t)):yy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class ot extends Ui{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const fL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ui{construct(e,t,i){return new Wt(e,t,i)}static isValidIdentifier(e){return fL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lw}static keyField(){return new Wt([lw])}static fromServerFormat(e){const t=[];let i="",a=0;const o=()=>{if(i.length===0)throw new me(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new me(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(o(),a++)}if(o(),u)throw new me(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function hL(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(i===1e9?new Vt(t+1,0):new Vt(t,i));return new As(a,Ee.empty(),e)}function dL(n){return new As(n.readTime,n.key,fc)}class As{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new As(Oe.min(),Ee.empty(),fc)}static max(){return new As(Oe.max(),Ee.empty(),fc)}}function pL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==mL)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let a=0,o=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++o,u&&o===a&&t()},h=>i(h))}),u=!0,o===a&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(a=>a?le.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,o)=>{i.push(t.call(this,a,o))}),this.waitFor(i)}static mapArray(e,t){return new le((i,a)=>{const o=e.length,u=new Array(o);let f=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(g=>{u[p]=g,++f,f===o&&i(u)},g=>a(g))}})}static doWhile(e,t){return new le((i,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):i()};o()})}}function yL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _l(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ud.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-1;function Bd(n){return n==null}function id(n){return n===0&&1/n==-1/0}function vL(n){return typeof n=="number"&&Number.isInteger(n)&&!id(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="";function _L(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uw(e)),e=TL(n.get(t),e);return uw(e)}function TL(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case D1:t+="";break;default:t+=o}}return t}function uw(n){return n+D1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function O1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,i,a,o){this.key=e,this.value=t,this.color=i??Xt.RED,this.left=a??Xt.EMPTY,this.right=o??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,o){return new Xt(e??this.key,t??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,i),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Xt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,a,o){return this}insert(e,t,i){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(e){return new fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Lt(Wt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new P1("Invalid base64 string: "+o):o}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const EL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=EL.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cs(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="server_timestamp",M1="__type__",k1="__previous_value__",V1="__local_write_time__";function Cv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[M1])===null||t===void 0?void 0:t.stringValue)===N1}function jd(n){const e=n.mapValue.fields[k1];return Cv(e)?jd(e):e}function hc(n){const e=Rs(n.mapValue.fields[V1].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,t,i,a,o,u,f,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p}}const rd="(default)";class dc{constructor(e,t){this.projectId=e,this.database=t||rd}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="__type__",wL="__max__",Sh={mapValue:{}},U1="__vector__",sd="value";function Is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cv(n)?4:AL(n)?9007199254740991:SL(n)?10:11:Re(28295,{value:n})}function Yi(n,e){if(n===e)return!0;const t=Is(n);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hc(n).isEqual(hc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Rs(a.timestampValue),f=Rs(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Cs(a.bytesValue).isEqual(Cs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return St(a.geoPointValue.latitude)===St(o.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return St(a.integerValue)===St(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=St(a.doubleValue),f=St(o.doubleValue);return u===f?id(u)===id(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return nl(n.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},f=o.mapValue.fields||{};if(cw(u)!==cw(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Yi(u[h],f[h])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function pc(n,e){return(n.values||[]).find(t=>Yi(t,e))!==void 0}function il(n,e){if(n===e)return 0;const t=Is(n),i=Is(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(o,u){const f=St(o.integerValue||o.doubleValue),h=St(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return hw(n.timestampValue,e.timestampValue);case 4:return hw(hc(n),hc(e));case 5:return yy(n.stringValue,e.stringValue);case 6:return function(o,u){const f=Cs(o),h=Cs(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),h=u.split("/");for(let p=0;p<f.length&&p<h.length;p++){const g=Ve(f[p],h[p]);if(g!==0)return g}return Ve(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const f=Ve(St(o.latitude),St(u.latitude));return f!==0?f:Ve(St(o.longitude),St(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return dw(n.arrayValue,e.arrayValue);case 10:return function(o,u){var f,h,p,g;const _=o.fields||{},T=u.fields||{},S=(f=_[sd])===null||f===void 0?void 0:f.arrayValue,R=(h=T[sd])===null||h===void 0?void 0:h.arrayValue,P=Ve(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0);return P!==0?P:dw(S,R)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Sh.mapValue&&u===Sh.mapValue)return 0;if(o===Sh.mapValue)return 1;if(u===Sh.mapValue)return-1;const f=o.fields||{},h=Object.keys(f),p=u.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const T=yy(h[_],g[_]);if(T!==0)return T;const S=il(f[h[_]],p[g[_]]);if(S!==0)return S}return Ve(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{Pe:t})}}function hw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Rs(n),i=Rs(e),a=Ve(t.seconds,i.seconds);return a!==0?a:Ve(t.nanos,i.nanos)}function dw(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const o=il(t[a],i[a]);if(o)return o}return Ve(t.length,i.length)}function rl(n){return vy(n)}function vy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Rs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const o of t.values||[])a?a=!1:i+=",",i+=vy(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${vy(t.fields[u])}`;return a+"}"}(n.mapValue):Re(61005,{value:n})}function jh(n){switch(Is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(n);return e?16+jh(e):16;case 5:return 2*n.stringValue.length;case 6:return Cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,o)=>a+jh(o),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ls(i.fields,(o,u)=>{a+=o.length+jh(u)}),a}(n.mapValue);default:throw Re(13486,{value:n})}}function pw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _y(n){return!!n&&"integerValue"in n}function Iv(n){return!!n&&"arrayValue"in n}function mw(n){return!!n&&"nullValue"in n}function gw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zh(n){return!!n&&"mapValue"in n}function SL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[L1])===null||t===void 0?void 0:t.stringValue)===U1}function Yu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ls(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Yu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function AL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!zh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=Wt.emptyPath(),i={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,i,a),i={},a=[],t=f.popLast()}u?i[f.lastSegment()]=Yu(u):a.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,a)}delete(e){const t=this.field(e.popLast());zh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];zh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ls(t,(a,o)=>e[a]=o);for(const a of i)delete e[a]}clone(){return new bn(Yu(this.value))}}function B1(n){const e=[];return Ls(n.fields,(t,i)=>{const a=new Wt([t]);if(zh(i)){const o=B1(i.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t,i,a,o,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new on(e,0,Oe.min(),Oe.min(),Oe.min(),bn.empty(),0)}static newFoundDocument(e,t,i,a){return new on(e,1,t,Oe.min(),i,a,0)}static newNoDocument(e,t){return new on(e,2,t,Oe.min(),Oe.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,Oe.min(),Oe.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.position=e,this.inclusive=t}}function yw(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?i=Ee.comparator(Ee.fromName(u.referenceValue),t.key):i=il(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function vw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t="asc"){this.field=e,this.dir=t}}function RL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{}class Dt extends j1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new IL(e,t,i):t==="array-contains"?new OL(e,i):t==="in"?new PL(e,i):t==="not-in"?new NL(e,i):t==="array-contains-any"?new ML(e,i):new Dt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new xL(e,i):new DL(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends j1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new vi(e,t)}matches(e){return z1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function z1(n){return n.op==="and"}function F1(n){return CL(n)&&z1(n)}function CL(n){for(const e of n.filters)if(e instanceof vi)return!1;return!0}function Ty(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(F1(n))return n.filters.map(e=>Ty(e)).join(",");{const e=n.filters.map(t=>Ty(t)).join(",");return`${n.op}(${e})`}}function H1(n,e){return n instanceof Dt?function(i,a){return a instanceof Dt&&i.op===a.op&&i.field.isEqual(a.field)&&Yi(i.value,a.value)}(n,e):n instanceof vi?function(i,a){return a instanceof vi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((o,u,f)=>o&&H1(u,a.filters[f]),!0):!1}(n,e):void Re(19439)}function q1(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`}(n):n instanceof vi?function(t){return t.op.toString()+" {"+t.getFilters().map(q1).join(" ,")+"}"}(n):"Filter"}class IL extends Dt{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class xL extends Dt{constructor(e,t){super(e,"in",t),this.keys=$1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class DL extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=$1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class OL extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Iv(t)&&pc(t.arrayValue,this.value)}}class PL extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pc(this.value.arrayValue,t)}}class NL extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pc(this.value.arrayValue,t)}}class ML extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Iv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,t=null,i=[],a=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=f,this.Ie=null}}function _w(n,e=null,t=[],i=[],a=null,o=null,u=null){return new kL(n,e,t,i,a,o,u)}function xv(n){const e=Pe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ty(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>rl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>rl(i)).join(",")),e.Ie=t}return e.Ie}function Dv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!H1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vw(n.startAt,e.startAt)&&vw(n.endAt,e.endAt)}function Ey(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t=null,i=[],a=[],o=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function VL(n,e,t,i,a,o,u,f){return new Uc(n,e,t,i,a,o,u,f)}function Ov(n){return new Uc(n)}function Tw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function G1(n){return n.collectionGroup!==null}function Qu(n){const e=Pe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Lt(Wt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new od(o,i))}),t.has(Wt.keyField().canonicalString())||e.Ee.push(new od(Wt.keyField(),i))}return e.Ee}function zi(n){const e=Pe(n);return e.de||(e.de=LL(e,Qu(n))),e.de}function LL(n,e){if(n.limitType==="F")return _w(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new od(a.field,o)});const t=n.endAt?new ad(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ad(n.startAt.position,n.startAt.inclusive):null;return _w(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function by(n,e){const t=n.filters.concat([e]);return new Uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wy(n,e,t){return new Uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zd(n,e){return Dv(zi(n),zi(e))&&n.limitType===e.limitType}function K1(n){return`${xv(zi(n))}|lt:${n.limitType}`}function zo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>q1(a)).join(", ")}]`),Bd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>rl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>rl(a)).join(",")),`Target(${i})`}(zi(n))}; limitType=${n.limitType})`}function Fd(n,e){return e.isFoundDocument()&&function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ee.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,a){for(const o of Qu(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,f,h){const p=yw(u,f,h);return u.inclusive?p<=0:p<0}(i.startAt,Qu(i),a)||i.endAt&&!function(u,f,h){const p=yw(u,f,h);return u.inclusive?p>=0:p>0}(i.endAt,Qu(i),a))}(n,e)}function UL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Y1(n){return(e,t)=>{let i=!1;for(const a of Qu(n)){const o=BL(a,e,t);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function BL(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(o,u,f){const h=u.data.field(o),p=f.data.field(o);return h!==null&&p!==null?il(h,p):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(t,i)=>{for(const[a,o]of i)e(a,o)})}isEmpty(){return O1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new mt(Ee.comparator);function Mr(){return jL}const Q1=new mt(Ee.comparator);function Fu(...n){let e=Q1;for(const t of n)e=e.insert(t.key,t);return e}function X1(n){let e=Q1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ia(){return Xu()}function W1(){return Xu()}function Xu(){return new Ba(n=>n.toString(),(n,e)=>n.isEqual(e))}const zL=new mt(Ee.comparator),FL=new Lt(Ee.comparator);function ze(...n){let e=FL;for(const t of n)e=e.add(t);return e}const HL=new Lt(Ve);function qL(){return HL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function Z1(n){return{integerValue:""+n}}function $L(n,e){return vL(e)?Z1(e):Pv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function GL(n,e,t){return n instanceof mc?function(a,o){const u={fields:{[M1]:{stringValue:N1},[V1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Cv(o)&&(o=jd(o)),o&&(u.fields[k1]=o),{mapValue:u}}(t,e):n instanceof gc?eC(n,e):n instanceof yc?tC(n,e):function(a,o){const u=J1(a,o),f=Ew(u)+Ew(a.Re);return _y(u)&&_y(a.Re)?Z1(f):Pv(a.serializer,f)}(n,e)}function KL(n,e,t){return n instanceof gc?eC(n,e):n instanceof yc?tC(n,e):t}function J1(n,e){return n instanceof ld?function(i){return _y(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class mc extends Hd{}class gc extends Hd{constructor(e){super(),this.elements=e}}function eC(n,e){const t=nC(e);for(const i of n.elements)t.some(a=>Yi(a,i))||t.push(i);return{arrayValue:{values:t}}}class yc extends Hd{constructor(e){super(),this.elements=e}}function tC(n,e){let t=nC(e);for(const i of n.elements)t=t.filter(a=>!Yi(a,i));return{arrayValue:{values:t}}}class ld extends Hd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Ew(n){return St(n.integerValue||n.doubleValue)}function nC(n){return Iv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,t){this.field=e,this.transform=t}}function QL(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof gc&&a instanceof gc||i instanceof yc&&a instanceof yc?nl(i.elements,a.elements,Yi):i instanceof ld&&a instanceof ld?Yi(i.Re,a.Re):i instanceof mc&&a instanceof mc}(n.transform,e.transform)}class XL{constructor(e,t){this.version=e,this.transformResults=t}}class ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qd{}function iC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nv(n.key,ii.none()):new Bc(n.key,n.data,ii.none());{const t=n.data,i=bn.empty();let a=new Lt(Wt.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new Us(n.key,i,new Vn(a.toArray()),ii.none())}}function WL(n,e,t){n instanceof Bc?function(a,o,u){const f=a.value.clone(),h=ww(a.fieldTransforms,o,u.transformResults);f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Us?function(a,o,u){if(!Fh(a.precondition,o))return void o.convertToUnknownDocument(u.version);const f=ww(a.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(rC(a)),h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Wu(n,e,t,i){return n instanceof Bc?function(o,u,f,h){if(!Fh(o.precondition,u))return f;const p=o.value.clone(),g=Sw(o.fieldTransforms,h,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Us?function(o,u,f,h){if(!Fh(o.precondition,u))return f;const p=Sw(o.fieldTransforms,h,u),g=u.data;return g.setAll(rC(o)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(o,u,f){return Fh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function ZL(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),o=J1(i.transform,a||null);o!=null&&(t===null&&(t=bn.empty()),t.set(i.field,o))}return t||null}function bw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&nl(i,a,(o,u)=>QL(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bc extends qd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Us extends qd{constructor(e,t,i,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function ww(n,e,t){const i=new Map;Qe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,f=e.data.field(o.field);i.set(o.field,KL(u,f,t[a]))}return i}function Sw(n,e,t){const i=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);i.set(a.field,GL(o,u,e))}return i}class Nv extends qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JL extends qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&WL(o,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Wu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Wu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=W1();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(a.key)?null:f;const h=iC(u,f);h!==null&&i.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(t,i)=>bw(t,i))&&nl(this.baseMutations,e.baseMutations,(t,i)=>bw(t,i))}}class Mv{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Qe(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return zL}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new Mv(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,$e;function iU(n){switch(n){case ue.OK:return Re(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function sC(n){if(n===void 0)return Nr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case xt.OK:return ue.OK;case xt.CANCELLED:return ue.CANCELLED;case xt.UNKNOWN:return ue.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ue.INTERNAL;case xt.UNAVAILABLE:return ue.UNAVAILABLE;case xt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case xt.NOT_FOUND:return ue.NOT_FOUND;case xt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case xt.ABORTED:return ue.ABORTED;case xt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case xt.DATA_LOSS:return ue.DATA_LOSS;default:return Re(39323,{code:n})}}($e=xt||(xt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=new bs([4294967295,4294967295],0);function Aw(n){const e=I1().encode(n),t=new T1;return t.update(e),new Uint8Array(t.digest())}function Rw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bs([t,i],0),new bs([a,o],0)]}class kv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Hu(`Invalid padding: ${t}`);if(i<0)throw new Hu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=bs.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(bs.fromNumber(i)));return a.compare(rU)===1&&(a=new bs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Aw(e),[i,a]=Rw(t);for(let o=0;o<this.hashCount;o++){const u=this.we(i,a,o);if(!this.be(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new kv(o,a,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const t=Aw(e),[i,a]=Rw(t);for(let o=0;o<this.hashCount;o++){const u=this.we(i,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,i,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new $d(Oe.min(),a,new mt(Ve),Mr(),ze())}}class jc{constructor(e,t,i,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new jc(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class aC{constructor(e,t){this.targetId=e,this.Ce=t}}class oC{constructor(e,t,i=Jt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Cw{constructor(){this.Fe=0,this.Me=Iw(),this.xe=Jt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),t=ze(),i=ze();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:o})}}),new jc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Iw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sU{constructor(e){this.ze=e,this.je=new Map,this.He=Mr(),this.Je=Ah(),this.Ye=Ah(),this.Ze=new mt(Ve)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Ey(o))if(i===0){const u=new Ee(o.path);this.tt(t,u,on.newNoDocument(u,Oe.min()))}else Qe(i===1,20013,{expectedCount:i});else{const u=this.ut(t);if(u!==i){const f=this.ct(e),h=f?this.lt(f,e,u):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=t;let u,f;try{u=Cs(i).toUint8Array()}catch(h){if(h instanceof P1)return tl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new kv(u,a,o)}catch(h){return tl(h instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(o=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const f=this._t(u);if(f){if(o.current&&Ey(f.target)){const h=new Ee(f.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,on.newNoDocument(h,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let i=ze();this.Ye.forEach((o,u)=>{let f=!0;u.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new $d(e,t,this.Ze,this.He,i);return this.He=Mr(),this.Je=Ah(),this.Ye=Ah(),this.Ze=new mt(Ve),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Cw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Lt(Ve),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Lt(Ve),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Cw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ah(){return new mt(Ee.comparator)}function Iw(){return new mt(Ee.comparator)}const aU={asc:"ASCENDING",desc:"DESCENDING"},oU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lU={and:"AND",or:"OR"};class uU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sy(n,e){return n.useProto3Json||Bd(e)?e:{value:e}}function ud(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cU(n,e){return ud(n,e.toTimestamp())}function Fi(n){return Qe(!!n,49232),Oe.fromTimestamp(function(t){const i=Rs(t);return new Vt(i.seconds,i.nanos)}(n))}function Vv(n,e){return Ay(n,e).canonicalString()}function Ay(n,e){const t=function(a){return new ot(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uC(n){const e=ot.fromString(n);return Qe(pC(e),10190,{key:e.toString()}),e}function Ry(n,e){return Vv(n.databaseId,e.path)}function Dg(n,e){const t=uC(e);if(t.get(1)!==n.databaseId.projectId)throw new me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(fC(t))}function cC(n,e){return Vv(n.databaseId,e)}function fU(n){const e=uC(n);return e.length===4?ot.emptyPath():fC(e)}function Cy(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fC(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xw(n,e,t){return{name:Ry(n,e),fields:t.value.mapValue.fields}}function hU(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,g){return p.useProto3Json?(Qe(g===void 0||typeof g=="string",58123),Jt.fromBase64String(g||"")):(Qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Jt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const g=p.code===void 0?ue.UNKNOWN:sC(p.code);return new me(g,p.message||"")}(u);t=new oC(i,a,o,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Dg(n,i.document.name),o=Fi(i.document.updateTime),u=i.document.createTime?Fi(i.document.createTime):Oe.min(),f=new bn({mapValue:{fields:i.document.fields}}),h=on.newFoundDocument(a,o,u,f),p=i.targetIds||[],g=i.removedTargetIds||[];t=new Hh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Dg(n,i.document),o=i.readTime?Fi(i.readTime):Oe.min(),u=on.newNoDocument(a,o),f=i.removedTargetIds||[];t=new Hh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Dg(n,i.document),o=i.removedTargetIds||[];t=new Hh([],o,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new nU(a,o),f=i.targetId;t=new aC(f,u)}}return t}function dU(n,e){let t;if(e instanceof Bc)t={update:xw(n,e.key,e.value)};else if(e instanceof Nv)t={delete:Ry(n,e.key)};else if(e instanceof Us)t={update:xw(n,e.key,e.data),updateMask:bU(e.fieldMask)};else{if(!(e instanceof JL))return Re(16599,{ft:e.type});t={verify:Ry(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,u){const f=u.transform;if(f instanceof mc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof gc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof yc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ld)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw Re(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:cU(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re(27497)}(n,e.precondition)),t}function pU(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?Fi(a.updateTime):Fi(o);return u.isEqual(Oe.min())&&(u=Fi(o)),new XL(u,a.transformResults||[])}(t,e))):[]}function mU(n,e){return{documents:[cC(n,e.path)]}}function gU(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=cC(n,a);const o=function(p){if(p.length!==0)return dC(vi.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:Fo(T.field),direction:_U(T.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Sy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function yU(n){let e=fU(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Qe(i===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const T=hC(_);return T instanceof vi&&F1(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(T=>function(R){return new od(Ho(R.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(_){let T;return T=typeof _=="object"?_.value:_,Bd(T)?null:T}(t.limit));let h=null;t.startAt&&(h=function(_){const T=!!_.before,S=_.values||[];return new ad(S,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,S=_.values||[];return new ad(S,T)}(t.endAt)),VL(e,a,u,o,f,"F",h,p)}function vU(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ho(t.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ho(t.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ho(t.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ho(t.unaryFilter.field);return Dt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(Ho(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vi.create(t.compositeFilter.filters.map(i=>hC(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function _U(n){return aU[n]}function TU(n){return oU[n]}function EU(n){return lU[n]}function Fo(n){return{fieldPath:n.canonicalString()}}function Ho(n){return Wt.fromServerFormat(n.fieldPath)}function dC(n){return n instanceof Dt?function(t){if(t.op==="=="){if(gw(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NAN"}};if(mw(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gw(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NAN"}};if(mw(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(t.field),op:TU(t.op),value:t.value}}}(n):n instanceof vi?function(t){const i=t.getFilters().map(a=>dC(a));return i.length===1?i[0]:{compositeFilter:{op:EU(t.op),filters:i}}}(n):Re(54877,{filter:n})}function bU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,i,a,o=Oe.min(),u=Oe.min(),f=Jt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.wt=e}}function SU(n){const e=yU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.yn=new RU}addToCollectionParentIndex(e,t){return this.yn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(As.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class RU{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Lt(ot.comparator),o=!a.has(i);return this.index[t]=a.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Lt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mC=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(mC,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new sl(0)}static ir(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="LruGarbageCollector",CU=1048576;function Pw([n,e],[t,i]){const a=Ve(n,t);return a===0?Ve(e,i):a}class IU{constructor(e){this.cr=e,this.buffer=new Lt(Pw),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Pw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xU{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pe(Ow,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_l(t)?pe(Ow,"Ignoring IndexedDB error during garbage collection: ",t):await vl(t)}await this.Ir(3e5)})}}class DU{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Ud.le);const i=new IU(t);return this.Er.forEachTarget(e,a=>i.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>i.Pr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Dw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dw):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,a,o,u,f,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,f=Date.now(),this.removeTargets(e,i,t))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),jo()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${o} targets in `+(h-f)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function OU(n,e){return new DU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.changes=new Ba(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Wu(i.mutation,a,Vn.empty(),Vt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const a=Ia();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(o=>{let u=Fu();return o.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ia();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const a=[];return i.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,a){let o=Mr();const u=Xu(),f=function(){return Xu()}();return t.forEach((h,p)=>{const g=i.get(p.key);a.has(p.key)&&(g===void 0||g.mutation instanceof Us)?o=o.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Wu(g.mutation,p,g.mutation.getFieldMask(),Vt.now())):u.set(p.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,g)=>u.set(p,g)),t.forEach((p,g)=>{var _;return f.set(p,new NU(g,(_=u.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Xu();let a=new mt((u,f)=>u-f),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=i.get(h)||Vn.empty();g=f.applyToLocalView(p,g),i.set(h,g);const _=(a.get(f.batchId)||ze()).add(h);a=a.insert(f.batchId,_)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,g=h.value,_=W1();g.forEach(T=>{if(!o.has(T)){const S=iC(t.get(T),i.get(T));S!==null&&_.set(T,S),o=o.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return le.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):G1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-o.size):le.resolve(Ia());let f=fc,h=o;return u.next(p=>le.forEach(p,(g,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(g)?le.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{h=h.insert(g,T)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,ze())).next(g=>({batchId:f,changes:X1(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let a=Fu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const o=t.collectionGroup;let u=Fu();return this.indexManager.getCollectionParents(e,o).next(f=>le.forEach(f,h=>{const p=function(_,T){return new Uc(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(g=>{g.forEach((_,T)=>{u=u.insert(_,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,a))).next(u=>{o.forEach((h,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,on.newInvalidDocument(g)))});let f=Fu();return u.forEach((h,p)=>{const g=o.get(h);g!==void 0&&Wu(g.mutation,p,Vn.empty(),Vt.now()),Fd(t,p)&&(f=f.insert(h,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return le.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Fi(a.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:SU(a.bundledQuery),readTime:Fi(a.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(){this.overlays=new mt(Ee.comparator),this.Or=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ia();return le.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&i.set(a,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,o)=>{this.St(e,t,o)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Or.get(i);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const a=Ia(),o=t.length+1,u=new Ee(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>i&&a.set(h.getKey(),h)}return le.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let o=new mt((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let g=o.get(p.largestBatchId);g===null&&(g=Ia(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const f=Ia(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>f.set(p,g)),!(f.size()>=a)););return le.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(i.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new tU(t,i));let o=this.Or.get(t);o===void 0&&(o=ze(),this.Or.set(t,o)),this.Or.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.Nr=new Lt(Ht.Br),this.Lr=new Lt(Ht.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new Ht(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Ee(new ot([])),i=new Ht(t,e),a=new Ht(t,e+1),o=[];return this.Lr.forEachInRange([i,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ee(new ot([])),i=new Ht(t,e),a=new Ht(t,e+1);let o=ze();return this.Lr.forEachInRange([i,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Ht(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ee.comparator(e.key,t.key)||Ve(e.Gr,t.Gr)}static kr(e,t){return Ve(e.Gr,t.Gr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Lt(Ht.Br)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new eU(o,t,i,a);this.mutationQueue.push(u);for(const f of a)this.zr=this.zr.add(new Ht(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Hr(i),o=a<0?0:a;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Rv:this.Jn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),a=new Ht(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([i,a],u=>{const f=this.jr(u.Gr);o.push(f)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(Ve);return t.forEach(a=>{const o=new Ht(a,0),u=new Ht(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],f=>{i=i.add(f.Gr)})}),le.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let o=i;Ee.isDocumentKey(o)||(o=o.child(""));const u=new Ht(new Ee(o),0);let f=new Lt(Ve);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(h.Gr)),!0)},u),le.resolve(this.Jr(f))}Jr(e){const t=[];return e.forEach(i=>{const a=this.jr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Qe(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return le.forEach(t.mutations,a=>{const o=new Ht(a.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new Ht(t,0),a=this.zr.firstAfterOrEqual(i);return le.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.Zr=e,this.docs=function(){return new mt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),o=a?a.size:0,u=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let i=Mr();return t.forEach(a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():on.newInvalidDocument(a))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let o=Mr();const u=t.path,f=new Ee(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||pL(dL(g),i)<=0||(a.has(g.key)||Fd(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,t,i,a){Re(9500)}Xr(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new jU(this)}getSize(e){return le.resolve(this.size)}}class jU extends PU{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.persistence=e,this.ei=new Ba(t=>xv(t),Dv),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ti=0,this.ni=new Lv,this.targetCount=0,this.ri=sl.rr()}forEachTarget(e,t){return this.ei.forEach((i,a)=>t(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),le.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.ar(t),le.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let a=0;const o=[];return this.ei.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),le.waitFor(o).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),le.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),le.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t){this.ii={},this.overlays={},this.si=new Ud(0),this.oi=!1,this.oi=!0,this._i=new LU,this.referenceDelegate=e(this),this.ai=new zU(this),this.indexManager=new AU,this.remoteDocumentCache=function(a){return new BU(a)}(i=>this.referenceDelegate.ui(i)),this.serializer=new wU(t),this.ci=new kU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new UU(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const a=new FU(this.si.next());return this.referenceDelegate.li(),i(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return le.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class FU extends gL{constructor(e){super(),this.currentSequenceNumber=e}}class Uv{constructor(e){this.persistence=e,this.Ti=new Lv,this.Ii=null}static Ei(e){return new Uv(e)}get di(){if(this.Ii)return this.Ii;throw Re(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,i=>{const a=Ee.fromPath(i);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Oe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return le.or([()=>le.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class cd{constructor(e,t){this.persistence=e,this.Ri=new Ba(i=>_L(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=OU(this,t)}static Ei(e,t){return new cd(e,t)}li(){}hi(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return le.forEach(this.Ri,(i,a)=>this.gr(e,i,a).next(o=>o?le.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,t).next(f=>{f||(i++,o.removeEntry(u,Oe.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),le.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jh(e.data.value)),t}gr(e,t,i){return le.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=a}static Ps(e,t){let i=ze(),a=ze();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Bv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return v2()?8:yL(un())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,a){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,a,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new HU;return this.fs(e,t,u).next(f=>{if(o.result=f,this.Is)return this.gs(e,t,u,f.size)})}).next(()=>o.result)}gs(e,t,i,a){return i.documentReadCount<this.Es?(jo()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),le.resolve()):(jo()<=je.DEBUG&&pe("QueryEngine","Query:",zo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(jo()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(t))):le.resolve())}Rs(e,t){if(Tw(t))return le.resolve(null);let i=zi(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=wy(t,null,"F"),i=zi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=ze(...o);return this.As.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.ps(t,f);return this.ys(t,p,u,h.readTime)?this.Rs(e,wy(t,null,"F")):this.ws(e,p,t,h)}))})))}Vs(e,t,i,a){return Tw(t)||a.isEqual(Oe.min())?le.resolve(null):this.As.getDocuments(e,i).next(o=>{const u=this.ps(t,o);return this.ys(t,u,i,a)?le.resolve(null):(jo()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zo(t)),this.ws(e,u,t,hL(a,fc)).next(f=>f))})}ps(e,t){let i=new Lt(Y1(e));return t.forEach((a,o)=>{Fd(e,o)&&(i=i.add(o))}),i}ys(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,i){return jo()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",zo(t)),this.As.getDocumentsMatchingQuery(e,t,As.min(),i)}ws(e,t,i,a){return this.As.getDocumentsMatchingQuery(e,i,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LocalStore",$U=3e8;class GU{constructor(e,t,i,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new mt(Ve),this.Ds=new Ba(o=>xv(o),Dv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MU(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function KU(n,e,t,i){return new GU(n,e,t,i)}async function yC(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],f=[];let h=ze();for(const p of a){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){f.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:f}))})})}function YU(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(f,h,p,g){const _=p.batch,T=_.keys();let S=le.resolve();return T.forEach(R=>{S=S.next(()=>g.getEntry(h,R)).next(P=>{const I=p.docVersions.get(R);Qe(I!==null,48541),P.version.compareTo(I)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),g.addEntry(P)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(h,_))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let h=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function vC(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function QU(n,e){const t=Pe(n),i=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const f=[];e.targetChanges.forEach((g,_)=>{const T=a.get(_);if(!T)return;f.push(t.ai.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.ai.addMatchingKeys(o,g.addedDocuments,_)));let S=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Jt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),a=a.insert(_,S),function(P,I,L){return P.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=$U?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(T,S,g)&&f.push(t.ai.updateTargetData(o,S))});let h=Mr(),p=ze();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),f.push(XU(o,u,e.documentUpdates).next(g=>{h=g.xs,p=g.Os})),!i.isEqual(Oe.min())){const g=t.ai.getLastRemoteSnapshotVersion(o).next(_=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,i));f.push(g)}return le.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ss=a,o))}function XU(n,e,t){let i=ze(),a=ze();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let u=Mr();return t.forEach((f,h)=>{const p=o.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(Oe.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):pe(jv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)}),{xs:u,Os:a}})}function WU(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Rv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ZU(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.ai.getTargetData(i,e).next(o=>o?(a=o,le.resolve(a)):t.ai.allocateTargetId(i).next(u=>(a=new Ts(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ss.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function Iy(n,e,t){const i=Pe(n),a=i.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!_l(u))throw u;pe(jv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(a.target)}function Nw(n,e,t){const i=Pe(n);let a=Oe.min(),o=ze();return i.persistence.runTransaction("Execute query","readwrite",u=>function(h,p,g){const _=Pe(h),T=_.Ds.get(g);return T!==void 0?le.resolve(_.Ss.get(T)):_.ai.getTargetData(p,g)}(i,u,zi(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(u,f.targetId).next(h=>{o=h})}).next(()=>i.bs.getDocumentsMatchingQuery(u,e,t?a:Oe.min(),t?o:ze())).next(f=>(JU(i,UL(e),f),{documents:f,Ns:o})))}function JU(n,e,t){let i=n.vs.get(e)||Oe.min();t.forEach((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.vs.set(e,i)}class Mw{constructor(){this.activeTargetIds=qL()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e4{constructor(){this.So=new Mw,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Mw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="ConnectivityMonitor";class Vw{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pe(kw,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pe(kw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function xy(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="RestConnection",n4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i4{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${a}`,this.qo=this.databaseId.database===rd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Qo(e,t,i,a,o){const u=xy(),f=this.$o(e,t.toUriEncodedString());pe(Og,`Sending RPC '${e}' ${u}:`,f,i);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,a,o),this.Ko(e,f,h,i).then(p=>(pe(Og,`Received RPC '${e}' ${u}: `,p),p),p=>{throw tl(Og,`RPC '${e}' ${u} failed with error: `,p,"url: ",f,"request:",i),p})}Wo(e,t,i,a,o,u){return this.Qo(e,t,i,a,o)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),i&&i.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const i=n4[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class s4 extends i4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,a){const o=xy();return new Promise((u,f)=>{const h=new E1;h.setWithCredentials(!0),h.listenOnce(b1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Bh.NO_ERROR:const g=h.getResponseJson();pe(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Bh.TIMEOUT:pe(rn,`RPC '${e}' ${o} timed out`),f(new me(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const _=h.getStatus();if(pe(rn,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const R=function(I){const L=I.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(L)>=0?L:ue.UNKNOWN}(S.status);f(new me(R,S.message))}else f(new me(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new me(ue.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{s_:e,streamId:o,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{pe(rn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);pe(rn,`RPC '${e}' ${o} sending request:`,a),h.send(t,"POST",p,i,15)})}a_(e,t,i){const a=xy(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=A1(),f=S1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=o.join("");pe(rn,`Creating RPC '${e}' stream ${a}: ${g}`,h);const _=u.createWebChannel(g,h);let T=!1,S=!1;const R=new r4({Go:I=>{S?pe(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(T||(pe(rn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),pe(rn,`RPC '${e}' stream ${a} sending:`,I),_.send(I))},zo:()=>_.close()}),P=(I,L,$)=>{I.listen(L,z=>{try{$(z)}catch(ie){setTimeout(()=>{throw ie},0)}})};return P(_,zu.EventType.OPEN,()=>{S||(pe(rn,`RPC '${e}' stream ${a} transport opened.`),R.t_())}),P(_,zu.EventType.CLOSE,()=>{S||(S=!0,pe(rn,`RPC '${e}' stream ${a} transport closed`),R.r_())}),P(_,zu.EventType.ERROR,I=>{S||(S=!0,tl(rn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),R.r_(new me(ue.UNAVAILABLE,"The operation could not be completed")))}),P(_,zu.EventType.MESSAGE,I=>{var L;if(!S){const $=I.data[0];Qe(!!$,16349);const z=$,ie=(z==null?void 0:z.error)||((L=z[0])===null||L===void 0?void 0:L.error);if(ie){pe(rn,`RPC '${e}' stream ${a} received error:`,ie);const F=ie.status;let J=function(D){const k=xt[D];if(k!==void 0)return sC(k)}(F),M=ie.message;J===void 0&&(J=ue.INTERNAL,M="Unknown error status: "+F+" with message "+ie.message),S=!0,R.r_(new me(J,M)),_.close()}else pe(rn,`RPC '${e}' stream ${a} received:`,$),R.i_($)}}),P(f,w1.STAT_EVENT,I=>{I.stat===gy.PROXY?pe(rn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===gy.NOPROXY&&pe(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.n_()},0),R}}function Pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(n){return new uU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,t,i=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="PersistentStream";class TC{constructor(e,t,i,a,o,u,f,h){this.bi=e,this.R_=i,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new _C(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.m_===t&&this.B_(i,a)},i=>{e(()=>{const a=new me(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(a)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{i(()=>this.L_(a))}),this.stream.onMessage(a=>{i(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pe(Lw,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(pe(Lw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a4 extends TC{constructor(e,t,i,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=hU(this.serializer,e),i=function(o){if(!("targetChange"in o))return Oe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Fi(u.readTime):Oe.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=Cy(this.serializer),t.addTarget=function(o,u){let f;const h=u.target;if(f=Ey(h)?{documents:mU(o,h)}:{query:gU(o,h).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=lC(o,u.resumeToken);const p=Sy(o,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Oe.min())>0){f.readTime=ud(o,u.snapshotVersion.toTimestamp());const p=Sy(o,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const i=vU(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=Cy(this.serializer),t.removeTarget=e,this.F_(t)}}class o4 extends TC{constructor(e,t,i,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=pU(e.writeResults,e.commitTime),i=Fi(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=Cy(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>dU(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{}class u4 extends l4{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,Ay(t,i),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(ue.UNKNOWN,o.toString())})}Wo(e,t,i,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,Ay(t,i),a,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ue.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class c4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Nr(t),this.ea=!1):pe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class f4{constructor(e,t,i,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{i.enqueueAndForget(async()=>{ja(this)&&(pe(Va,"Restarting streams for network reachability change."),await async function(h){const p=Pe(h);p.aa.add(4),await zc(p),p.la.set("Unknown"),p.aa.delete(4),await Kd(p)}(this))})}),this.la=new c4(i,a)}}async function Kd(n){if(ja(n))for(const e of n.ua)await e(!0)}async function zc(n){for(const e of n.ua)await e(!1)}function EC(n,e){const t=Pe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),qv(t)?Hv(t):Tl(t).b_()&&Fv(t,e))}function zv(n,e){const t=Pe(n),i=Tl(t);t._a.delete(e),i.b_()&&bC(t,e),t._a.size===0&&(i.b_()?i.v_():ja(t)&&t.la.set("Unknown"))}function Fv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Tl(n).U_(e)}function bC(n,e){n.ha.Ke(e),Tl(n).K_(e)}function Hv(n){n.ha=new sU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Tl(n).start(),n.la.ta()}function qv(n){return ja(n)&&!Tl(n).w_()&&n._a.size>0}function ja(n){return Pe(n).aa.size===0}function wC(n){n.ha=void 0}async function h4(n){n.la.set("Online")}async function d4(n){n._a.forEach((e,t)=>{Fv(n,e)})}async function p4(n,e){wC(n),qv(n)?(n.la.ia(e),Hv(n)):n.la.set("Unknown")}async function m4(n,e,t){if(n.la.set("Online"),e instanceof oC&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const f of o.targetIds)a._a.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a._a.delete(f),a.ha.removeTarget(f))}(n,e)}catch(i){pe(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fd(n,i)}else if(e instanceof Hh?n.ha.Xe(e):e instanceof aC?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Oe.min()))try{const i=await vC(n.localStore);t.compareTo(i)>=0&&await function(o,u){const f=o.ha.It(u);return f.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o._a.get(p);g&&o._a.set(p,g.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,p)=>{const g=o._a.get(h);if(!g)return;o._a.set(h,g.withResumeToken(Jt.EMPTY_BYTE_STRING,g.snapshotVersion)),bC(o,h);const _=new Ts(g.target,h,p,g.sequenceNumber);Fv(o,_)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){pe(Va,"Failed to raise snapshot:",i),await fd(n,i)}}async function fd(n,e,t){if(!_l(e))throw e;n.aa.add(1),await zc(n),n.la.set("Offline"),t||(t=()=>vC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Va,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Kd(n)})}function SC(n,e){return e().catch(t=>fd(n,t,e))}async function Yd(n){const e=Pe(n),t=xs(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Rv;for(;g4(e);)try{const a=await WU(e.localStore,i);if(a===null){e.oa.length===0&&t.v_();break}i=a.batchId,y4(e,a)}catch(a){await fd(e,a)}AC(e)&&RC(e)}function g4(n){return ja(n)&&n.oa.length<10}function y4(n,e){n.oa.push(e);const t=xs(n);t.b_()&&t.W_&&t.G_(e.mutations)}function AC(n){return ja(n)&&!xs(n).w_()&&n.oa.length>0}function RC(n){xs(n).start()}async function v4(n){xs(n).H_()}async function _4(n){const e=xs(n);for(const t of n.oa)e.G_(t.mutations)}async function T4(n,e,t){const i=n.oa.shift(),a=Mv.from(i,e,t);await SC(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Yd(n)}async function E4(n,e){e&&xs(n).W_&&await async function(i,a){if(function(u){return iU(u)&&u!==ue.ABORTED}(a.code)){const o=i.oa.shift();xs(i).D_(),await SC(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Yd(i)}}(n,e),AC(n)&&RC(n)}async function Uw(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),pe(Va,"RemoteStore received new credentials");const i=ja(t);t.aa.add(3),await zc(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Kd(t)}async function b4(n,e){const t=Pe(n);e?(t.aa.delete(2),await Kd(t)):e||(t.aa.add(2),await zc(t),t.la.set("Unknown"))}function Tl(n){return n.Pa||(n.Pa=function(t,i,a){const o=Pe(t);return o.Y_(),new a4(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:h4.bind(null,n),Jo:d4.bind(null,n),Zo:p4.bind(null,n),Q_:m4.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),qv(n)?Hv(n):n.la.set("Unknown")):(await n.Pa.stop(),wC(n))})),n.Pa}function xs(n){return n.Ta||(n.Ta=function(t,i,a){const o=Pe(t);return o.Y_(),new o4(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:v4.bind(null,n),Zo:E4.bind(null,n),z_:_4.bind(null,n),j_:T4.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Yd(n)):(await n.Ta.stop(),n.oa.length>0&&(pe(Va,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,t,i,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,o){const u=Date.now()+i,f=new $v(e,t,u,a,o);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(n,e){if(Nr("AsyncQueue",`${e}: ${n}`),_l(n))return new me(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=Fu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Ia=new mt(Ee.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Re(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class al{constructor(e,t,i,a,o,u,f,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new al(e,t,Jo.emptySet(t),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class S4{constructor(){this.queries=jw(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const a=Pe(t),o=a.queries;a.queries=jw(),o.forEach((u,f)=>{for(const h of f.Ra)h.onError(i)})})(this,new me(ue.ABORTED,"Firestore shutting down"))}}function jw(){return new Ba(n=>K1(n),zd)}async function CC(n,e){const t=Pe(n);let i=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(i=2):(o=new w4,i=e.ma()?0:1);try{switch(i){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=Gv(u,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Kv(t)}async function IC(n,e){const t=Pe(n),i=e.query;let a=3;const o=t.queries.get(i);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function A4(n,e){const t=Pe(n);let i=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const f of u.Ra)f.pa(a)&&(i=!0);u.Aa=a}}i&&Kv(t)}function R4(n,e,t){const i=Pe(n),a=i.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);i.queries.delete(e)}function Kv(n){n.fa.forEach(e=>{e.next()})}var Dy,zw;(zw=Dy||(Dy={})).ya="default",zw.Cache="cache";class xC{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.key=e}}class OC{constructor(e){this.key=e}}class C4{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ze(),this.mutatedKeys=ze(),this.Ua=Y1(e),this.Ka=new Jo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new Bw,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,_)=>{const T=a.get(g),S=Fd(this.query,_)?_:null,R=!!T&&this.mutatedKeys.has(T.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;T&&S?T.data.isEqual(S.data)?R!==P&&(i.track({type:3,doc:S}),I=!0):this.ja(T,S)||(i.track({type:2,doc:S}),I=!0,(h&&this.Ua(S,h)>0||p&&this.Ua(S,p)<0)&&(f=!0)):!T&&S?(i.track({type:0,doc:S}),I=!0):T&&!S&&(i.track({type:1,doc:T}),I=!0,(h||p)&&(f=!0)),I&&(S?(u=u.add(S),o=P?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{Ka:u,za:i,ys:f,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((g,_)=>function(S,R){const P=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:I})}};return P(S)-P(R)}(g.type,_.type)||this.Ua(g.doc,_.doc)),this.Ha(i),a=a!=null&&a;const f=t&&!a?this.Ja():[],h=this.$a.size===0&&this.current&&!a?1:0,p=h!==this.Qa;return this.Qa=h,u.length!==0||p?{snapshot:new al(this.query,e.Ka,o,u,e.mutatedKeys,h===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:f}:{Ya:f}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Bw,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ze(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new OC(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new DC(i))}),t}Xa(e){this.qa=e.Ns,this.$a=ze();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return al.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Yv="SyncEngine";class I4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class x4{constructor(e){this.key=e,this.tu=!1}}class D4{constructor(e,t,i,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Ba(f=>K1(f),zd),this.iu=new Map,this.su=new Set,this.ou=new mt(Ee.comparator),this._u=new Map,this.au=new Lv,this.uu={},this.cu=new Map,this.lu=sl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function O4(n,e,t=!0){const i=LC(n);let a;const o=i.ru.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await PC(i,e,t,!0),a}async function P4(n,e){const t=LC(n);await PC(t,e,!0,!1)}async function PC(n,e,t,i){const a=await ZU(n.localStore,zi(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let f;return i&&(f=await N4(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&EC(n.remoteStore,a),f}async function N4(n,e,t,i,a){n.Pu=(_,T,S)=>async function(P,I,L,$){let z=I.view.Ga(L);z.ys&&(z=await Nw(P.localStore,I.query,!1).then(({documents:M})=>I.view.Ga(M,z)));const ie=$&&$.targetChanges.get(I.targetId),F=$&&$.targetMismatches.get(I.targetId)!=null,J=I.view.applyChanges(z,P.isPrimaryClient,ie,F);return Hw(P,I.targetId,J.Ya),J.snapshot}(n,_,T,S);const o=await Nw(n.localStore,e,!0),u=new C4(e,o.Ns),f=u.Ga(o.documents),h=jc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=u.applyChanges(f,n.isPrimaryClient,h);Hw(n,t,p.Ya);const g=new I4(e,t,u);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function M4(n,e,t){const i=Pe(n),a=i.ru.get(e),o=i.iu.get(a.targetId);if(o.length>1)return i.iu.set(a.targetId,o.filter(u=>!zd(u,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Iy(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&zv(i.remoteStore,a.targetId),Oy(i,a.targetId)}).catch(vl)):(Oy(i,a.targetId),await Iy(i.localStore,a.targetId,!0))}async function k4(n,e){const t=Pe(n),i=t.ru.get(e),a=t.iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),zv(t.remoteStore,i.targetId))}async function V4(n,e,t){const i=H4(n);try{const a=await function(u,f){const h=Pe(u),p=Vt.now(),g=f.reduce((S,R)=>S.add(R.key),ze());let _,T;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=Mr(),P=ze();return h.Cs.getEntries(S,g).next(I=>{R=I,R.forEach((L,$)=>{$.isValidDocument()||(P=P.add(L))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,R)).next(I=>{_=I;const L=[];for(const $ of f){const z=ZL($,_.get($.key).overlayedDocument);z!=null&&L.push(new Us($.key,z,B1(z.value.mapValue),ii.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,L,f)}).next(I=>{T=I;const L=I.applyToLocalDocumentSet(_,P);return h.documentOverlayCache.saveOverlays(S,I.batchId,L)})}).then(()=>({batchId:T.batchId,changes:X1(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,f,h){let p=u.uu[u.currentUser.toKey()];p||(p=new mt(Ve)),p=p.insert(f,h),u.uu[u.currentUser.toKey()]=p}(i,a.batchId,t),await Fc(i,a.changes),await Yd(i.remoteStore)}catch(a){const o=Gv(a,"Failed to persist write");t.reject(o)}}async function NC(n,e){const t=Pe(n);try{const i=await QU(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t._u.get(o);u&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Qe(u.tu,14607):a.removedDocuments.size>0&&(Qe(u.tu,42227),u.tu=!1))}),await Fc(t,i,e)}catch(i){await vl(i)}}function Fw(n,e,t){const i=Pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ru.forEach((o,u)=>{const f=u.view.ga(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const h=Pe(u);h.onlineState=f;let p=!1;h.queries.forEach((g,_)=>{for(const T of _.Ra)T.ga(f)&&(p=!0)}),p&&Kv(h)}(i.eventManager,e),a.length&&i.nu.Q_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function L4(n,e,t){const i=Pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i._u.get(e),o=a&&a.key;if(o){let u=new mt(Ee.comparator);u=u.insert(o,on.newNoDocument(o,Oe.min()));const f=ze().add(o),h=new $d(Oe.min(),new Map,new mt(Ve),u,f);await NC(i,h),i.ou=i.ou.remove(o),i._u.delete(e),Qv(i)}else await Iy(i.localStore,e,!1).then(()=>Oy(i,e,t)).catch(vl)}async function U4(n,e){const t=Pe(n),i=e.batch.batchId;try{const a=await YU(t.localStore,e);kC(t,i,null),MC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Fc(t,a)}catch(a){await vl(a)}}async function B4(n,e,t){const i=Pe(n);try{const a=await function(u,f){const h=Pe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,f).next(_=>(Qe(_!==null,37113),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(i.localStore,e);kC(i,e,t),MC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Fc(i,a)}catch(a){await vl(a)}}function MC(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function kC(n,e,t){const i=Pe(n);let a=i.uu[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),i.uu[i.currentUser.toKey()]=a}}function Oy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||VC(n,i)})}function VC(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(zv(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Qv(n))}function Hw(n,e,t){for(const i of t)i instanceof DC?(n.au.addReference(i.key,e),j4(n,i)):i instanceof OC?(pe(Yv,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||VC(n,i.key)):Re(19791,{Iu:i})}function j4(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(pe(Yv,"New document in limbo: "+t),n.su.add(i),Qv(n))}function Qv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ee(ot.fromString(e)),i=n.lu.next();n._u.set(i,new x4(t)),n.ou=n.ou.insert(t,i),EC(n.remoteStore,new Ts(zi(Ov(t.path)),i,"TargetPurposeLimboResolution",Ud.le))}}async function Fc(n,e,t){const i=Pe(n),a=[],o=[],u=[];i.ru.isEmpty()||(i.ru.forEach((f,h)=>{u.push(i.Pu(h,e,t).then(p=>{var g;if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Bv.Ps(h.targetId,p);o.push(_)}}))}),await Promise.all(u),i.nu.Q_(a),await async function(h,p){const g=Pe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>le.forEach(p,T=>le.forEach(T.ls,S=>g.persistence.referenceDelegate.addReference(_,T.targetId,S)).next(()=>le.forEach(T.hs,S=>g.persistence.referenceDelegate.removeReference(_,T.targetId,S)))))}catch(_){if(!_l(_))throw _;pe(jv,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const S=g.Ss.get(T),R=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(R);g.Ss=g.Ss.insert(T,P)}}}(i.localStore,o))}async function z4(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){pe(Yv,"User change. New user:",e.toKey());const i=await yC(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(f=>{f.forEach(h=>{h.reject(new me(ue.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fc(t,i.Ms)}}function F4(n,e){const t=Pe(n),i=t._u.get(e);if(i&&i.tu)return ze().add(i.key);{let a=ze();const o=t.iu.get(e);if(!o)return a;for(const u of o){const f=t.ru.get(u);a=a.unionWith(f.view.Wa)}return a}}function LC(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L4.bind(null,e),e.nu.Q_=A4.bind(null,e.eventManager),e.nu.Tu=R4.bind(null,e.eventManager),e}function H4(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B4.bind(null,e),e}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return KU(this.persistence,new qU,e.initialUser,this.serializer)}Ru(e){return new gC(Uv.Ei,this.serializer)}Au(e){return new e4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class q4 extends hd{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Qe(this.persistence.referenceDelegate instanceof cd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new xU(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new gC(i=>cd.Ei(i,t),this.serializer)}}class Py{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Fw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=z4.bind(null,this.syncEngine),await b4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S4}()}createDatastore(e){const t=Gd(e.databaseInfo.databaseId),i=function(o){return new s4(o)}(e.databaseInfo);return function(o,u,f,h){return new u4(o,u,f,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,o,u,f){return new f4(i,a,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Fw(this.syncEngine,t,0),function(){return Vw.C()?new Vw:new t4}())}createSyncEngine(e,t){return function(a,o,u,f,h,p,g){const _=new D4(a,o,u,f,h,p);return g&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Pe(a);pe(Va,"RemoteStore shutting down."),o.aa.add(5),await zc(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Py.provider={build:()=>new Py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class $4{constructor(e,t,i,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=x1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{pe(Ds,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(pe(Ds,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Gv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ng(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Ds,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await yC(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function qw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await G4(n);pe(Ds,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Uw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Uw(e.remoteStore,a)),n._onlineComponents=e}async function G4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Ds,"Using user provided OfflineComponentProvider");try{await Ng(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;tl("Error using user provided cache. Falling back to memory cache: "+t),await Ng(n,new hd)}}else pe(Ds,"Using default OfflineComponentProvider"),await Ng(n,new q4(void 0));return n._offlineComponents}async function BC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Ds,"Using user provided OnlineComponentProvider"),await qw(n,n._uninitializedComponentsProvider._online)):(pe(Ds,"Using default OnlineComponentProvider"),await qw(n,new Py))),n._onlineComponents}function K4(n){return BC(n).then(e=>e.syncEngine)}async function jC(n){const e=await BC(n),t=e.eventManager;return t.onListen=O4.bind(null,e.syncEngine),t.onUnlisten=M4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=P4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=k4.bind(null,e.syncEngine),t}function Y4(n,e,t={}){const i=new xr;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,f,h,p){const g=new UC({next:T=>{g.yu(),u.enqueueAndForget(()=>IC(o,_));const S=T.docs.has(f);!S&&T.fromCache?p.reject(new me(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&h&&h.source==="server"?p.reject(new me(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new xC(Ov(f.path),g,{includeMetadataChanges:!0,Fa:!0});return CC(o,_)}(await jC(n),n.asyncQueue,e,t,i)),i.promise}function Q4(n,e,t={}){const i=new xr;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,f,h,p){const g=new UC({next:T=>{g.yu(),u.enqueueAndForget(()=>IC(o,_)),T.fromCache&&h.source==="server"?p.reject(new me(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new xC(f,g,{includeMetadataChanges:!0,Fa:!0});return CC(o,_)}(await jC(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n,e,t){if(!t)throw new me(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function X4(n,e,t,i){if(e===!0&&i===!0)throw new me(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Gw(n){if(!Ee.isDocumentKey(n))throw new me(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Kw(n){if(Ee.isDocumentKey(n))throw new me(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function _i(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qd(n);throw new me(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firestore.googleapis.com",Yw=!0;class Qw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HC,this.ssl=Yw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Yw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CU)throw new me(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new iL;switch(i.type){case"firstParty":return new oL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=$w.get(t);i&&(pe("ComponentProvider","Removing Datastore"),$w.delete(t),i.terminate())}(this),Promise.resolve()}}function W4(n,e,t,i={}){var a;const o=(n=_i(n,Xd))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o.host!==HC&&o.host!==f&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:f,ssl:!1,emulatorOptions:i});if(!Ss(h,u)&&(n._setSettings(h),i.mockUserToken)){let p,g;if(typeof i.mockUserToken=="string")p=i.mockUserToken,g=an.MOCK_USER;else{p=h2(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new me(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new an(_)}n._authCredentials=new rL(new C1(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new El(this.firestore,e,this._query)}}class gn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class ws extends El{constructor(e,t,i){super(e,t,Ov(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Ee(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function Zu(n,e,...t){if(n=ft(n),FC("collection","path",e),n instanceof Xd){const i=ot.fromString(e,...t);return Kw(i),new ws(n,null,i)}{if(!(n instanceof gn||n instanceof ws))throw new me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return Kw(i),new ws(n.firestore,null,i)}}function Ln(n,e,...t){if(n=ft(n),arguments.length===1&&(e=x1.newId()),FC("doc","path",e),n instanceof Xd){const i=ot.fromString(e,...t);return Gw(i),new gn(n,null,new Ee(i))}{if(!(n instanceof gn||n instanceof ws))throw new me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return Gw(i),new gn(n.firestore,n instanceof ws?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="AsyncQueue";class Ww{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new _C(this,"async_queue_retry"),this.ju=()=>{const i=Pg();i&&pe(Xw,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=Pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new xr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!_l(e))throw e;pe(Xw,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Nr("INTERNAL UNHANDLED ERROR: ",Zw(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=$v.createAndSchedule(this,e,t,i,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Re(47125,{ec:Zw(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Zw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class za extends Xd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Ww,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ww(e),this._firestoreClient=void 0,await e}}}function Z4(n,e){const t=typeof n=="object"?n:Md(),i=typeof n=="string"?n:rd,a=Ms(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=c2("firestore");o&&W4(a,...o)}return a}function Xv(n){if(n._terminated)throw new me(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||J4(n),n._firestoreClient}function J4(n){var e,t,i;const a=n._freezeSettings(),o=function(f,h,p,g){return new bL(f,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,zC(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new $4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(Jt.fromBase64String(e))}catch(t){throw new me(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ol(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=/^__.*__$/;class t3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bc(e,this.data,t,this.fieldTransforms)}}class qC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $C(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{oc:n})}}class Jv{constructor(e,t,i,a,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Jv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a.lc(e),a}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return dd(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if($C(this.oc)&&e3.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class n3{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Gd(e)}dc(e,t,i,a=!1){return new Jv({oc:e,methodName:t,Ec:i,path:Wt.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jd(n){const e=n._freezeSettings(),t=Gd(n._databaseId);return new n3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function GC(n,e,t,i,a,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,a);t_("Data must be an object, but it was:",u,i);const f=KC(i,u);let h,p;if(o.merge)h=new Vn(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const T=Ny(e,_,t);if(!u.contains(T))throw new me(ue.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);QC(g,T)||g.push(T)}h=new Vn(g),p=u.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=u.fieldTransforms;return new t3(new bn(f),h,p)}class ep extends Zd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ep}}class e_ extends Zd{_toFieldTransform(e){return new YL(e.path,new mc)}isEqual(e){return e instanceof e_}}function i3(n,e,t,i){const a=n.dc(1,e,t);t_("Data must be an object, but it was:",a,i);const o=[],u=bn.empty();Ls(i,(h,p)=>{const g=n_(e,h,t);p=ft(p);const _=a.hc(g);if(p instanceof ep)o.push(g);else{const T=Hc(p,_);T!=null&&(o.push(g),u.set(g,T))}});const f=new Vn(o);return new qC(u,f,a.fieldTransforms)}function r3(n,e,t,i,a,o){const u=n.dc(1,e,t),f=[Ny(e,i,t)],h=[a];if(o.length%2!=0)throw new me(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)f.push(Ny(e,o[T])),h.push(o[T+1]);const p=[],g=bn.empty();for(let T=f.length-1;T>=0;--T)if(!QC(p,f[T])){const S=f[T];let R=h[T];R=ft(R);const P=u.hc(S);if(R instanceof ep)p.push(S);else{const I=Hc(R,P);I!=null&&(p.push(S),g.set(S,I))}}const _=new Vn(p);return new qC(g,_,u.fieldTransforms)}function s3(n,e,t,i=!1){return Hc(t,n.dc(i?4:3,e))}function Hc(n,e){if(YC(n=ft(n)))return t_("Unsupported field value:",e,n),KC(n,e);if(n instanceof Zd)return function(i,a){if(!$C(a.oc))throw a.Tc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,a){const o=[];let u=0;for(const f of i){let h=Hc(f,a.Pc(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}}(n,e)}return function(i,a){if((i=ft(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $L(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Vt.fromDate(i);return{timestampValue:ud(a.serializer,o)}}if(i instanceof Vt){const o=new Vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ud(a.serializer,o)}}if(i instanceof Wv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ol)return{bytesValue:lC(a.serializer,i._byteString)};if(i instanceof gn){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Zv)return function(u,f){return{mapValue:{fields:{[L1]:{stringValue:U1},[sd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.Tc("VectorValues must only contain numeric values.");return Pv(f.serializer,p)})}}}}}}(i,a);throw a.Tc(`Unsupported field value: ${Qd(i)}`)}(n,e)}function KC(n,e){const t={};return O1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(n,(i,a)=>{const o=Hc(a,e.uc(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function YC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof Wv||n instanceof ol||n instanceof gn||n instanceof Zd||n instanceof Zv)}function t_(n,e,t){if(!YC(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Qd(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function Ny(n,e,t){if((e=ft(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return n_(n,e);throw dd("Field path arguments must be of type string or ",n,!1,void 0,t)}const a3=new RegExp("[~\\*/\\[\\]]");function n_(n,e,t){if(e.search(a3)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wd(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dd(n,e,t,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${i}`),u&&(h+=` in document ${a}`),h+=")"),new me(ue.INVALID_ARGUMENT,f+n+h)}function QC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t,i,a,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(i_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class o3 extends XC{data(){return super.data()}}function i_(n,e){return typeof e=="string"?n_(n,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r_{}class u3 extends r_{}function s_(n,e,...t){let i=[];e instanceof r_&&i.push(e),i=i.concat(t),function(o){const u=o.filter(h=>h instanceof o_).length,f=o.filter(h=>h instanceof tp).length;if(u>1||u>0&&f>0)throw new me(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class tp extends u3{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new tp(e,t,i)}_apply(e){const t=this._parse(e);return WC(e._query,t),new El(e.firestore,e.converter,by(e._query,t))}_parse(e){const t=Jd(e.firestore);return function(o,u,f,h,p,g,_){let T;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){eS(_,g);const R=[];for(const P of _)R.push(Jw(h,o,P));T={arrayValue:{values:R}}}else T=Jw(h,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||eS(_,g),T=s3(f,u,_,g==="in"||g==="not-in");return Dt.create(p,g,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function a_(n,e,t){const i=e,a=i_("where",n);return tp._create(a,i,t)}class o_ extends r_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new o_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:vi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const f=o.getFlattenedFilters();for(const h of f)WC(u,h),u=by(u,h)}(e._query,t),new El(e.firestore,e.converter,by(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Jw(n,e,t){if(typeof(t=ft(t))=="string"){if(t==="")throw new me(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G1(e)&&t.indexOf("/")!==-1)throw new me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ot.fromString(t));if(!Ee.isDocumentKey(i))throw new me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pw(n,new Ee(i))}if(t instanceof gn)return pw(n,t._key);throw new me(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(t)}.`)}function eS(n,e){if(!Array.isArray(n)||n.length===0)throw new me(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WC(n,e){const t=function(a,o){for(const u of a)for(const f of u.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class c3{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ls(e,(a,o)=>{i[a]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,a;const o=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[sd].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>St(u.doubleValue));return new Zv(o)}convertGeoPoint(e){return new Wv(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);Qe(pC(i),9688,{name:e});const a=new dc(i.get(1),i.get(3)),o=new Ee(i.popFirst(5));return a.isEqual(t)||Nr(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JC extends XC{constructor(e,t,i,a,o,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(i_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class qh extends JC{data(e={}){return super.data(e)}}class f3{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new qu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new qh(this._firestore,this._userDataWriter,i.key,i,new qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const h=new qh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new qu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const h=new qh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new qu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,g=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:h3(f.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n){n=_i(n,gn);const e=_i(n.firestore,za);return Y4(Xv(e),n._key).then(t=>d3(e,n,t))}class eI extends c3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}function l_(n){n=_i(n,El);const e=_i(n.firestore,za),t=Xv(e),i=new eI(e);return l3(n._query),Q4(t,n._query).then(a=>new f3(e,i,n,a))}function md(n,e,t){n=_i(n,gn);const i=_i(n.firestore,za),a=ZC(n.converter,e,t);return np(i,[GC(Jd(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ii.none())])}function tI(n,e,t,...i){n=_i(n,gn);const a=_i(n.firestore,za),o=Jd(a);let u;return u=typeof(e=ft(e))=="string"||e instanceof Wd?r3(o,"updateDoc",n._key,e,t,i):i3(o,"updateDoc",n._key,e),np(a,[u.toMutation(n._key,ii.exists(!0))])}function nI(n){return np(_i(n.firestore,za),[new Nv(n._key,ii.none())])}function tS(n,e){const t=_i(n.firestore,za),i=Ln(n),a=ZC(n.converter,e);return np(t,[GC(Jd(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,ii.exists(!1))]).then(()=>i)}function np(n,e){return function(i,a){const o=new xr;return i.asyncQueue.enqueueAndForget(async()=>V4(await K4(i),a,o)),o.promise}(Xv(n),e)}function d3(n,e,t){const i=t.docs.get(e._key),a=new eI(n);return new JC(n,a,e._key,i,new qu(t.hasPendingWrites,t.fromCache),e.converter)}function iI(){return new e_("serverTimestamp")}(function(e,t=!0){(function(a){yl=a})(pl),si(new Bn("firestore",(i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),f=new za(new sL(i.getProvider("auth-internal")),new lL(u,i.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(p.options.projectId,g)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),Sn(nw,iw,e),Sn(nw,iw,"esm2017")})();const rI="@firebase/installations",u_="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=1e4,aI=`w:${u_}`,oI="FIS_v2",p3="https://firebaseinstallations.googleapis.com/v1",m3=60*60*1e3,g3="installations",y3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},La=new Ns(g3,y3,v3);function lI(n){return n instanceof Ti&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI({projectId:n}){return`${p3}/projects/${n}/installations`}function cI(n){return{token:n.token,requestStatus:2,expiresIn:T3(n.expiresIn),creationTime:Date.now()}}async function fI(n,e){const i=(await e.json()).error;return La.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function hI({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _3(n,{refreshToken:e}){const t=hI(n);return t.append("Authorization",E3(e)),t}async function dI(n){const e=await n();return e.status>=500&&e.status<600?n():e}function T3(n){return Number(n.replace("s","000"))}function E3(n){return`${oI} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=uI(n),a=hI(n),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:t,authVersion:oI,appId:n.appId,sdkVersion:aI},f={method:"POST",headers:a,body:JSON.stringify(u)},h=await dI(()=>fetch(i,f));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:cI(p.authToken)}}else throw await fI("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=/^[cdef][\w-]{21}$/,My="";function A3(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=R3(n);return S3.test(t)?t:My}catch{return My}}function R3(n){return w3(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new Map;function gI(n,e){const t=ip(n);yI(t,e),C3(t,e)}function yI(n,e){const t=mI.get(n);if(t)for(const i of t)i(e)}function C3(n,e){const t=I3();t&&t.postMessage({key:n,fid:e}),x3()}let xa=null;function I3(){return!xa&&"BroadcastChannel"in self&&(xa=new BroadcastChannel("[Firebase] FID Change"),xa.onmessage=n=>{yI(n.data.key,n.data.fid)}),xa}function x3(){mI.size===0&&xa&&(xa.close(),xa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="firebase-installations-database",O3=1,Ua="firebase-installations-store";let Mg=null;function c_(){return Mg||(Mg=Nd(D3,O3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ua)}}})),Mg}async function gd(n,e){const t=ip(n),a=(await c_()).transaction(Ua,"readwrite"),o=a.objectStore(Ua),u=await o.get(t);return await o.put(e,t),await a.done,(!u||u.fid!==e.fid)&&gI(n,e.fid),e}async function vI(n){const e=ip(n),i=(await c_()).transaction(Ua,"readwrite");await i.objectStore(Ua).delete(e),await i.done}async function rp(n,e){const t=ip(n),a=(await c_()).transaction(Ua,"readwrite"),o=a.objectStore(Ua),u=await o.get(t),f=e(u);return f===void 0?await o.delete(t):await o.put(f,t),await a.done,f&&(!u||u.fid!==f.fid)&&gI(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_(n){let e;const t=await rp(n.appConfig,i=>{const a=P3(i),o=N3(n,a);return e=o.registrationPromise,o.installationEntry});return t.fid===My?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function P3(n){const e=n||{fid:A3(),registrationStatus:0};return _I(e)}function N3(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(La.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=M3(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:k3(n)}:{installationEntry:e}}async function M3(n,e){try{const t=await b3(n,e);return gd(n.appConfig,t)}catch(t){throw lI(t)&&t.customData.serverCode===409?await vI(n.appConfig):await gd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function k3(n){let e=await nS(n.appConfig);for(;e.registrationStatus===1;)await pI(100),e=await nS(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await f_(n);return i||t}return e}function nS(n){return rp(n,e=>{if(!e)throw La.create("installation-not-found");return _I(e)})}function _I(n){return V3(n)?{fid:n.fid,registrationStatus:0}:n}function V3(n){return n.registrationStatus===1&&n.registrationTime+sI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3({appConfig:n,heartbeatServiceProvider:e},t){const i=U3(n,t),a=_3(n,t),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:aI,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},h=await dI(()=>fetch(i,f));if(h.ok){const p=await h.json();return cI(p)}else throw await fI("Generate Auth Token",h)}function U3(n,{fid:e}){return`${uI(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h_(n,e=!1){let t;const i=await rp(n.appConfig,o=>{if(!TI(o))throw La.create("not-registered");const u=o.authToken;if(!e&&z3(u))return o;if(u.requestStatus===1)return t=B3(n,e),o;{if(!navigator.onLine)throw La.create("app-offline");const f=H3(o);return t=j3(n,f),f}});return t?await t:i.authToken}async function B3(n,e){let t=await iS(n.appConfig);for(;t.authToken.requestStatus===1;)await pI(100),t=await iS(n.appConfig);const i=t.authToken;return i.requestStatus===0?h_(n,e):i}function iS(n){return rp(n,e=>{if(!TI(e))throw La.create("not-registered");const t=e.authToken;return q3(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function j3(n,e){try{const t=await L3(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await gd(n.appConfig,i),t}catch(t){if(lI(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await vI(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gd(n.appConfig,i)}throw t}}function TI(n){return n!==void 0&&n.registrationStatus===2}function z3(n){return n.requestStatus===2&&!F3(n)}function F3(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+m3}function H3(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function q3(n){return n.requestStatus===1&&n.requestTime+sI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(n){const e=n,{installationEntry:t,registrationPromise:i}=await f_(e);return i?i.catch(console.error):h_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(n,e=!1){const t=n;return await K3(t),(await h_(t,e)).token}async function K3(n){const{registrationPromise:e}=await f_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(n){if(!n||!n.options)throw kg("App Configuration");if(!n.name)throw kg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw kg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function kg(n){return La.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="installations",Q3="installations-internal",X3=n=>{const e=n.getProvider("app").getImmediate(),t=Y3(e),i=Ms(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},W3=n=>{const e=n.getProvider("app").getImmediate(),t=Ms(e,EI).getImmediate();return{getId:()=>$3(t),getToken:a=>G3(t,a)}};function Z3(){si(new Bn(EI,X3,"PUBLIC")),si(new Bn(Q3,W3,"PRIVATE"))}Z3();Sn(rI,u_);Sn(rI,u_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="/firebase-messaging-sw.js",e6="/firebase-cloud-messaging-push-scope",bI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",t6="https://fcmregistrations.googleapis.com/v1",wI="google.c.a.c_id",n6="google.c.a.c_l",i6="google.c.a.ts",r6="google.c.a.e",rS=1e4;var sS;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(sS||(sS={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var vc;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(vc||(vc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s6(n){const e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),a=new Uint8Array(i.length);for(let o=0;o<i.length;++o)a[o]=i.charCodeAt(o);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="fcm_token_details_db",a6=5,aS="fcm_token_object_Store";async function o6(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(Vg))return null;let e=null;return(await Nd(Vg,a6,{upgrade:async(i,a,o,u)=>{var f;if(a<2||!i.objectStoreNames.contains(aS))return;const h=u.objectStore(aS),p=await h.index("fcmSenderId").get(n);if(await h.clear(),!!p){if(a===2){const g=p;if(!g.auth||!g.p256dh||!g.endpoint)return;e={token:g.fcmToken,createTime:(f=g.createTime)!==null&&f!==void 0?f:Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:br(g.vapidKey)}}}else if(a===3){const g=p;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:br(g.auth),p256dh:br(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:br(g.vapidKey)}}}else if(a===4){const g=p;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:br(g.auth),p256dh:br(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:br(g.vapidKey)}}}}}})).close(),await Ag(Vg),await Ag("fcm_vapid_details_db"),await Ag("undefined"),l6(e)?e:null}function l6(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="firebase-messaging-database",c6=1,_c="firebase-messaging-store";let Lg=null;function SI(){return Lg||(Lg=Nd(u6,c6,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(_c)}}})),Lg}async function f6(n){const e=AI(n),i=await(await SI()).transaction(_c).objectStore(_c).get(e);if(i)return i;{const a=await o6(n.appConfig.senderId);if(a)return await d_(n,a),a}}async function d_(n,e){const t=AI(n),a=(await SI()).transaction(_c,"readwrite");return await a.objectStore(_c).put(e,t),await a.done,e}function AI({appConfig:n}){return n.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},yn=new Ns("messaging","Messaging",h6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(n,e){const t=await m_(n),i=RI(e),a={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=await(await fetch(p_(n.appConfig),a)).json()}catch(u){throw yn.create("token-subscribe-failed",{errorInfo:u==null?void 0:u.toString()})}if(o.error){const u=o.error.message;throw yn.create("token-subscribe-failed",{errorInfo:u})}if(!o.token)throw yn.create("token-subscribe-no-token");return o.token}async function p6(n,e){const t=await m_(n),i=RI(e.subscriptionOptions),a={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=await(await fetch(`${p_(n.appConfig)}/${e.token}`,a)).json()}catch(u){throw yn.create("token-update-failed",{errorInfo:u==null?void 0:u.toString()})}if(o.error){const u=o.error.message;throw yn.create("token-update-failed",{errorInfo:u})}if(!o.token)throw yn.create("token-update-no-token");return o.token}async function m6(n,e){const i={method:"DELETE",headers:await m_(n)};try{const o=await(await fetch(`${p_(n.appConfig)}/${e}`,i)).json();if(o.error){const u=o.error.message;throw yn.create("token-unsubscribe-failed",{errorInfo:u})}}catch(a){throw yn.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function p_({projectId:n}){return`${t6}/projects/${n}/registrations`}async function m_({appConfig:n,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function RI({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const a={web:{endpoint:t,auth:e,p256dh:n}};return i!==bI&&(a.web.applicationPubKey=i),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=7*24*60*60*1e3;async function y6(n){const e=await _6(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:br(e.getKey("auth")),p256dh:br(e.getKey("p256dh"))},i=await f6(n.firebaseDependencies);if(i){if(T6(i.subscriptionOptions,t))return Date.now()>=i.createTime+g6?v6(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{await m6(n.firebaseDependencies,i.token)}catch(a){console.warn(a)}return oS(n.firebaseDependencies,t)}else return oS(n.firebaseDependencies,t)}async function v6(n,e){try{const t=await p6(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return await d_(n.firebaseDependencies,i),t}catch(t){throw t}}async function oS(n,e){const i={token:await d6(n,e),createTime:Date.now(),subscriptionOptions:e};return await d_(n,i),i.token}async function _6(n,e){const t=await n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:s6(e)})}function T6(n,e){const t=e.vapidKey===n.vapidKey,i=e.endpoint===n.endpoint,a=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&i&&a&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return E6(e,n),b6(e,n),w6(e,n),e}function E6(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const a=e.notification.image;a&&(n.notification.image=a);const o=e.notification.icon;o&&(n.notification.icon=o)}function b6(n,e){e.data&&(n.data=e.data)}function w6(n,e){var t,i,a,o,u;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};const f=(a=(i=e.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&a!==void 0?a:(o=e.notification)===null||o===void 0?void 0:o.click_action;f&&(n.fcmOptions.link=f);const h=(u=e.fcmOptions)===null||u===void 0?void 0:u.analytics_label;h&&(n.fcmOptions.analyticsLabel=h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(n){return typeof n=="object"&&!!n&&wI in n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(n){if(!n||!n.options)throw Ug("App Configuration Object");if(!n.name)throw Ug("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw Ug(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function Ug(n){return yn.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=A6(e);this.firebaseDependencies={app:e,appConfig:a,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(n){try{n.swRegistration=await navigator.serviceWorker.register(J3,{scope:e6}),n.swRegistration.update().catch(()=>{}),await I6(n.swRegistration)}catch(e){throw yn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function I6(n){return new Promise((e,t)=>{const i=setTimeout(()=>t(new Error(`Service worker not registered after ${rS} ms`)),rS),a=n.installing||n.waiting;n.active?(clearTimeout(i),e()):a?a.onstatechange=o=>{var u;((u=o.target)===null||u===void 0?void 0:u.state)==="activated"&&(a.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),t(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(n,e){if(!e&&!n.swRegistration&&await C6(n),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");n.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=bI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(n,e){if(!navigator)throw yn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw yn.create("permission-blocked");return await D6(n,e==null?void 0:e.vapidKey),await x6(n,e==null?void 0:e.serviceWorkerRegistration),y6(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(n,e,t){const i=P6(e);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[wI],message_name:t[n6],message_time:t[i6],message_device_time:Math.floor(Date.now()/1e3)})}function P6(n){switch(n){case vc.NOTIFICATION_CLICKED:return"notification_open";case vc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N6(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===vc.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(lS(t)):n.onMessageHandler.next(lS(t)));const i=t.data;S6(i)&&i[r6]==="1"&&await O6(n,t.messageType,i)}const uS="@firebase/messaging",cS="0.12.17";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=n=>{const e=new R6(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>N6(e,t)),e},k6=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>CI(e,i)}};function V6(){si(new Bn("messaging",M6,"PUBLIC")),si(new Bn("messaging-internal",k6,"PRIVATE")),Sn(uS,cS),Sn(uS,cS,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(){try{await hv()}catch{return!1}return typeof window<"u"&&fv()&&kR()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(n=Md()){return L6().then(e=>{if(!e)throw yn.create("unsupported-browser")},e=>{throw yn.create("indexed-db-unsupported")}),Ms(ft(n),"messaging").getImmediate()}async function B6(n,e){return n=ft(n),CI(n,e)}V6();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="analytics",j6="firebase_id",z6="origin",F6=60*1e3,H6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",g_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Pd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new Ns("analytics","Analytics",q6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(n){if(!n.startsWith(g_)){const e=Un.create("invalid-gtag-resource",{gtagURL:n});return An.warn(e.message),""}return n}function II(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function G6(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function K6(n,e){const t=G6("firebase-js-sdk-policy",{createScriptURL:$6}),i=document.createElement("script"),a=`${g_}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function Y6(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Q6(n,e,t,i,a,o){const u=i[a];try{if(u)await e[u];else{const h=(await II(t)).find(p=>p.measurementId===a);h&&await e[h.appId]}}catch(f){An.error(f)}n("config",a,o)}async function X6(n,e,t,i,a){try{let o=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await II(t);for(const h of u){const p=f.find(_=>_.measurementId===h),g=p&&e[p.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",i,a||{})}catch(o){An.error(o)}}function W6(n,e,t,i){async function a(o,...u){try{if(o==="event"){const[f,h]=u;await X6(n,e,t,f,h)}else if(o==="config"){const[f,h]=u;await Q6(n,e,t,i,f,h)}else if(o==="consent"){const[f,h]=u;n("consent",f,h)}else if(o==="get"){const[f,h,p]=u;n("get",f,h,p)}else if(o==="set"){const[f]=u;n("set",f)}else n(o,...u)}catch(f){An.error(f)}}return a}function Z6(n,e,t,i,a){let o=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=W6(o,n,e,t),{gtagCore:o,wrappedGtag:window[a]}}function J6(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(g_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=30,t9=1e3;class n9{constructor(e={},t=t9){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xI=new n9;function i9(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function r9(n){var e;const{appId:t,apiKey:i}=n,a={method:"GET",headers:i9(i)},o=H6.replace("{app-id}",t),u=await fetch(o,a);if(u.status!==200&&u.status!==304){let f="";try{const h=await u.json();!((e=h.error)===null||e===void 0)&&e.message&&(f=h.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function s9(n,e=xI,t){const{appId:i,apiKey:a,measurementId:o}=n.options;if(!i)throw Un.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:i};throw Un.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new l9;return setTimeout(async()=>{f.abort()},F6),DI({appId:i,apiKey:a,measurementId:o},u,f,e)}async function DI(n,{throttleEndTimeMillis:e,backoffCount:t},i,a=xI){var o;const{appId:u,measurementId:f}=n;try{await a9(i,e)}catch(h){if(f)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:u,measurementId:f};throw h}try{const h=await r9(n);return a.deleteThrottleMetadata(u),h}catch(h){const p=h;if(!o9(p)){if(a.deleteThrottleMetadata(u),f)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw h}const g=Number((o=p==null?void 0:p.customData)===null||o===void 0?void 0:o.httpStatus)===503?Cb(t,a.intervalMillis,e9):Cb(t,a.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return a.setThrottleMetadata(u,_),An.debug(`Calling attemptFetch again in ${g} millis`),DI(n,_,i,a)}}function a9(n,e){return new Promise((t,i)=>{const a=Math.max(e-Date.now(),0),o=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(o),i(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function o9(n){if(!(n instanceof Ti)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class l9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function u9(n,e,t,i,a){if(a&&a.global){n("event",t,i);return}else{const o=await e,u=Object.assign(Object.assign({},i),{send_to:o});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(){if(fv())try{await hv()}catch(n){return An.warn(Un.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return An.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function f9(n,e,t,i,a,o,u){var f;const h=s9(n);h.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>An.error(S)),e.push(h);const p=c9().then(S=>{if(S)return i.getId()}),[g,_]=await Promise.all([h,p]);J6(o)||K6(o,g.measurementId),a("js",new Date);const T=(f=u==null?void 0:u.config)!==null&&f!==void 0?f:{};return T[z6]="firebase",T.update=!0,_!=null&&(T[j6]=_),a("config",g.measurementId,T),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){this.app=e}_delete(){return delete Ju[this.app.options.appId],Promise.resolve()}}let Ju={},fS=[];const hS={};let Bg="dataLayer",d9="gtag",dS,OI,pS=!1;function p9(){const n=[];if(MR()&&n.push("This is a browser extension environment."),kR()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),t=Un.create("invalid-analytics-context",{errorInfo:e});An.warn(t.message)}}function m9(n,e,t){p9();const i=n.options.appId;if(!i)throw Un.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(Ju[i]!=null)throw Un.create("already-exists",{id:i});if(!pS){Y6(Bg);const{wrappedGtag:o,gtagCore:u}=Z6(Ju,fS,hS,Bg,d9);OI=o,dS=u,pS=!0}return Ju[i]=f9(n,fS,hS,e,dS,Bg,t),new h9(n)}function g9(n=Md()){n=ft(n);const e=Ms(n,yd);return e.isInitialized()?e.getImmediate():y9(n)}function y9(n,e={}){const t=Ms(n,yd);if(t.isInitialized()){const a=t.getImmediate();if(Ss(e,t.getOptions()))return a;throw Un.create("already-initialized")}return t.initialize({options:e})}function v9(n,e,t,i){n=ft(n),u9(OI,Ju[n.app.options.appId],e,t,i).catch(a=>An.error(a))}const mS="@firebase/analytics",gS="0.10.12";function _9(){si(new Bn(yd,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return m9(i,a,t)},"PUBLIC")),si(new Bn("analytics-internal",n,"PRIVATE")),Sn(mS,gS),Sn(mS,gS,"esm2017");function n(e){try{const t=e.getProvider(yd).getImmediate();return{logEvent:(i,a,o)=>v9(t,i,a,o)}}catch(t){throw Un.create("interop-component-reg-failed",{reason:t})}}}_9();const T9={apiKey:"AIzaSyBEt1x4HJKJXLuoRj0SGDVfj6evFeWiV3M",authDomain:"maid-match-7e3c8.firebaseapp.com",projectId:"maid-match-7e3c8",storageBucket:"maid-match-7e3c8.appspot.com",messagingSenderId:"381944105516",appId:"1:381944105516:web:08b345c0b5237502709f89",measurementId:"G-33NWYCQ614"},sp=UR(T9),jg=gl(sp),Zt=Z4(sp),E9=U6(sp);g9(sp);function PI({defaultView:n="signup"}){const[e,t]=B.useState(n==="signup"),[i,a]=B.useState({name:"",email:"",password:""}),o=dl();B.useEffect(()=>{t(n==="signup")},[n]);const u=g=>{a({...i,[g.target.name]:g.target.value})},f=async g=>{g.preventDefault();try{const _=await Lk(jg,i.email,i.password);await jk(_.user,{displayName:i.name}),o("/home")}catch(_){alert(_.message)}},h=async g=>{g.preventDefault();try{await Uk(jg,i.email,i.password),o("/home")}catch(_){alert(_.message)}},p=async()=>{const g=new wr;try{const _=await fV(jg,g);o("/home")}catch(_){console.error("Google Sign-In Error:",_.message),alert(`Error: ${_.message}`)}};return N.createElement("div",{className:"login-container"},e?N.createElement("div",{className:"signup-form"},N.createElement("h1",null,"Create An Account"),N.createElement("div",{className:"social-icons"},N.createElement("a",{href:"#",className:"icon",onClick:p},N.createElement("i",{className:"bx bxl-google"})),N.createElement("a",{href:"#",className:"icon"},N.createElement("i",{className:"bx bxl-facebook"}))),N.createElement("div",{className:"form-message-container"},N.createElement("span",null,"Or use your email for registration")),N.createElement("form",{onSubmit:f},N.createElement("input",{type:"text",name:"name",placeholder:"Name",value:i.name,onChange:u,required:!0}),N.createElement("input",{type:"email",name:"email",placeholder:"Email",value:i.email,onChange:u,required:!0}),N.createElement("input",{type:"password",name:"password",placeholder:"Password",value:i.password,onChange:u,required:!0}),N.createElement("button",{type:"submit"},"Sign Up")),N.createElement("p",null,"Already have an account? ",N.createElement("a",{href:"#",onClick:g=>{g.preventDefault(),t(!1)}},"Sign In"))):N.createElement("div",{className:"login-form"},N.createElement("h1",null,"Sign In"),N.createElement("div",{className:"social-icons"},N.createElement("a",{href:"#",className:"icon",onClick:p},N.createElement("i",{className:"bx bxl-google"})),N.createElement("a",{href:"#",className:"icon"},N.createElement("i",{className:"bx bxl-facebook"}))),N.createElement("div",{className:"form-message-container"},N.createElement("span",null,"Or use your email and password")),N.createElement("form",{onSubmit:h},N.createElement("input",{type:"email",name:"email",placeholder:"Email",value:i.email,onChange:u,required:!0}),N.createElement("input",{type:"password",name:"password",placeholder:"Password",value:i.password,onChange:u,required:!0}),N.createElement("button",{type:"submit"},"Sign In"),N.createElement("a",{href:"#"},"Forgot Password?")),N.createElement("p",null,"Don't have an account? ",N.createElement("a",{href:"#",onClick:g=>{g.preventDefault(),t(!0)}},"Sign Up"))))}function b9(){const n=dl(),{t:e,i18n:t}=e2(),[i,a]=B.useState(!1),[o,u]=B.useState(!1),f=()=>{t.changeLanguage(t.language==="en"?"es":"en")},h=(p="login")=>{u(p==="signup"),a(!0)};return N.createElement(N.Fragment,null,N.createElement("div",{className:"landing-wrapper"},N.createElement("nav",{className:"navbar"},N.createElement("div",{className:"logo",onClick:()=>n("/")},N.createElement("img",{src:"/MATCHMAID.png",alt:"MatchMaid Logo",className:"logo-img"})),N.createElement("ul",{className:"nav-links"},N.createElement("li",null,e("products")),N.createElement("li",null,e("learn")),N.createElement("li",null,e("safety")),N.createElement("li",null,e("support")),N.createElement("li",null,e("download")),N.createElement("li",{style:{cursor:"pointer"},onClick:()=>n("/tinder-shuffle/review",{state:{maidId:"maid123"}})}," Reviews")),N.createElement("div",{className:"nav-actions"},N.createElement("button",{className:"language-btn",onClick:f}," ",e("language")),N.createElement("button",{className:"login-btn",onClick:()=>h("login")},e("login")))),N.createElement("div",{className:"hero"},N.createElement("div",{className:"hero-content"},N.createElement("h1",null,N.createElement(WN,{i18nKey:"headline"},"Swipe ",N.createElement("span",{className:"highlight"},"Right"),N.createElement("sup",null,""))),N.createElement("button",{className:"cta-button",onClick:()=>h("signup")},e("create_account"))))),N.createElement(t2,{show:i,onClose:()=>a(!1)},N.createElement(PI,{defaultView:o?"signup":"login"})))}var zg={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function w9(){if(yS)return Vu;yS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:o}}return Vu.Fragment=e,Vu.jsx=t,Vu.jsxs=t,Vu}var vS;function S9(){return vS||(vS=1,zg.exports=w9()),zg.exports}var ky=S9();const NI=B.createContext({});function y_(n){const e=B.useRef(null);return e.current===null&&(e.current=n()),e.current}const v_=typeof window<"u",MI=v_?B.useLayoutEffect:B.useEffect,__=B.createContext(null),T_=B.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function A9(n=!0){const e=B.useContext(__);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,o=B.useId();B.useEffect(()=>{if(n)return a(o)},[n]);const u=B.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,u]:[!0]}function E_(n,e){n.indexOf(e)===-1&&n.push(e)}function b_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const kr=(n,e,t)=>t>e?e:t<n?n:t;let w_=()=>{};const Vr={},kI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),VI=n=>/^0[^.\s]+$/u.test(n);function S_(n){let e;return()=>(e===void 0&&(e=n()),e)}const ri=n=>n,R9=(n,e)=>t=>e(n(t)),qc=(...n)=>n.reduce(R9),Tc=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class A_{constructor(){this.subscriptions=[]}add(e){return E_(this.subscriptions,e),()=>b_(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hi=n=>n*1e3,qi=n=>n/1e3;function LI(n,e){return e?n*(1e3/e):0}const UI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,C9=1e-7,I9=12;function x9(n,e,t,i,a){let o,u,f=0;do u=e+(t-e)/2,o=UI(u,i,a)-n,o>0?t=u:e=u;while(Math.abs(o)>C9&&++f<I9);return u}function $c(n,e,t,i){if(n===e&&t===i)return ri;const a=o=>x9(o,0,1,n,t);return o=>o===0||o===1?o:UI(a(o),e,i)}const BI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,jI=n=>e=>1-n(1-e),zI=$c(.33,1.53,.69,.99),R_=jI(zI),FI=BI(R_),HI=n=>(n*=2)<1?.5*R_(n):.5*(2-Math.pow(2,-10*(n-1))),C_=n=>1-Math.sin(Math.acos(n)),qI=jI(C_),$I=BI(C_),D9=$c(.42,0,1,1),O9=$c(0,0,.58,1),GI=$c(.42,0,.58,1),P9=n=>Array.isArray(n)&&typeof n[0]!="number",KI=n=>Array.isArray(n)&&typeof n[0]=="number",N9={linear:ri,easeIn:D9,easeInOut:GI,easeOut:O9,circIn:C_,circInOut:$I,circOut:qI,backIn:R_,backInOut:FI,backOut:zI,anticipate:HI},M9=n=>typeof n=="string",_S=n=>{if(KI(n)){w_(n.length===4);const[e,t,i,a]=n;return $c(e,t,i,a)}else if(M9(n))return N9[n];return n},Ch=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function k9(n,e){let t=new Set,i=new Set,a=!1,o=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(g){u.has(g)&&(p.schedule(g),n()),g(f)}const p={schedule:(g,_=!1,T=!1)=>{const R=T&&a?t:i;return _&&u.add(g),R.has(g)||R.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(f=g,a){o=!0;return}a=!0,[t,i]=[i,t],t.forEach(h),t.clear(),a=!1,o&&(o=!1,p.process(g))}};return p}const V9=40;function YI(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,u=Ch.reduce((z,ie)=>(z[ie]=k9(o),z),{}),{setup:f,read:h,resolveKeyframes:p,preUpdate:g,update:_,preRender:T,render:S,postRender:R}=u,P=()=>{const z=Vr.useManualTiming?a.timestamp:performance.now();t=!1,Vr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(z-a.timestamp,V9),1)),a.timestamp=z,a.isProcessing=!0,f.process(a),h.process(a),p.process(a),g.process(a),_.process(a),T.process(a),S.process(a),R.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(P))},I=()=>{t=!0,i=!0,a.isProcessing||n(P)};return{schedule:Ch.reduce((z,ie)=>{const F=u[ie];return z[ie]=(J,M=!1,A=!1)=>(t||I(),F.schedule(J,M,A)),z},{}),cancel:z=>{for(let ie=0;ie<Ch.length;ie++)u[Ch[ie]].cancel(z)},state:a,steps:u}}const{schedule:ct,cancel:Lr,state:Qt,steps:Fg}=YI(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let $h;function L9(){$h=void 0}const wn={now:()=>($h===void 0&&wn.set(Qt.isProcessing||Vr.useManualTiming?Qt.timestamp:performance.now()),$h),set:n=>{$h=n,queueMicrotask(L9)}},QI=n=>e=>typeof e=="string"&&e.startsWith(n),I_=QI("--"),U9=QI("var(--"),x_=n=>U9(n)?B9.test(n.split("/*")[0].trim()):!1,B9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ec={...bl,transform:n=>kr(0,1,n)},Ih={...bl,default:1},ec=n=>Math.round(n*1e5)/1e5,D_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function j9(n){return n==null}const z9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,O_=(n,e)=>t=>!!(typeof t=="string"&&z9.test(t)&&t.startsWith(n)||e&&!j9(t)&&Object.prototype.hasOwnProperty.call(t,e)),XI=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,o,u,f]=i.match(D_);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},F9=n=>kr(0,255,n),Hg={...bl,transform:n=>Math.round(F9(n))},Da={test:O_("rgb","red"),parse:XI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Hg.transform(n)+", "+Hg.transform(e)+", "+Hg.transform(t)+", "+ec(Ec.transform(i))+")"};function H9(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Vy={test:O_("#"),parse:H9,transform:Da.transform},Gc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),gs=Gc("deg"),$i=Gc("%"),Ie=Gc("px"),q9=Gc("vh"),$9=Gc("vw"),TS={...$i,parse:n=>$i.parse(n)/100,transform:n=>$i.transform(n*100)},$o={test:O_("hsl","hue"),parse:XI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+$i.transform(ec(e))+", "+$i.transform(ec(t))+", "+ec(Ec.transform(i))+")"},sn={test:n=>Da.test(n)||Vy.test(n)||$o.test(n),parse:n=>Da.test(n)?Da.parse(n):$o.test(n)?$o.parse(n):Vy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Da.transform(n):$o.transform(n)},G9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K9(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(D_))==null?void 0:e.length)||0)+(((t=n.match(G9))==null?void 0:t.length)||0)>0}const WI="number",ZI="color",Y9="var",Q9="var(",ES="${}",X9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bc(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let o=0;const f=e.replace(X9,h=>(sn.test(h)?(i.color.push(o),a.push(ZI),t.push(sn.parse(h))):h.startsWith(Q9)?(i.var.push(o),a.push(Y9),t.push(h)):(i.number.push(o),a.push(WI),t.push(parseFloat(h))),++o,ES)).split(ES);return{values:t,split:f,indexes:i,types:a}}function JI(n){return bc(n).values}function ex(n){const{split:e,types:t}=bc(n),i=e.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],a[u]!==void 0){const f=t[u];f===WI?o+=ec(a[u]):f===ZI?o+=sn.transform(a[u]):o+=a[u]}return o}}const W9=n=>typeof n=="number"?0:n;function Z9(n){const e=JI(n);return ex(n)(e.map(W9))}const Os={test:K9,parse:JI,createTransformer:ex,getAnimatableNone:Z9};function qg(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function J9({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,o=0,u=0;if(!e)a=o=u=t;else{const f=t<.5?t*(1+e):t+e-t*e,h=2*t-f;a=qg(h,f,n+1/3),o=qg(h,f,n),u=qg(h,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function vd(n,e){return t=>t>0?e:n}const dt=(n,e,t)=>n+(e-n)*t,$g=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},e5=[Vy,Da,$o],t5=n=>e5.find(e=>e.test(n));function bS(n){const e=t5(n);if(!e)return!1;let t=e.parse(n);return e===$o&&(t=J9(t)),t}const wS=(n,e)=>{const t=bS(n),i=bS(e);if(!t||!i)return vd(n,e);const a={...t};return o=>(a.red=$g(t.red,i.red,o),a.green=$g(t.green,i.green,o),a.blue=$g(t.blue,i.blue,o),a.alpha=dt(t.alpha,i.alpha,o),Da.transform(a))},Ly=new Set(["none","hidden"]);function n5(n,e){return Ly.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function i5(n,e){return t=>dt(n,e,t)}function P_(n){return typeof n=="number"?i5:typeof n=="string"?x_(n)?vd:sn.test(n)?wS:a5:Array.isArray(n)?tx:typeof n=="object"?sn.test(n)?wS:r5:vd}function tx(n,e){const t=[...n],i=t.length,a=n.map((o,u)=>P_(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)t[u]=a[u](o);return t}}function r5(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=P_(n[a])(n[a],e[a]));return a=>{for(const o in i)t[o]=i[o](a);return t}}function s5(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],u=n.indexes[o][i[o]],f=n.values[u]??0;t[a]=f,i[o]++}return t}const a5=(n,e)=>{const t=Os.createTransformer(e),i=bc(n),a=bc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Ly.has(n)&&!a.values.length||Ly.has(e)&&!i.values.length?n5(n,e):qc(tx(s5(i,a),a.values),t):vd(n,e)};function nx(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?dt(n,e,t):P_(n)(n,e)}const o5=n=>{const e=({timestamp:t})=>n(t);return{start:()=>ct.update(e,!0),stop:()=>Lr(e),now:()=>Qt.isProcessing?Qt.timestamp:wn.now()}},ix=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)i+=n(o/(a-1))+", ";return`linear(${i.substring(0,i.length-2)})`},_d=2e4;function N_(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<_d;)e+=t,i=n.next(e);return e>=_d?1/0:e}function l5(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(N_(i),_d);return{type:"keyframes",ease:o=>i.next(a*o).value/e,duration:qi(a)}}const u5=5;function rx(n,e,t){const i=Math.max(e-u5,0);return LI(t-n(i),e-i)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},SS=.001;function c5({duration:n=_t.duration,bounce:e=_t.bounce,velocity:t=_t.velocity,mass:i=_t.mass}){let a,o,u=1-e;u=kr(_t.minDamping,_t.maxDamping,u),n=kr(_t.minDuration,_t.maxDuration,qi(n)),u<1?(a=p=>{const g=p*u,_=g*n,T=g-t,S=Uy(p,u),R=Math.exp(-_);return SS-T/S*R},o=p=>{const _=p*u*n,T=_*t+t,S=Math.pow(u,2)*Math.pow(p,2)*n,R=Math.exp(-_),P=Uy(Math.pow(p,2),u);return(-a(p)+SS>0?-1:1)*((T-S)*R)/P}):(a=p=>{const g=Math.exp(-p*n),_=(p-t)*n+1;return-.001+g*_},o=p=>{const g=Math.exp(-p*n),_=(t-p)*(n*n);return g*_});const f=5/n,h=h5(a,o,f);if(n=Hi(n),isNaN(h))return{stiffness:_t.stiffness,damping:_t.damping,duration:n};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const f5=12;function h5(n,e,t){let i=t;for(let a=1;a<f5;a++)i=i-n(i)/e(i);return i}function Uy(n,e){return n*Math.sqrt(1-e*e)}const d5=["duration","bounce"],p5=["stiffness","damping","mass"];function AS(n,e){return e.some(t=>n[t]!==void 0)}function m5(n){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...n};if(!AS(n,p5)&&AS(n,d5))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,o=2*kr(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:o}}else{const t=c5(n);e={...e,...t,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Td(n=_t.visualDuration,e=_t.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const o=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],f={done:!1,value:o},{stiffness:h,damping:p,mass:g,duration:_,velocity:T,isResolvedFromDuration:S}=m5({...t,velocity:-qi(t.velocity||0)}),R=T||0,P=p/(2*Math.sqrt(h*g)),I=u-o,L=qi(Math.sqrt(h/g)),$=Math.abs(I)<5;i||(i=$?_t.restSpeed.granular:_t.restSpeed.default),a||(a=$?_t.restDelta.granular:_t.restDelta.default);let z;if(P<1){const F=Uy(L,P);z=J=>{const M=Math.exp(-P*L*J);return u-M*((R+P*L*I)/F*Math.sin(F*J)+I*Math.cos(F*J))}}else if(P===1)z=F=>u-Math.exp(-L*F)*(I+(R+L*I)*F);else{const F=L*Math.sqrt(P*P-1);z=J=>{const M=Math.exp(-P*L*J),A=Math.min(F*J,300);return u-M*((R+P*L*I)*Math.sinh(A)+F*I*Math.cosh(A))/F}}const ie={calculatedDuration:S&&_||null,next:F=>{const J=z(F);if(S)f.done=F>=_;else{let M=F===0?R:0;P<1&&(M=F===0?Hi(R):rx(z,F,J));const A=Math.abs(M)<=i,D=Math.abs(u-J)<=a;f.done=A&&D}return f.value=f.done?u:J,f},toString:()=>{const F=Math.min(N_(ie),_d),J=ix(M=>ie.next(F*M).value,F,30);return F+"ms "+J},toTransition:()=>{}};return ie}Td.applyToOptions=n=>{const e=l5(n,100,Td);return n.ease=e.ease,n.duration=Hi(e.duration),n.type="keyframes",n};function By({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:f,max:h,restDelta:p=.5,restSpeed:g}){const _=n[0],T={done:!1,value:_},S=A=>f!==void 0&&A<f||h!==void 0&&A>h,R=A=>f===void 0?h:h===void 0||Math.abs(f-A)<Math.abs(h-A)?f:h;let P=t*e;const I=_+P,L=u===void 0?I:u(I);L!==I&&(P=L-_);const $=A=>-P*Math.exp(-A/i),z=A=>L+$(A),ie=A=>{const D=$(A),k=z(A);T.done=Math.abs(D)<=p,T.value=T.done?L:k};let F,J;const M=A=>{S(T.value)&&(F=A,J=Td({keyframes:[T.value,R(T.value)],velocity:rx(z,A,T.value),damping:a,stiffness:o,restDelta:p,restSpeed:g}))};return M(0),{calculatedDuration:null,next:A=>{let D=!1;return!J&&F===void 0&&(D=!0,ie(A),M(A)),F!==void 0&&A>=F?J.next(A-F):(!D&&ie(A),T)}}}function g5(n,e,t){const i=[],a=t||Vr.mix||nx,o=n.length-1;for(let u=0;u<o;u++){let f=a(n[u],n[u+1]);if(e){const h=Array.isArray(e)?e[u]||ri:e;f=qc(h,f)}i.push(f)}return i}function sx(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const o=n.length;if(w_(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=g5(e,i,a),h=f.length,p=g=>{if(u&&g<n[0])return e[0];let _=0;if(h>1)for(;_<n.length-2&&!(g<n[_+1]);_++);const T=Tc(n[_],n[_+1],g);return f[_](T)};return t?g=>p(kr(n[0],n[o-1],g)):p}function y5(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=Tc(0,e,i);n.push(dt(t,1,a))}}function v5(n){const e=[0];return y5(e,n.length-1),e}function _5(n,e){return n.map(t=>t*e)}function T5(n,e){return n.map(()=>e||GI).splice(0,n.length-1)}function tc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=P9(i)?i.map(_S):_S(i),o={done:!1,value:e[0]},u=_5(t&&t.length===e.length?t:v5(e),n),f=sx(u,e,{ease:Array.isArray(a)?a:T5(e,a)});return{calculatedDuration:n,next:h=>(o.value=f(h),o.done=h>=n,o)}}const E5=n=>n!==null;function M_(n,{repeat:e,repeatType:t="loop"},i,a=1){const o=n.filter(E5),f=a<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!f||i===void 0?o[f]:i}const b5={decay:By,inertia:By,tween:tc,keyframes:tc,spring:Td};function ax(n){typeof n.type=="string"&&(n.type=b5[n.type])}class k_{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const w5=n=>n/100;class ox extends k_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;if(t&&t.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:i}=this.options;i&&i()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ax(e);const{type:t=tc,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=e;let{keyframes:f}=e;const h=t||tc;h!==tc&&typeof f[0]!="number"&&(this.mixKeyframes=qc(w5,nx(f[0],f[1])),f=[0,100]);const p=h({...e,keyframes:f});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=N_(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:_,repeatType:T,repeatDelay:S,type:R,onUpdate:P,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,ie=i;if(_){const A=Math.min(this.currentTime,a)/f;let D=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&D--,D=Math.min(D,_+1),!!(D%2)&&(T==="reverse"?(k=1-k,S&&(k-=S/f)):T==="mirror"&&(ie=u)),z=kr(0,1,k)*f}const F=$?{done:!1,value:g[0]}:ie.next(z);o&&(F.value=o(F.value));let{done:J}=F;!$&&h!==null&&(J=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return M&&R!==By&&(F.value=M_(g,this.options,I,this.speed)),P&&P(F.value),M&&this.finish(),F}then(e,t){return this.finished.then(e,t)}get duration(){return qi(this.calculatedDuration)}get time(){return qi(this.currentTime)}set time(e){e=Hi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=qi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=o5,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=i??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function S5(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Oa=n=>n*180/Math.PI,jy=n=>{const e=Oa(Math.atan2(n[1],n[0]));return zy(e)},A5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:jy,rotateZ:jy,skewX:n=>Oa(Math.atan(n[1])),skewY:n=>Oa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},zy=n=>(n=n%360,n<0&&(n+=360),n),RS=jy,CS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),IS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),R5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:CS,scaleY:IS,scale:n=>(CS(n)+IS(n))/2,rotateX:n=>zy(Oa(Math.atan2(n[6],n[5]))),rotateY:n=>zy(Oa(Math.atan2(-n[2],n[0]))),rotateZ:RS,rotate:RS,skewX:n=>Oa(Math.atan(n[4])),skewY:n=>Oa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function xS(n){return n.includes("scale")?1:0}function Fy(n,e){if(!n||n==="none")return xS(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=R5,a=t;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=A5,a=f}if(!a)return xS(e);const o=i[e],u=a[1].split(",").map(I5);return typeof o=="function"?o(u):u[o]}const C5=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Fy(t,e)};function I5(n){return parseFloat(n.trim())}const wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(wl),DS=n=>n===bl||n===Ie,x5=new Set(["x","y","z"]),D5=wl.filter(n=>!x5.has(n));function O5(n){const e=[];return D5.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const ll={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Fy(e,"x"),y:(n,{transform:e})=>Fy(e,"y")};ll.translateX=ll.x;ll.translateY=ll.y;const Pa=new Set;let Hy=!1,qy=!1,$y=!1;function lx(){if(qy){const n=Array.from(Pa).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=O5(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([o,u])=>{var f;(f=i.getValue(o))==null||f.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}qy=!1,Hy=!1,Pa.forEach(n=>n.complete($y)),Pa.clear()}function ux(){Pa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(qy=!0)})}function P5(){$y=!0,ux(),lx(),$y=!1}class V_{constructor(e,t,i,a,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Pa.add(this),Hy||(Hy=!0,ct.read(ux),ct.resolveKeyframes(lx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const o=a==null?void 0:a.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const f=i.readValue(t,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&o===void 0&&a.set(e[0])}S5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Pa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Pa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const N5=n=>n.startsWith("--");function M5(n,e,t){N5(e)?n.style.setProperty(e,t):n.style[e]=t}const k5=S_(()=>window.ScrollTimeline!==void 0),V5={};function L5(n,e){const t=S_(n);return()=>V5[e]??t()}const cx=L5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$u=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,OS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$u([0,.65,.55,1]),circOut:$u([.55,0,1,.45]),backIn:$u([.31,.01,.66,-.59]),backOut:$u([.33,1.53,.69,.99])};function fx(n,e){if(n)return typeof n=="function"?cx()?ix(n,e):"ease-out":KI(n)?$u(n):Array.isArray(n)?n.map(t=>fx(t,e)||OS.easeOut):OS[n]}function U5(n,e,t,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:f="easeOut",times:h}={},p=void 0){const g={[e]:t};h&&(g.offset=h);const _=fx(f,a);Array.isArray(_)&&(g.easing=_);const T={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),n.animate(g,T)}function hx(n){return typeof n=="function"&&"applyToOptions"in n}function B5({type:n,...e}){return hx(n)&&cx()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class j5 extends k_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:f,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,w_(typeof e.type!="string");const p=B5(e);this.animation=U5(t,i,a,p,o),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=M_(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):M5(t,i,g),this.animation.cancel()}h==null||h(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return qi(Number(e))}get time(){return qi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Hi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&k5()?(this.animation.timeline=e,ri):t(this)}}const dx={anticipate:HI,backInOut:FI,circInOut:$I};function z5(n){return n in dx}function F5(n){typeof n.ease=="string"&&z5(n.ease)&&(n.ease=dx[n.ease])}const PS=10;class H5 extends j5{constructor(e){F5(e),ax(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:o,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const f=new ox({...u,autoplay:!1}),h=Hi(this.finishedTime??this.time);t.setWithVelocity(f.sample(h-PS).value,f.sample(h).value,PS),f.stop()}}const NS=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Os.test(n)||n==="0")&&!n.startsWith("url("));function q5(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function $5(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],u=NS(a,e),f=NS(o,e);return!u||!f?!1:q5(n)||(t==="spring"||hx(t))&&i}const G5=new Set(["opacity","clipPath","filter","transform"]),K5=S_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y5(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:o,type:u}=n;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=e.owner.getProps();return K5()&&t&&G5.has(t)&&(t!=="transform"||!h)&&!f&&!i&&a!=="mirror"&&o!==0&&u!=="inertia"}const Q5=40;class X5 extends k_{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",keyframes:f,name:h,motionValue:p,element:g,..._}){var R;super(),this.stop=()=>{var P,I;this._animation?(this._animation.stop(),(P=this.stopTimeline)==null||P.call(this)):(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=wn.now();const T={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:o,repeatType:u,name:h,motionValue:p,element:g,..._},S=(g==null?void 0:g.KeyframeResolver)||V_;this.keyframeResolver=new S(f,(P,I,L)=>this.onKeyframesResolved(P,I,T,!L),h,p,g),(R=this.keyframeResolver)==null||R.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:o,type:u,velocity:f,delay:h,isHandoff:p,onUpdate:g}=i;this.resolvedAt=wn.now(),$5(e,o,u,f)||((Vr.instantAnimations||!h)&&(g==null||g(M_(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Q5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},S=!p&&Y5(T)?new H5({...T,element:T.motionValue.owner.current}):new ox(T);S.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||P5(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const W5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Z5(n){const e=W5.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function px(n,e,t=1){const[i,a]=Z5(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return kI(u)?parseFloat(u):u}return x_(a)?px(a,e,t+1):a}function L_(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const mx=new Set(["width","height","top","left","right","bottom",...wl]),J5={test:n=>n==="auto",parse:n=>n},gx=n=>e=>e.test(n),yx=[bl,Ie,$i,gs,$9,q9,J5],MS=n=>yx.find(gx(n));function eB(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||VI(n):!0}const tB=new Set(["brightness","contrast","saturate","opacity"]);function nB(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(D_)||[];if(!i)return n;const a=t.replace(i,"");let o=tB.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+a+")"}const iB=/\b([a-z-]*)\(.*?\)/gu,Gy={...Os,getAnimatableNone:n=>{const e=n.match(iB);return e?e.map(nB).join(" "):n}},kS={...bl,transform:Math.round},rB={rotate:gs,rotateX:gs,rotateY:gs,rotateZ:gs,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:gs,skewX:gs,skewY:gs,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Ec,originX:TS,originY:TS,originZ:Ie},U_={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...rB,zIndex:kS,fillOpacity:Ec,strokeOpacity:Ec,numOctaves:kS},sB={...U_,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Gy,WebkitFilter:Gy},vx=n=>sB[n];function _x(n,e){let t=vx(n);return t!==Gy&&(t=Os),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const aB=new Set(["auto","none","0"]);function oB(n,e,t){let i=0,a;for(;i<n.length&&!a;){const o=n[i];typeof o=="string"&&!aB.has(o)&&bc(o).values.length&&(a=n[i]),i++}if(a&&t)for(const o of e)n[o]=_x(t,a)}class lB extends V_{constructor(e,t,i,a,o){super(e,t,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),x_(p))){const g=px(p,t.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!mx.has(i)||e.length!==2)return;const[a,o]=e,u=MS(a),f=MS(o);if(u!==f)if(DS(u)&&DS(f))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||eB(e[a]))&&i.push(a);i.length&&oB(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ll[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=ll[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function uB(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=(t==null?void 0:t[n])??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const{schedule:B_}=YI(queueMicrotask,!1),mi={x:!1,y:!1};function Tx(){return mi.x||mi.y}function cB(n){return n==="x"||n==="y"?mi[n]?null:(mi[n]=!0,()=>{mi[n]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function Ex(n,e){const t=uB(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function VS(n){return!(n.pointerType==="touch"||Tx())}function fB(n,e,t={}){const[i,a,o]=Ex(n,t),u=f=>{if(!VS(f))return;const{target:h}=f,p=e(h,f);if(typeof p!="function"||!h)return;const g=_=>{VS(_)&&(p(_),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,a)};return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),o}const bx=(n,e)=>e?n===e?!0:bx(n,e.parentElement):!1,j_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,hB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dB(n){return hB.has(n.tagName)||n.tabIndex!==-1}const Gu=new WeakSet;function LS(n){return e=>{e.key==="Enter"&&n(e)}}function Gg(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pB=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=LS(()=>{if(Gu.has(t))return;Gg(t,"down");const a=LS(()=>{Gg(t,"up")}),o=()=>Gg(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function US(n){return j_(n)&&!Tx()}function mB(n,e,t={}){const[i,a,o]=Ex(n,t),u=f=>{const h=f.currentTarget;if(!US(f)||Gu.has(h))return;Gu.add(h);const p=e(h,f),g=(S,R)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),!(!US(S)||!Gu.has(h))&&(Gu.delete(h),typeof p=="function"&&p(S,{success:R}))},_=S=>{g(S,h===window||h===document||t.useGlobalTarget||bx(h,S.target))},T=S=>{g(S,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return i.forEach(f=>{(t.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),f instanceof HTMLElement&&(f.addEventListener("focus",p=>pB(p,a)),!dB(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),o}function gB(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],a=n[1+t],o=n[2+t],u=n[3+t],f=sx(a,o,u);return e?f(i):f}const BS=30,yB=n=>!isNaN(parseFloat(n)),nc={current:void 0};class vB{constructor(e,t={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{var u,f;const o=wn.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current)),a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new A_);const i=this.events[e].add(t);return e==="change"?()=>{i(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return nc.current&&nc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BS)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,BS);return LI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(n,e){return new vB(n,e)}const _B=[...yx,sn,Os],TB=n=>_B.find(gx(n)),wx=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Sx=B.createContext({strict:!1}),jS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cl={};for(const n in jS)cl[n]={isEnabled:e=>jS[n].some(t=>!!e[t])};function EB(n){for(const e in n)cl[e]={...cl[e],...n[e]}}const bB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ed(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bB.has(n)}let Ax=n=>!Ed(n);function wB(n){n&&(Ax=e=>e.startsWith("on")?!Ed(e):n(e))}try{wB(require("@emotion/is-prop-valid").default)}catch{}function SB(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(Ax(a)||t===!0&&Ed(a)||!e&&!Ed(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}function AB(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const ap=B.createContext({});function op(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function wc(n){return typeof n=="string"||Array.isArray(n)}const z_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],F_=["initial",...z_];function lp(n){return op(n.animate)||F_.some(e=>wc(n[e]))}function Rx(n){return!!(lp(n)||n.variants)}function RB(n,e){if(lp(n)){const{initial:t,animate:i}=n;return{initial:t===!1||wc(t)?t:void 0,animate:wc(i)?i:void 0}}return n.inherit!==!1?e:{}}function CB(n){const{initial:e,animate:t}=RB(n,B.useContext(ap));return B.useMemo(()=>({initial:e,animate:t}),[zS(e),zS(t)])}function zS(n){return Array.isArray(n)?n.join(" "):n}const IB=Symbol.for("motionComponentSymbol");function Go(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function xB(n,e,t){return B.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Go(t)&&(t.current=i))},[e])}const H_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DB="framerAppearId",Cx="data-"+H_(DB),Ix=B.createContext({});function OB(n,e,t,i,a){var P,I;const{visualElement:o}=B.useContext(ap),u=B.useContext(Sx),f=B.useContext(__),h=B.useContext(T_).reducedMotion,p=B.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:o,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const g=p.current,_=B.useContext(Ix);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&PB(p.current,t,a,_);const T=B.useRef(!1);B.useInsertionEffect(()=>{g&&T.current&&g.update(t,f)});const S=t[Cx],R=B.useRef(!!S&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,S))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,S)));return MI(()=>{g&&(T.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),B_.render(g.render),R.current&&g.animationState&&g.animationState.animateChanges())}),B.useEffect(()=>{g&&(!R.current&&g.animationState&&g.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,S)}),R.current=!1))}),g}function PB(n,e,t,i){const{layoutId:a,layout:o,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:xx(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||f&&Go(f),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:p})}function xx(n){if(n)return n.options.allowProjection!==!1?n.projection:xx(n.parent)}function NB({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:a}){n&&EB(n);function o(f,h){let p;const g={...B.useContext(T_),...f,layoutId:MB(f)},{isStatic:_}=g,T=CB(f),S=i(f,_);if(!_&&v_){kB();const R=VB(g);p=R.MeasureLayout,T.visualElement=OB(a,S,g,e,R.ProjectionNode)}return ky.jsxs(ap.Provider,{value:T,children:[p&&T.visualElement?ky.jsx(p,{visualElement:T.visualElement,...g}):null,t(a,f,xB(S,T.visualElement,h),S,_,T.visualElement)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=B.forwardRef(o);return u[IB]=a,u}function MB({layoutId:n}){const e=B.useContext(NI).id;return e&&n!==void 0?e+"-"+n:n}function kB(n,e){B.useContext(Sx).strict}function VB(n){const{drag:e,layout:t}=cl;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Sc={};function LB(n){for(const e in n)Sc[e]=n[e],I_(e)&&(Sc[e].isCSSVariable=!0)}function Dx(n,{layout:e,layoutId:t}){return Sl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Sc[n]||n==="opacity")}const ln=n=>!!(n&&n.getVelocity),UB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BB=wl.length;function jB(n,e,t){let i="",a=!0;for(let o=0;o<BB;o++){const u=wl[o],f=n[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||t){const p=wx(f,U_[u]);if(!h){a=!1;const g=UB[u]||u;i+=`${g}(${p}) `}t&&(e[u]=p)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function q_(n,e,t){const{style:i,vars:a,transformOrigin:o}=n;let u=!1,f=!1;for(const h in e){const p=e[h];if(Sl.has(h)){u=!0;continue}else if(I_(h)){a[h]=p;continue}else{const g=wx(p,U_[h]);h.startsWith("origin")?(f=!0,o[h]=g):i[h]=g}}if(e.transform||(u||t?i.transform=jB(e,n.transform,t):i.transform&&(i.transform="none")),f){const{originX:h="50%",originY:p="50%",originZ:g=0}=o;i.transformOrigin=`${h} ${p} ${g}`}}const $_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ox(n,e,t){for(const i in e)!ln(e[i])&&!Dx(i,t)&&(n[i]=e[i])}function zB({transformTemplate:n},e){return B.useMemo(()=>{const t=$_();return q_(t,e,n),Object.assign({},t.vars,t.style)},[e])}function FB(n,e){const t=n.style||{},i={};return Ox(i,t,n),Object.assign(i,zB(n,e)),i}function HB(n,e){const t={},i=FB(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const qB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G_(n){return typeof n!="string"||n.includes("-")?!1:!!(qB.indexOf(n)>-1||/[A-Z]/u.test(n))}const $B={offset:"stroke-dashoffset",array:"stroke-dasharray"},GB={offset:"strokeDashoffset",array:"strokeDasharray"};function KB(n,e,t=1,i=0,a=!0){n.pathLength=1;const o=a?$B:GB;n[o.offset]=Ie.transform(-i);const u=Ie.transform(e),f=Ie.transform(t);n[o.array]=`${u} ${f}`}function Px(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...f},h,p){if(q_(n,f,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:_}=n;g.transform&&(_.transform=g.transform,delete g.transform),(_.transform||g.transformOrigin)&&(_.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),_.transform&&(_.transformBox="fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),i!==void 0&&(g.scale=i),a!==void 0&&KB(g,a,o,u,!1)}const Nx=()=>({...$_(),attrs:{}}),Mx=n=>typeof n=="string"&&n.toLowerCase()==="svg";function YB(n,e,t,i){const a=B.useMemo(()=>{const o=Nx();return Px(o,e,Mx(i),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};Ox(o,n.style,n),a.style={...o,...a.style}}return a}function QB(n=!1){return(t,i,a,{latestValues:o},u)=>{const h=(G_(t)?YB:HB)(i,o,u,t),p=SB(i,typeof t=="string",n),g=t!==B.Fragment?{...p,...h,ref:a}:{},{children:_}=i,T=B.useMemo(()=>ln(_)?_.get():_,[_]);return B.createElement(t,{...g,children:T})}}function FS(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function K_(n,e,t,i){if(typeof e=="function"){const[a,o]=FS(i);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=FS(i);e=e(t!==void 0?t:n.custom,a,o)}return e}function Gh(n){return ln(n)?n.get():n}function XB({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:WB(t,i,a,n),renderState:e()}}const kx=n=>(e,t)=>{const i=B.useContext(ap),a=B.useContext(__),o=()=>XB(n,e,i,a);return t?o():y_(o)};function WB(n,e,t,i){const a={},o=i(n,{});for(const T in o)a[T]=Gh(o[T]);let{initial:u,animate:f}=n;const h=lp(n),p=Rx(n);e&&p&&!h&&n.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const _=g?f:u;if(_&&typeof _!="boolean"&&!op(_)){const T=Array.isArray(_)?_:[_];for(let S=0;S<T.length;S++){const R=K_(n,T[S]);if(R){const{transitionEnd:P,transition:I,...L}=R;for(const $ in L){let z=L[$];if(Array.isArray(z)){const ie=g?z.length-1:0;z=z[ie]}z!==null&&(a[$]=z)}for(const $ in P)a[$]=P[$]}}}return a}function Y_(n,e,t){var o;const{style:i}=n,a={};for(const u in i)(ln(i[u])||e.style&&ln(e.style[u])||Dx(u,n)||((o=t==null?void 0:t.getValue(u))==null?void 0:o.liveStyle)!==void 0)&&(a[u]=i[u]);return a}const ZB={useVisualState:kx({scrapeMotionValuesFromProps:Y_,createRenderState:$_})};function Vx(n,e,t){const i=Y_(n,e,t);for(const a in n)if(ln(n[a])||ln(e[a])){const o=wl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=n[a]}return i}const JB={useVisualState:kx({scrapeMotionValuesFromProps:Vx,createRenderState:Nx})};function ej(n,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...G_(i)?JB:ZB,preloadedFeatures:n,useRender:QB(a),createVisualElement:e,Component:i};return NB(u)}}function Ac(n,e,t){const i=n.getProps();return K_(i,e,t!==void 0?t:i.custom,n)}const Ky=n=>Array.isArray(n);function tj(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ul(t))}function nj(n){return Ky(n)?n[n.length-1]||0:n}function ij(n,e){const t=Ac(n,e);let{transitionEnd:i={},transition:a={},...o}=t||{};o={...o,...i};for(const u in o){const f=nj(o[u]);tj(n,u,f)}}function rj(n){return!!(ln(n)&&n.add)}function Yy(n,e){const t=n.getValue("willChange");if(rj(t))return t.add(e);if(!t&&Vr.WillChange){const i=new Vr.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function Lx(n){return n.props[Cx]}const sj=n=>n!==null;function aj(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(sj),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[o]}const oj={type:"spring",stiffness:500,damping:25,restSpeed:10},lj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),uj={type:"keyframes",duration:.8},cj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fj=(n,{keyframes:e})=>e.length>2?uj:Sl.has(n)?n.startsWith("scale")?lj(e[1]):oj:cj;function hj({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:f,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const Q_=(n,e,t,i={},a,o)=>u=>{const f=L_(i,n)||{},h=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Hi(h);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:o?void 0:a};hj(f)||Object.assign(g,fj(n,g)),g.duration&&(g.duration=Hi(g.duration)),g.repeatDelay&&(g.repeatDelay=Hi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),(Vr.instantAnimations||Vr.skipAnimations)&&(_=!0,g.duration=0,g.delay=0),g.allowFlatten=!f.type&&!f.ease,_&&!o&&e.get()!==void 0){const T=aj(g.keyframes,f);if(T!==void 0){ct.update(()=>{g.onUpdate(T),g.onComplete()});return}}return new X5(g)};function dj({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function Ux(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(o=i);const h=[],p=a&&n.animationState&&n.animationState.getState()[a];for(const g in f){const _=n.getValue(g,n.latestValues[g]??null),T=f[g];if(T===void 0||p&&dj(p,g))continue;const S={delay:t,...L_(o||{},g)},R=_.get();if(R!==void 0&&!_.isAnimating&&!Array.isArray(T)&&T===R&&!S.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const L=Lx(n);if(L){const $=window.MotionHandoffAnimation(L,g,ct);$!==null&&(S.startTime=$,P=!0)}}Yy(n,g),_.start(Q_(g,_,T,n.shouldReduceMotion&&mx.has(g)?{type:!1}:S,n,P));const I=_.animation;I&&h.push(I)}return u&&Promise.all(h).then(()=>{ct.update(()=>{u&&ij(n,u)})}),h}function Qy(n,e,t={}){var h;const i=Ac(n,e,t.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const o=i?()=>Promise.all(Ux(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:T}=a;return pj(n,e,g+p,_,T,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[o,u]:[u,o];return p().then(()=>g())}else return Promise.all([o(),u(t.delay)])}function pj(n,e,t=0,i=0,a=1,o){const u=[],f=(n.variantChildren.size-1)*i,h=a===1?(p=0)=>p*i:(p=0)=>f-p*i;return Array.from(n.variantChildren).sort(mj).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(Qy(p,e,{...o,delay:t+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function mj(n,e){return n.sortNodePosition(e)}function gj(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>Qy(n,o,t));i=Promise.all(a)}else if(typeof e=="string")i=Qy(n,e,t);else{const a=typeof e=="function"?Ac(n,e,t.custom):e;i=Promise.all(Ux(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function Bx(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const yj=F_.length;function jx(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?jx(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<yj;t++){const i=F_[t],a=n.props[i];(wc(a)||a===!1)&&(e[i]=a)}return e}const vj=[...z_].reverse(),_j=z_.length;function Tj(n){return e=>Promise.all(e.map(({animation:t,options:i})=>gj(n,t,i)))}function Ej(n){let e=Tj(n),t=HS(),i=!0;const a=h=>(p,g)=>{var T;const _=Ac(n,g,h==="exit"?(T=n.presenceContext)==null?void 0:T.custom:void 0);if(_){const{transition:S,transitionEnd:R,...P}=_;p={...p,...P,...R}}return p};function o(h){e=h(n)}function u(h){const{props:p}=n,g=jx(n.parent)||{},_=[],T=new Set;let S={},R=1/0;for(let I=0;I<_j;I++){const L=vj[I],$=t[L],z=p[L]!==void 0?p[L]:g[L],ie=wc(z),F=L===h?$.isActive:null;F===!1&&(R=I);let J=z===g[L]&&z!==p[L]&&ie;if(J&&i&&n.manuallyAnimateOnMount&&(J=!1),$.protectedKeys={...S},!$.isActive&&F===null||!z&&!$.prevProp||op(z)||typeof z=="boolean")continue;const M=bj($.prevProp,z);let A=M||L===h&&$.isActive&&!J&&ie||I>R&&ie,D=!1;const k=Array.isArray(z)?z:[z];let V=k.reduce(a(L),{});F===!1&&(V={});const{prevResolvedValues:j={}}=$,O={...j,...V},ve=se=>{A=!0,T.has(se)&&(D=!0,T.delete(se)),$.needsAnimating[se]=!0;const de=n.getValue(se);de&&(de.liveStyle=!1)};for(const se in O){const de=V[se],be=j[se];if(S.hasOwnProperty(se))continue;let w=!1;Ky(de)&&Ky(be)?w=!Bx(de,be):w=de!==be,w?de!=null?ve(se):T.add(se):de!==void 0&&T.has(se)?ve(se):$.protectedKeys[se]=!0}$.prevProp=z,$.prevResolvedValues=V,$.isActive&&(S={...S,...V}),i&&n.blockInitialAnimation&&(A=!1),A&&(!(J&&M)||D)&&_.push(...k.map(se=>({animation:se,options:{type:L}})))}if(T.size){const I={};if(typeof p.initial!="boolean"){const L=Ac(n,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(I.transition=L.transition)}T.forEach(L=>{const $=n.getBaseTarget(L),z=n.getValue(L);z&&(z.liveStyle=!0),I[L]=$??null}),_.push({animation:I})}let P=!!_.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(_):Promise.resolve()}function f(h,p){var _;if(t[h].isActive===p)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(T=>{var S;return(S=T.animationState)==null?void 0:S.setActive(h,p)}),t[h].isActive=p;const g=u(h);for(const T in t)t[T].protectedKeys={};return g}return{animateChanges:u,setActive:f,setAnimateFunction:o,getState:()=>t,reset:()=>{t=HS(),i=!0}}}function bj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Bx(e,n):!1}function wa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HS(){return{animate:wa(!0),whileInView:wa(),whileHover:wa(),whileTap:wa(),whileDrag:wa(),whileFocus:wa(),exit:wa()}}class Bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class wj extends Bs{constructor(e){super(e),e.animationState||(e.animationState=Ej(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();op(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Sj=0;class Aj extends Bs{constructor(){super(...arguments),this.id=Sj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Rj={animation:{Feature:wj},exit:{Feature:Aj}};function Rc(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Kc(n){return{point:{x:n.pageX,y:n.pageY}}}const Cj=n=>e=>j_(e)&&n(e,Kc(e));function ic(n,e,t,i){return Rc(n,e,Cj(t),i)}function zx({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Ij({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function xj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const Fx=1e-4,Dj=1-Fx,Oj=1+Fx,Hx=.01,Pj=0-Hx,Nj=0+Hx;function mn(n){return n.max-n.min}function Mj(n,e,t){return Math.abs(n-e)<=t}function qS(n,e,t,i=.5){n.origin=i,n.originPoint=dt(e.min,e.max,n.origin),n.scale=mn(t)/mn(e),n.translate=dt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Dj&&n.scale<=Oj||isNaN(n.scale))&&(n.scale=1),(n.translate>=Pj&&n.translate<=Nj||isNaN(n.translate))&&(n.translate=0)}function rc(n,e,t,i){qS(n.x,e.x,t.x,i?i.originX:void 0),qS(n.y,e.y,t.y,i?i.originY:void 0)}function $S(n,e,t){n.min=t.min+e.min,n.max=n.min+mn(e)}function kj(n,e,t){$S(n.x,e.x,t.x),$S(n.y,e.y,t.y)}function GS(n,e,t){n.min=e.min-t.min,n.max=n.min+mn(e)}function sc(n,e,t){GS(n.x,e.x,t.x),GS(n.y,e.y,t.y)}const KS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ko=()=>({x:KS(),y:KS()}),YS=()=>({min:0,max:0}),wt=()=>({x:YS(),y:YS()});function ti(n){return[n("x"),n("y")]}function Kg(n){return n===void 0||n===1}function Xy({scale:n,scaleX:e,scaleY:t}){return!Kg(n)||!Kg(e)||!Kg(t)}function Aa(n){return Xy(n)||qx(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function qx(n){return QS(n.x)||QS(n.y)}function QS(n){return n&&n!=="0%"}function bd(n,e,t){const i=n-t,a=e*i;return t+a}function XS(n,e,t,i,a){return a!==void 0&&(n=bd(n,a,i)),bd(n,t,i)+e}function Wy(n,e=0,t=1,i,a){n.min=XS(n.min,e,t,i,a),n.max=XS(n.max,e,t,i,a)}function $x(n,{x:e,y:t}){Wy(n.x,e.translate,e.scale,e.originPoint),Wy(n.y,t.translate,t.scale,t.originPoint)}const WS=.999999999999,ZS=1.0000000000001;function Vj(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,u;for(let f=0;f<a;f++){o=t[f],u=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qo(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,$x(n,u)),i&&Aa(o.latestValues)&&Qo(n,o.latestValues))}e.x<ZS&&e.x>WS&&(e.x=1),e.y<ZS&&e.y>WS&&(e.y=1)}function Yo(n,e){n.min=n.min+e,n.max=n.max+e}function JS(n,e,t,i,a=.5){const o=dt(n.min,n.max,a);Wy(n,e,t,o,i)}function Qo(n,e){JS(n.x,e.x,e.scaleX,e.scale,e.originX),JS(n.y,e.y,e.scaleY,e.scale,e.originY)}function Gx(n,e){return zx(xj(n.getBoundingClientRect(),e))}function Lj(n,e,t){const i=Gx(n,t),{scroll:a}=e;return a&&(Yo(i.x,a.offset.x),Yo(i.y,a.offset.y)),i}const Kx=({current:n})=>n?n.ownerDocument.defaultView:null,eA=(n,e)=>Math.abs(n-e);function Uj(n,e){const t=eA(n.x,e.x),i=eA(n.y,e.y);return Math.sqrt(t**2+i**2)}class Yx{constructor(e,t,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Qg(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=Uj(_.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:R}=_,{timestamp:P}=Qt;this.history.push({...R,timestamp:P});const{onStart:I,onMove:L}=this.handlers;T||(I&&I(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,_)},this.handlePointerMove=(_,T)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Yg(T,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(_,T)=>{this.end();const{onEnd:S,onSessionEnd:R,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Qg(_.type==="pointercancel"?this.lastMoveEventInfo:Yg(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,I),R&&R(_,I)},!j_(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.contextWindow=a||window;const u=Kc(e),f=Yg(u,this.transformPagePoint),{point:h}=f,{timestamp:p}=Qt;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,Qg(f,this.history)),this.removeListeners=qc(ic(this.contextWindow,"pointermove",this.handlePointerMove),ic(this.contextWindow,"pointerup",this.handlePointerUp),ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lr(this.updatePoint)}}function Yg(n,e){return e?{point:e(n.point)}:n}function tA(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Qg({point:n},e){return{point:n,delta:tA(n,Qx(e)),offset:tA(n,Bj(e)),velocity:jj(e,.1)}}function Bj(n){return n[0]}function Qx(n){return n[n.length-1]}function jj(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=Qx(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>Hi(e)));)t--;if(!i)return{x:0,y:0};const o=qi(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function zj(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?dt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?dt(t,n,i.max):Math.min(n,t)),n}function nA(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Fj(n,{top:e,left:t,bottom:i,right:a}){return{x:nA(n.x,t,a),y:nA(n.y,e,i)}}function iA(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Hj(n,e){return{x:iA(n.x,e.x),y:iA(n.y,e.y)}}function qj(n,e){let t=.5;const i=mn(n),a=mn(e);return a>i?t=Tc(e.min,e.max-i,n.min):i>a&&(t=Tc(n.min,n.max-a,e.min)),kr(0,1,t)}function $j(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Zy=.35;function Gj(n=Zy){return n===!1?n=0:n===!0&&(n=Zy),{x:rA(n,"left","right"),y:rA(n,"top","bottom")}}function rA(n,e,t){return{min:sA(n,e),max:sA(n,t)}}function sA(n,e){return typeof n=="number"?n:n[e]||0}const Kj=new WeakMap;class Yj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Kc(g).point)},o=(g,_)=>{const{drag:T,dragPropagation:S,onDragStart:R}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cB(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(I=>{let L=this.getAxisMotionValue(I).get()||0;if($i.test(L)){const{projection:$}=this.visualElement;if($&&$.layout){const z=$.layout.layoutBox[I];z&&(L=mn(z)*(parseFloat(L)/100))}}this.originPoint[I]=L}),R&&ct.postRender(()=>R(g,_)),Yy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},u=(g,_)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:R,onDrag:P}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:I}=_;if(S&&this.currentDirection===null){this.currentDirection=Qj(I),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",_.point,I),this.updateAxis("y",_.point,I),this.visualElement.render(),P&&P(g,_)},f=(g,_)=>this.stop(g,_),h=()=>ti(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Yx(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Kx(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ct.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!xh(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=zj(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;e&&Go(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Fj(i.layoutBox,e):this.constraints=!1,this.elastic=Gj(t),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ti(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=$j(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Go(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=Lj(i,a.root,this.visualElement.getTransformPagePoint());let u=Hj(a.layout.layoutBox,o);if(t){const f=t(Ij(u));this.hasMutatedConstraints=!!f,f&&(u=zx(f))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},p=ti(g=>{if(!xh(g,t,this.currentDirection))return;let _=h&&h[g]||{};u&&(_={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,R={type:"inertia",velocity:i?e[g]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(g,R)});return Promise.all(p).then(f)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Yy(this.visualElement,e),i.start(Q_(e,i,0,t,this.visualElement,!1))}stopAnimation(){ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ti(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ti(t=>{const{drag:i}=this.getProps();if(!xh(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[t];o.set(e[t]-dt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Go(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ti(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();a[u]=qj({min:h,max:h},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ti(u=>{if(!xh(u,e,null))return;const f=this.getAxisMotionValue(u),{min:h,max:p}=this.constraints[u];f.set(dt(h,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;Kj.set(this.visualElement,this);const e=this.visualElement.current,t=ic(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Go(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ct.read(i);const u=Rc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(ti(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=h[g].translate,_.set(_.get()+h[g].translate))}),this.visualElement.render())});return()=>{u(),t(),o(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=Zy,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:f}}}function xh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Qj(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Xj extends Bs{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new Yj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const aA=n=>(e,t)=>{n&&ct.postRender(()=>n(e,t))};class Wj extends Bs{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new Yx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Kx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:aA(e),onStart:aA(t),onMove:i,onEnd:(o,u)=>{delete this.session,a&&ct.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Lu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ie.test(n))n=parseFloat(n);else return n;const t=oA(n,e.target.x),i=oA(n,e.target.y);return`${t}% ${i}%`}},Zj={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=Os.parse(n);if(a.length>5)return i;const o=Os.createTransformer(n),u=typeof a[0]!="number"?1:0,f=t.x.scale*e.x,h=t.y.scale*e.y;a[0+u]/=f,a[1+u]/=h;const p=dt(f,h,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),o(a)}};class Jj extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;LB(ez),o&&(t.group&&t.group.add(o),i&&i.register&&a&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Kh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||ct.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),B_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Xx(n){const[e,t]=A9(),i=B.useContext(NI);return ky.jsx(Jj,{...n,layoutGroup:i,switchLayoutGroup:B.useContext(Ix),isPresent:e,safeToRemove:t})}const ez={borderRadius:{...Lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lu,borderTopRightRadius:Lu,borderBottomLeftRadius:Lu,borderBottomRightRadius:Lu,boxShadow:Zj};function tz(n,e,t){const i=ln(n)?n:ul(n);return i.start(Q_("",i,e,t)),i.animation}function nz(n){return n instanceof SVGElement&&n.tagName!=="svg"}const iz=(n,e)=>n.depth-e.depth;class rz{constructor(){this.children=[],this.isDirty=!1}add(e){E_(this.children,e),this.isDirty=!0}remove(e){b_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iz),this.isDirty=!1,this.children.forEach(e)}}function sz(n,e){const t=wn.now(),i=({timestamp:a})=>{const o=a-t;o>=e&&(Lr(i),n(o-e))};return ct.setup(i,!0),()=>Lr(i)}const Wx=["TopLeft","TopRight","BottomLeft","BottomRight"],az=Wx.length,lA=n=>typeof n=="string"?parseFloat(n):n,uA=n=>typeof n=="number"||Ie.test(n);function oz(n,e,t,i,a,o){a?(n.opacity=dt(0,t.opacity??1,lz(i)),n.opacityExit=dt(e.opacity??1,0,uz(i))):o&&(n.opacity=dt(e.opacity??1,t.opacity??1,i));for(let u=0;u<az;u++){const f=`border${Wx[u]}Radius`;let h=cA(e,f),p=cA(t,f);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||uA(h)===uA(p)?(n[f]=Math.max(dt(lA(h),lA(p),i),0),($i.test(p)||$i.test(h))&&(n[f]+="%")):n[f]=p}(e.rotate||t.rotate)&&(n.rotate=dt(e.rotate||0,t.rotate||0,i))}function cA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const lz=Zx(0,.5,qI),uz=Zx(.5,.95,ri);function Zx(n,e,t){return i=>i<n?0:i>e?1:t(Tc(n,e,i))}function fA(n,e){n.min=e.min,n.max=e.max}function ei(n,e){fA(n.x,e.x),fA(n.y,e.y)}function hA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function dA(n,e,t,i,a){return n-=e,n=bd(n,1/t,i),a!==void 0&&(n=bd(n,1/a,i)),n}function cz(n,e=0,t=1,i=.5,a,o=n,u=n){if($i.test(e)&&(e=parseFloat(e),e=dt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=dt(o.min,o.max,i);n===o&&(f-=e),n.min=dA(n.min,e,t,f,a),n.max=dA(n.max,e,t,f,a)}function pA(n,e,[t,i,a],o,u){cz(n,e[t],e[i],e[a],e.scale,o,u)}const fz=["x","scaleX","originX"],hz=["y","scaleY","originY"];function mA(n,e,t,i){pA(n.x,e,fz,t?t.x:void 0,i?i.x:void 0),pA(n.y,e,hz,t?t.y:void 0,i?i.y:void 0)}function gA(n){return n.translate===0&&n.scale===1}function Jx(n){return gA(n.x)&&gA(n.y)}function yA(n,e){return n.min===e.min&&n.max===e.max}function dz(n,e){return yA(n.x,e.x)&&yA(n.y,e.y)}function vA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function eD(n,e){return vA(n.x,e.x)&&vA(n.y,e.y)}function _A(n){return mn(n.x)/mn(n.y)}function TA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class pz{constructor(){this.members=[]}add(e){E_(this.members,e),e.scheduleRender()}remove(e){if(b_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mz(n,e,t){let i="";const a=n.x.translate/e.x,o=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:T,skewX:S,skewY:R}=t;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),_&&(i+=`rotateX(${_}deg) `),T&&(i+=`rotateY(${T}deg) `),S&&(i+=`skewX(${S}deg) `),R&&(i+=`skewY(${R}deg) `)}const f=n.x.scale*e.x,h=n.y.scale*e.y;return(f!==1||h!==1)&&(i+=`scale(${f}, ${h})`),i||"none"}const Xg=["","X","Y","Z"],gz={visibility:"hidden"},EA=1e3;let yz=0;function Wg(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function tD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Lx(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ct,!(a||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&tD(i)}function nD({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=e==null?void 0:e()){this.id=yz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tz),this.nodes.forEach(Az),this.nodes.forEach(Rz),this.nodes.forEach(Ez)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new rz)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new A_),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nz(u),this.instance=u;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||h)&&(this.isLayoutDirty=!0),n){let _;const T=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=sz(T,250),Kh.hasAnimatedSinceResize&&(Kh.hasAnimatedSinceResize=!1,this.nodes.forEach(wA))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:T,hasRelativeLayoutChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||Oz,{onLayoutAnimationStart:I,onLayoutAnimationComplete:L}=g.getProps(),$=!this.targetLayout||!eD(this.targetLayout,R),z=!T&&S;if(this.options.layoutRoot||this.resumeFrom||z||T&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,z);const ie={...L_(P,"layout"),onPlay:I,onComplete:L};(g.shouldReduceMotion||this.options.layoutRoot)&&(ie.delay=0,ie.type=!1),this.startAnimation(ie)}else T||wA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Cz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bA);return}this.isUpdating||this.nodes.forEach(wz),this.isUpdating=!1,this.nodes.forEach(Sz),this.nodes.forEach(vz),this.nodes.forEach(_z),this.clearAllSnapshots();const f=wn.now();Qt.delta=kr(0,1e3/60,f-Qt.timestamp),Qt.timestamp=f,Qt.isProcessing=!0,Fg.update.process(Qt),Fg.preRender.process(Qt),Fg.render.process(Qt),Qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,B_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bz),this.sharedNodes.forEach(Iz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Jx(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(f||Aa(this.latestValues)||g)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),Pz(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return wt();const f=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(Nz))){const{scroll:g}=this.root;g&&(Yo(f.x,g.offset.x),Yo(f.y,g.offset.y))}return f}removeElementScroll(u){var h;const f=wt();if(ei(f,u),(h=this.scroll)!=null&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:T}=g;g!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&ei(f,u),Yo(f.x,_.offset.x),Yo(f.y,_.offset.y))}return f}applyTransform(u,f=!1){const h=wt();ei(h,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Qo(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Aa(g.latestValues)&&Qo(h,g.latestValues)}return Aa(this.latestValues)&&Qo(h,this.latestValues),h}removeTransform(u){const f=wt();ei(f,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Aa(p.latestValues))continue;Xy(p.latestValues)&&p.updateSnapshot();const g=wt(),_=p.measurePageBox();ei(g,_),mA(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Aa(this.latestValues)&&mA(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=Qt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),sc(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ei(this.target,this.layout.layoutBox),$x(this.target,this.targetDelta)):ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),sc(this.relativeTargetOrigin,this.target,S.target),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xy(this.parent.latestValues)||qx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var R;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Qt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;ei(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;Vj(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=wt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hA(this.prevProjectionDelta.x,this.projectionDelta.x),hA(this.prevProjectionDelta.y,this.projectionDelta.y)),rc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!TA(this.projectionDelta.x,this.prevProjectionDelta.x)||!TA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ko(),this.projectionDelta=Ko(),this.projectionDeltaWithTransform=Ko()}setAnimationOrigin(u,f=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},_=Ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=wt(),S=h?h.source:void 0,R=this.layout?this.layout.source:void 0,P=S!==R,I=this.getStack(),L=!I||I.members.length<=1,$=!!(P&&!L&&this.options.crossfade===!0&&!this.path.some(Dz));this.animationProgress=0;let z;this.mixTargetDelta=ie=>{const F=ie/1e3;SA(_.x,u.x,F),SA(_.y,u.y,F),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xz(this.relativeTarget,this.relativeTargetOrigin,T,F),z&&dz(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=wt()),ei(z,this.relativeTarget)),P&&(this.animationValues=g,oz(g,p,this.latestValues,F,$,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Lr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{Kh.hasAnimatedSinceResize=!0,this.currentAnimation=tz(0,EA,{...u,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:p,latestValues:g}=u;if(!(!f||!h||!p)){if(this!==u&&this.layout&&p&&iD(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||wt();const _=mn(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+_;const T=mn(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+T}ei(f,h),Qo(f,g),rc(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new pz),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const p={};h.z&&Wg("z",u,p,this.animationValues);for(let g=0;g<Xg.length;g++)Wg(`rotate${Xg[g]}`,u,p,this.animationValues),Wg(`skew${Xg[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return gz;const f={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Gh(u==null?void 0:u.pointerEvents)||"",f.transform=h?h(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Gh(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=mz(this.projectionDeltaWithTransform,this.treeScale,g),h&&(f.transform=h(g,f.transform));const{x:_,y:T}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,p.animationValues?f.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:f.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Sc){if(g[S]===void 0)continue;const{correct:R,applyTo:P,isCSSVariable:I}=Sc[S],L=f.transform==="none"?g[S]:R(g[S],p);if(P){const $=P.length;for(let z=0;z<$;z++)f[P[z]]=L}else I?this.options.visualElement.renderState.vars[S]=L:f[S]=L}return this.options.layoutId&&(f.pointerEvents=p===this?Gh(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(bA),this.root.sharedNodes.clear()}}}function vz(n){n.updateLayout()}function _z(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=n.layout,{animationType:o}=n.options,u=e.source!==n.layout.source;o==="size"?ti(_=>{const T=u?e.measuredBox[_]:e.layoutBox[_],S=mn(T);T.min=i[_].min,T.max=T.min+S}):iD(o,e.layoutBox,i)&&ti(_=>{const T=u?e.measuredBox[_]:e.layoutBox[_],S=mn(i[_]);T.max=T.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+S)});const f=Ko();rc(f,i,e.layoutBox);const h=Ko();u?rc(h,n.applyTransform(a,!0),e.measuredBox):rc(h,i,e.layoutBox);const p=!Jx(f);let g=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:S}=_;if(T&&S){const R=wt();sc(R,e.layoutBox,T.layoutBox);const P=wt();sc(P,i,S.layoutBox),eD(R,P)||(g=!0),_.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=R,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function Tz(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Ez(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function bz(n){n.clearSnapshot()}function bA(n){n.clearMeasurements()}function wz(n){n.isLayoutDirty=!1}function Sz(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function wA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Az(n){n.resolveTargetDelta()}function Rz(n){n.calcProjection()}function Cz(n){n.resetSkewAndRotation()}function Iz(n){n.removeLeadSnapshot()}function SA(n,e,t){n.translate=dt(e.translate,0,t),n.scale=dt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function AA(n,e,t,i){n.min=dt(e.min,t.min,i),n.max=dt(e.max,t.max,i)}function xz(n,e,t,i){AA(n.x,e.x,t.x,i),AA(n.y,e.y,t.y,i)}function Dz(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Oz={duration:.45,ease:[.4,0,.1,1]},RA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),CA=RA("applewebkit/")&&!RA("chrome/")?Math.round:ri;function IA(n){n.min=CA(n.min),n.max=CA(n.max)}function Pz(n){IA(n.x),IA(n.y)}function iD(n,e,t){return n==="position"||n==="preserve-aspect"&&!Mj(_A(e),_A(t),.2)}function Nz(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Mz=nD({attachResizeListener:(n,e)=>Rc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zg={current:void 0},rD=nD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Zg.current){const n=new Mz({});n.mount(window),n.setOptions({layoutScroll:!0}),Zg.current=n}return Zg.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),kz={pan:{Feature:Wj},drag:{Feature:Xj,ProjectionNode:rD,MeasureLayout:Xx}};function xA(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=i[a];o&&ct.postRender(()=>o(e,Kc(e)))}class Vz extends Bs{mount(){const{current:e}=this.node;e&&(this.unmount=fB(e,(t,i)=>(xA(this.node,i,"Start"),a=>xA(this.node,a,"End"))))}unmount(){}}class Lz extends Bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qc(Rc(this.node.current,"focus",()=>this.onFocus()),Rc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DA(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=i[a];o&&ct.postRender(()=>o(e,Kc(e)))}class Uz extends Bs{mount(){const{current:e}=this.node;e&&(this.unmount=mB(e,(t,i)=>(DA(this.node,i,"Start"),(a,{success:o})=>DA(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jy=new WeakMap,Jg=new WeakMap,Bz=n=>{const e=Jy.get(n.target);e&&e(n)},jz=n=>{n.forEach(Bz)};function zz({root:n,...e}){const t=n||document;Jg.has(t)||Jg.set(t,{});const i=Jg.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(jz,{root:n,...e})),i[a]}function Fz(n,e,t){const i=zz(e);return Jy.set(n,t),i.observe(n),()=>{Jy.delete(n),i.unobserve(n)}}const Hz={some:0,all:1};class qz extends Bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:o}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Hz[a]},f=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),T=p?g:_;T&&T(h)};return Fz(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some($z(e,t))&&this.startObserver()}unmount(){}}function $z({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Gz={inView:{Feature:qz},tap:{Feature:Uz},focus:{Feature:Lz},hover:{Feature:Vz}},Kz={layout:{ProjectionNode:rD,MeasureLayout:Xx}},ev={current:null},sD={current:!1};function Yz(){if(sD.current=!0,!!v_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ev.current=n.matches;n.addListener(e),e()}else ev.current=!1}const Qz=new WeakMap;function Xz(n,e,t){for(const i in e){const a=e[i],o=t[i];if(ln(a))n.addValue(i,a);else if(ln(o))n.addValue(i,ul(a,{owner:n}));else if(o!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,ul(u!==void 0?u:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const OA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wz{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=V_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=wn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ct.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!o,this.isControllingVariants=lp(t),this.isVariantNode=Rx(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in _){const S=_[T];h[T]!==void 0&&ln(S)&&S.set(h[T],!1)}}mount(e){this.current=e,Qz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),sD.current||Yz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ev.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Lr(this.notifyUpdate),Lr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Sl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&ct.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cl){const t=cl[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<OA.length;i++){const a=OA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Xz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=ul(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(kI(i)||VI(i))?i=parseFloat(i):!TB(i)&&Os.test(t)&&(i=_x(e,t)),this.setBaseTarget(e,ln(i)?i.get():i)),ln(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const u=K_(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);u&&(i=u[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ln(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new A_),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class aD extends Wz{constructor(){super(...arguments),this.KeyframeResolver=lB}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function oD(n,{style:e,vars:t},i,a){Object.assign(n.style,e,a&&a.getProjectionStyles(i));for(const o in t)n.style.setProperty(o,t[o])}function Zz(n){return window.getComputedStyle(n)}class Jz extends aD{constructor(){super(...arguments),this.type="html",this.renderInstance=oD}readValueFromInstance(e,t){if(Sl.has(t))return C5(e,t);{const i=Zz(e),a=(I_(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Gx(e,t)}build(e,t,i){q_(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Y_(e,t,i)}}const lD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eF(n,e,t,i){oD(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(lD.has(a)?a:H_(a),e.attrs[a])}class tF extends aD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Sl.has(t)){const i=vx(t);return i&&i.default||0}return t=lD.has(t)?t:H_(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return Vx(e,t,i)}build(e,t,i){Px(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,a){eF(e,t,i,a)}mount(e){this.isSVGTag=Mx(e.tagName),super.mount(e)}}const nF=(n,e)=>G_(n)?new tF(e):new Jz(e,{allowProjection:n!==B.Fragment}),iF=ej({...Rj,...Gz,...kz,...Kz},nF),rF=AB(iF);function uD(n){const e=y_(()=>ul(n)),{isStatic:t}=B.useContext(T_);if(t){const[,i]=B.useState(n);B.useEffect(()=>e.on("change",i),[])}return e}function cD(n,e){const t=uD(e()),i=()=>t.set(e());return i(),MI(()=>{const a=()=>ct.preRender(i,!1,!0),o=n.map(u=>u.on("change",a));return()=>{o.forEach(u=>u()),Lr(i)}}),t}function sF(n){nc.current=[],n();const e=cD(nc.current,n);return nc.current=void 0,e}function ey(n,e,t,i){if(typeof n=="function")return sF(n);const a=typeof e=="function"?e:gB(e,t,i);return Array.isArray(n)?PA(n,a):PA([n],([o])=>a(o))}function PA(n,e){const t=y_(()=>[]);return cD(n,()=>{t.length=0;const i=n.length;for(let a=0;a<i;a++)t[a]=n[a].get();return e(t)})}var fD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NA=N.createContext&&N.createContext(fD),aF=["attr","size","title"];function oF(n,e){if(n==null)return{};var t=lF(n,e),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)i=o[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function lF(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function wd(){return wd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wd.apply(this,arguments)}function MA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Sd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MA(Object(t),!0).forEach(function(i){uF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uF(n,e,t){return e=cF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cF(n){var e=fF(n,"string");return typeof e=="symbol"?e:e+""}function fF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hD(n){return n&&n.map((e,t)=>N.createElement(e.tag,Sd({key:t},e.attr),hD(e.child)))}function dD(n){return e=>N.createElement(hF,wd({attr:Sd({},n.attr)},e),hD(n.child))}function hF(n){var e=t=>{var{attr:i,size:a,title:o}=n,u=oF(n,aF),f=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),N.createElement("svg",wd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:h,style:Sd(Sd({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),o&&N.createElement("title",null,o),n.children)};return NA!==void 0?N.createElement(NA.Consumer,null,t=>e(t)):e(fD)}function Cc(n){return dD({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function pD(n){return dD({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}const dF=()=>N.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:20}},N.createElement("div",{className:"spinner"}),N.createElement("style",null,`
        .spinner {
          width: 36px;
          height: 36px;
          border: 4px solid #ccc;
          border-top: 4px solid #04AA6D;
          border-radius: 50%;
          animation: spin 0.9s linear infinite;
        }
        @keyframes spin {
          0%   { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `)),pF=({maidId:n})=>{const[e,t]=B.useState([]),[i,a]=B.useState(0),[o,u]=B.useState({5:0,4:0,3:0,2:0,1:0}),[f,h]=B.useState(!0);B.useEffect(()=>{n&&p()},[n]);const p=async()=>{h(!0);const g=s_(Zu(Zt,"reviews"),a_("maidId","==",n)),T=(await l_(g)).docs.map(L=>L.data()),S=T.length,R=T.reduce((L,$)=>L+($.rating||0),0),P=S>0?(R/S).toFixed(2):0,I={5:0,4:0,3:0,2:0,1:0};T.forEach(L=>{const $=L.rating||0;I[$]&&I[$]++}),t(T),a(P),u(I),h(!1)};return N.createElement("div",{style:ko.container},N.createElement("h3",{style:ko.title},"Rating Analytics"),f?N.createElement(dF,null):N.createElement(N.Fragment,null,N.createElement("div",{style:ko.average},N.createElement("strong",null,"Average Rating:")," ",N.createElement("span",{style:{fontSize:"1.4rem",color:"#ff9900"}},i)," ","/ 5"),N.createElement("div",{style:ko.barContainer},[5,4,3,2,1].map(g=>N.createElement("div",{key:g,style:ko.barRow},N.createElement("span",null,N.createElement(Cc,{color:"#ffb400"})," ",g,""),N.createElement("progress",{max:e.length,value:o[g],style:ko.progress}),N.createElement("span",null,o[g])))),N.createElement("p",null,"Total Reviews: ",e.length)))},ko={container:{backgroundColor:"#f9f9f9",padding:20,borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginTop:24,maxWidth:500},title:{fontSize:"1.4rem",marginBottom:12,fontWeight:"bold"},average:{marginBottom:20},barContainer:{display:"flex",flexDirection:"column",gap:8,marginBottom:12},barRow:{display:"flex",alignItems:"center",gap:8},progress:{flex:1,height:12,borderRadius:6}};var ty={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function mF(){if(kA)return Me;kA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=_&&w[_]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function I(w,q,ne){this.props=w,this.context=q,this.refs=P,this.updater=ne||S}I.prototype.isReactComponent={},I.prototype.setState=function(w,q){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,q,"setState")},I.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function L(){}L.prototype=I.prototype;function $(w,q,ne){this.props=w,this.context=q,this.refs=P,this.updater=ne||S}var z=$.prototype=new L;z.constructor=$,R(z,I.prototype),z.isPureReactComponent=!0;var ie=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function M(w,q,ne,te,ce,ye){return ne=ye.ref,{$$typeof:n,type:w,key:q,ref:ne!==void 0?ne:null,props:ye}}function A(w,q){return M(w.type,q,void 0,void 0,void 0,w.props)}function D(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function k(w){var q={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ne){return q[ne]})}var V=/\/+/g;function j(w,q){return typeof w=="object"&&w!==null&&w.key!=null?k(""+w.key):q.toString(36)}function O(){}function ve(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(O,O):(w.status="pending",w.then(function(q){w.status==="pending"&&(w.status="fulfilled",w.value=q)},function(q){w.status==="pending"&&(w.status="rejected",w.reason=q)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Te(w,q,ne,te,ce){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var he=!1;if(w===null)he=!0;else switch(ye){case"bigint":case"string":case"number":he=!0;break;case"object":switch(w.$$typeof){case n:case e:he=!0;break;case g:return he=w._init,Te(he(w._payload),q,ne,te,ce)}}if(he)return ce=ce(w),he=te===""?"."+j(w,0):te,ie(ce)?(ne="",he!=null&&(ne=he.replace(V,"$&/")+"/"),Te(ce,q,ne,"",function(jn){return jn})):ce!=null&&(D(ce)&&(ce=A(ce,ne+(ce.key==null||w&&w.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+he)),q.push(ce)),1;he=0;var rt=te===""?".":te+":";if(ie(w))for(var xe=0;xe<w.length;xe++)te=w[xe],ye=rt+j(te,xe),he+=Te(te,q,ne,ye,ce);else if(xe=T(w),typeof xe=="function")for(w=xe.call(w),xe=0;!(te=w.next()).done;)te=te.value,ye=rt+j(te,xe++),he+=Te(te,q,ne,ye,ce);else if(ye==="object"){if(typeof w.then=="function")return Te(ve(w),q,ne,te,ce);throw q=String(w),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return he}function W(w,q,ne){if(w==null)return w;var te=[],ce=0;return Te(w,te,"","",function(ye){return q.call(ne,ye,ce++)}),te}function se(w){if(w._status===-1){var q=w._result;q=q(),q.then(function(ne){(w._status===0||w._status===-1)&&(w._status=1,w._result=ne)},function(ne){(w._status===0||w._status===-1)&&(w._status=2,w._result=ne)}),w._status===-1&&(w._status=0,w._result=q)}if(w._status===1)return w._result.default;throw w._result}var de=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function be(){}return Me.Children={map:W,forEach:function(w,q,ne){W(w,function(){q.apply(this,arguments)},ne)},count:function(w){var q=0;return W(w,function(){q++}),q},toArray:function(w){return W(w,function(q){return q})||[]},only:function(w){if(!D(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Me.Component=I,Me.Fragment=t,Me.Profiler=a,Me.PureComponent=$,Me.StrictMode=i,Me.Suspense=h,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Me.__COMPILER_RUNTIME={__proto__:null,c:function(w){return F.H.useMemoCache(w)}},Me.cache=function(w){return function(){return w.apply(null,arguments)}},Me.cloneElement=function(w,q,ne){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var te=R({},w.props),ce=w.key,ye=void 0;if(q!=null)for(he in q.ref!==void 0&&(ye=void 0),q.key!==void 0&&(ce=""+q.key),q)!J.call(q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&q.ref===void 0||(te[he]=q[he]);var he=arguments.length-2;if(he===1)te.children=ne;else if(1<he){for(var rt=Array(he),xe=0;xe<he;xe++)rt[xe]=arguments[xe+2];te.children=rt}return M(w.type,ce,void 0,void 0,ye,te)},Me.createContext=function(w){return w={$$typeof:u,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},Me.createElement=function(w,q,ne){var te,ce={},ye=null;if(q!=null)for(te in q.key!==void 0&&(ye=""+q.key),q)J.call(q,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ce[te]=q[te]);var he=arguments.length-2;if(he===1)ce.children=ne;else if(1<he){for(var rt=Array(he),xe=0;xe<he;xe++)rt[xe]=arguments[xe+2];ce.children=rt}if(w&&w.defaultProps)for(te in he=w.defaultProps,he)ce[te]===void 0&&(ce[te]=he[te]);return M(w,ye,void 0,void 0,null,ce)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(w){return{$$typeof:f,render:w}},Me.isValidElement=D,Me.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:se}},Me.memo=function(w,q){return{$$typeof:p,type:w,compare:q===void 0?null:q}},Me.startTransition=function(w){var q=F.T,ne={};F.T=ne;try{var te=w(),ce=F.S;ce!==null&&ce(ne,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(be,de)}catch(ye){de(ye)}finally{F.T=q}},Me.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Me.use=function(w){return F.H.use(w)},Me.useActionState=function(w,q,ne){return F.H.useActionState(w,q,ne)},Me.useCallback=function(w,q){return F.H.useCallback(w,q)},Me.useContext=function(w){return F.H.useContext(w)},Me.useDebugValue=function(){},Me.useDeferredValue=function(w,q){return F.H.useDeferredValue(w,q)},Me.useEffect=function(w,q,ne){var te=F.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(w,q)},Me.useId=function(){return F.H.useId()},Me.useImperativeHandle=function(w,q,ne){return F.H.useImperativeHandle(w,q,ne)},Me.useInsertionEffect=function(w,q){return F.H.useInsertionEffect(w,q)},Me.useLayoutEffect=function(w,q){return F.H.useLayoutEffect(w,q)},Me.useMemo=function(w,q){return F.H.useMemo(w,q)},Me.useOptimistic=function(w,q){return F.H.useOptimistic(w,q)},Me.useReducer=function(w,q,ne){return F.H.useReducer(w,q,ne)},Me.useRef=function(w){return F.H.useRef(w)},Me.useState=function(w){return F.H.useState(w)},Me.useSyncExternalStore=function(w,q,ne){return F.H.useSyncExternalStore(w,q,ne)},Me.useTransition=function(){return F.H.useTransition()},Me.version="19.1.0",Me}var VA;function gF(){return VA||(VA=1,ty.exports=mF()),ty.exports}var yF=gF();function vF(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}vF(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var X_=n=>typeof n=="number"&&!isNaN(n),Ic=n=>typeof n=="string",mD=n=>typeof n=="function",_F=n=>Ic(n)||X_(n),TF=n=>yF.isValidElement(n)||Ic(n)||mD(n)||X_(n),EF=1,gD=()=>`${EF++}`,Gi=new Map,tv=[],LA=new Set,yD=()=>Gi.size>0,bF=(n,{containerId:e})=>{var t;return(t=Gi.get(e||1))==null?void 0:t.toasts.get(n)};function wF(n,e){var t;if(e)return!!((t=Gi.get(e))!=null&&t.isToastActive(n));let i=!1;return Gi.forEach(a=>{a.isToastActive(n)&&(i=!0)}),i}function SF(n){if(!yD()){tv=tv.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||_F(n))Gi.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Gi.get(n.containerId);e?e.removeToast(n.id):Gi.forEach(t=>{t.removeToast(n.id)})}}var AF=(n={})=>{Gi.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function RF(n,e){TF(n)&&(yD()||tv.push({content:n,options:e}),Gi.forEach(t=>{t.buildToast(n,e)}))}function vD(n,e){Gi.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function CF(n){return LA.add(n),()=>{LA.delete(n)}}function IF(n){return n&&(Ic(n.toastId)||X_(n.toastId))?n.toastId:gD()}function Yc(n,e){return RF(n,e),e.toastId}function up(n,e){return{...e,type:e&&e.type||n,toastId:IF(e)}}function cp(n){return(e,t)=>Yc(e,up(n,t))}function Je(n,e){return Yc(n,up("default",e))}Je.loading=(n,e)=>Yc(n,up("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function xF(n,{pending:e,error:t,success:i},a){let o;e&&(o=Ic(e)?Je.loading(e,a):Je.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(p,g,_)=>{if(g==null){Je.dismiss(o);return}let T={type:p,...u,...a,data:_},S=Ic(g)?{render:g}:g;return o?Je.update(o,{...T,...S}):Je(S.render,{...T,...S}),_},h=mD(n)?n():n;return h.then(p=>f("success",i,p)).catch(p=>f("error",t,p)),h}Je.promise=xF;Je.success=cp("success");Je.info=cp("info");Je.error=cp("error");Je.warning=cp("warning");Je.warn=Je.warning;Je.dark=(n,e)=>Yc(n,up("default",{theme:"dark",...e}));function DF(n){SF(n)}Je.dismiss=DF;Je.clearWaitingQueue=AF;Je.isActive=wF;Je.update=(n,e={})=>{let t=bF(n,e);if(t){let{props:i,content:a}=t,o={delay:100,...i,...e,toastId:e.toastId||n,updateId:gD()};o.toastId!==n&&(o.staleId=n);let u=o.render||a;delete o.render,Yc(u,o)}};Je.done=n=>{Je.update(n,{progress:1})};Je.onChange=CF;Je.play=n=>vD(!0,n);Je.pause=n=>vD(!1,n);const OF=()=>N.createElement("div",{style:UA.overlay},N.createElement("div",{style:UA.spinner})),UA={overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4},spinner:{width:48,height:48,border:"6px solid #ccc",borderTop:"6px solid #04AA6D",borderRadius:"50%",animation:"spin 0.8s linear infinite"}},_D=document.createElement("style");_D.innerHTML=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`;document.head.appendChild(_D);function PF(){const n=gl(),e=dl(),[t,i]=B.useState(null),[a,o]=B.useState(!1),[u,f]=B.useState(!1),[h,p]=B.useState(""),[g,_]=B.useState(20),[T,S]=B.useState(50),[R,P]=B.useState(""),[I,L]=B.useState(!1),[$,z]=B.useState({pets:!1,kitchen:!1,outdoors:!1,bathroom:!1}),ie=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[F,J]=B.useState({Mon:{active:!1,start:"08:00",end:"16:00"},Tue:{active:!1,start:"08:00",end:"16:00"},Wed:{active:!1,start:"08:00",end:"16:00"},Thu:{active:!1,start:"08:00",end:"16:00"},Fri:{active:!1,start:"08:00",end:"16:00"},Sat:{active:!1,start:"08:00",end:"16:00"},Sun:{active:!1,start:"08:00",end:"16:00"}});B.useEffect(()=>{const O=n.onAuthStateChanged(async ve=>{if(i(ve),ve)try{const Te=await B6(E9,{vapidKey:"BOQSMeBPVm8y6nubk3l76nYInIX162YY5jCto9PHALX6vygSIPHLP8riMvbm0jj9eGXnajA4dN-DIvmTfgmbCWc"});await md(Ln(Zt,"profiles",ve.uid),{fcmToken:Te},{merge:!0})}catch(Te){console.error(" Error getting FCM token:",Te)}});return()=>O()},[]),B.useEffect(()=>{a&&t&&(async()=>{if(t){f(!0);try{const ve=Ln(Zt,"profiles",t.uid),Te=await pd(ve);if(Te.exists()){const W=Te.data();p(W.name||""),_(W.pay||20),S(W.range||50),z(W.specs||$),J(W.schedule||F),P(W.languages||"")}}catch(ve){Je.error("Failed to load profile."),console.error(ve)}finally{f(!1)}}})()},[a,t]);const M=async()=>{if(!t){Je.error("You're not logged in!");return}try{await md(Ln(Zt,"profiles",t.uid),{name:h,pay:g,range:T,specs:$,schedule:F,languages:R},{merge:!0}),Je.success(" Profile saved!")}catch(O){console.error("Error saving profile:",O),Je.error(" Failed to save profile.")}},A=async()=>{if(!t)return Je.info("User not logged in");try{const O=await pd(Ln(Zt,"profiles",t.uid));O.exists()?console.log(" Profile data:",O.data()):console.log(" No profile found.")}catch(O){console.error("Error checking profile:",O)}},D=async()=>{try{await qk(n),e("/")}catch(O){console.error("Logout error:",O),Je.error("Failed to log out.")}},k=O=>{z(ve=>({...ve,[O]:!ve[O]}))},V=O=>{J(ve=>({...ve,[O]:{...ve[O],active:!ve[O].active}}))},j=(O,ve,Te)=>{J(W=>({...W,[O]:{...W[O],[ve]:Te}}))};return N.createElement(N.Fragment,null,N.createElement(pD,{onClick:()=>o(!a),size:32,style:{cursor:"pointer",position:"fixed",top:"1rem",left:"1rem",zIndex:1100,color:a?"#04AA6D":"#ccc"},title:a?"Close Profile":"Open Profile"}),u&&N.createElement(OF,null),N.createElement("div",{className:`profile-panel ${a?"open":""}`},N.createElement("h2",null,"Your Maid Profile"),N.createElement("p",null,N.createElement("strong",null,"Name:")),N.createElement("input",{type:"text",value:h,onChange:O=>p(O.target.value)}),N.createElement("p",null,N.createElement("strong",null,"Hourly Pay ($):")),N.createElement("input",{type:"number",value:g,onChange:O=>_(Number(O.target.value))}),N.createElement("p",null,N.createElement("strong",null,"Work Range (mi):")),N.createElement("div",{className:"slidecontainer"},N.createElement("input",{type:"range",min:"1",max:"100",value:T,className:"slider",onChange:O=>S(Number(O.target.value))}),N.createElement("p",null,T," mi")),N.createElement("p",null,N.createElement("strong",null,"Weekly Availability:")),ie.map(O=>N.createElement("div",{key:O,style:{marginBottom:"1rem"}},N.createElement("button",{className:`spec-pill ${F[O].active?"active":""}`,onClick:()=>V(O)},O),F[O].active&&N.createElement(N.Fragment,null,N.createElement("label",{style:{marginLeft:"0.5rem"}},"Start:",N.createElement("input",{type:"time",value:F[O].start,onChange:ve=>j(O,"start",ve.target.value)})),N.createElement("label",{style:{marginLeft:"1rem"}},"End:",N.createElement("input",{type:"time",value:F[O].end,onChange:ve=>j(O,"end",ve.target.value)}))))),N.createElement("p",null,N.createElement("strong",null,"Work Specifications:")),Object.keys($).map(O=>N.createElement("button",{key:O,className:`spec-pill ${$[O]?"active":""}`,onClick:()=>k(O)},O.charAt(0).toUpperCase()+O.slice(1))),N.createElement("p",null,N.createElement("strong",null,"Languages Spoken (optional):")),N.createElement("input",{type:"text",placeholder:"e.g. English, Spanish, Tagalog",value:R,onChange:O=>P(O.target.value)}),N.createElement("br",null),N.createElement("br",null),N.createElement("button",{onClick:M},"Save Profile"),N.createElement("button",{style:{marginLeft:"1rem"},onClick:A}," Check Profile in Console"),N.createElement("br",null),N.createElement("br",null),N.createElement("button",{onClick:()=>L(!I),style:{backgroundColor:I?"#aaa":"#04AA6D",color:"white",padding:"0.5rem 1rem",borderRadius:"0.25rem",marginBottom:"1rem",cursor:"pointer"}},I?"Hide Rating Analytics":"Show Rating Analytics"),I&&t&&N.createElement(pF,{maidId:t.uid}),N.createElement("br",null),N.createElement("br",null),N.createElement("button",{onClick:D,style:{backgroundColor:"#dc2626",color:"white",padding:"0.5rem 1rem",borderRadius:"0.25rem"}},"Log Out")))}const NF=[{id:1,url:"https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=2370&auto=format&fit=crop"},{id:2,url:"https://images.unsplash.com/photo-1512374382149-233c42b6a83b?q=80&w=2235&auto=format&fit=crop"},{id:3,url:"https://images.unsplash.com/photo-1539185441755-769473a23570?q=80&w=2342&auto=format&fit=crop"}];function MF({id:n,url:e,setCards:t,cards:i}){const a=uD(0),o=ey(a,[-150,150],[-18,18]),u=ey(a,[-150,0,150],[0,1,0]),f=n===i[i.length-1].id,h=f?0:n%2?6:-6,p=ey(o,_=>`${_+h}deg`),g=()=>{Math.abs(a.get())>100&&t(_=>_.filter(T=>T.id!==n))};return N.createElement(rF.img,{src:e,alt:"maid card",className:"card",style:{x:a,rotate:p,opacity:u,boxShadow:f?"0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.5)":void 0},animate:{scale:f?1:.98},drag:f?"x":!1,dragConstraints:{left:0,right:0},onDragEnd:g})}function BA(){const[n,e]=B.useState(NF),[t,i]=B.useState(!1);return N.createElement("div",{className:"tinderCards__cardContainer"},N.createElement(pD,{onClick:()=>i(!t),size:32,style:{cursor:"pointer",position:"fixed",top:"1rem",left:"1rem",zIndex:1100,color:t?"#04AA6D":"#ccc"},title:t?"Close Profile":"Open Profile"}),N.createElement(PF,{open:t}),n.map(a=>N.createElement(MF,{key:a.id,...a,setCards:e,cards:n})))}const kF=()=>{var z,ie;const n=Ps(),t=gl().currentUser,i=(z=n.state)==null?void 0:z.maidId,a=((ie=n.state)==null?void 0:ie.maidName)||"this maid",o=(t==null?void 0:t.uid)||"user456",u=(t==null?void 0:t.displayName)||"Test User",[f,h]=B.useState([]),[p,g]=B.useState({rating:0,text:""}),[_,T]=B.useState(null),[S,R]=B.useState(null);B.useEffect(()=>{P()},[i]);const P=async()=>{try{const F=s_(Zu(Zt,"reviews"),a_("maidId","==",i)),M=(await l_(F)).docs.map(A=>({id:A.id,...A.data(),replyDraft:A.data().reply||""}));h(M)}catch(F){console.error("Failed to fetch reviews:",F.message)}},I=async()=>{try{await tS(Zu(Zt,"reviews"),{userId:o,name:u,rating:p.rating,text:p.text,maidId:i,timestamp:iI()}),alert(" Review submitted!");const F=Ln(Zt,"profiles",i),J=await pd(F);if(J.exists()){const A=J.data().fcmToken;A?(await fetch("https://us-central1-maid-match-7e3c8.cloudfunctions.net/sendNotification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:A,title:"New Review Received!",body:`${u} left you a review!`,icon:"https://maid-match-7e3c8.web.app/maid-icon.png",badge:1,vibrate:[100,200,300],click_action:"https://maid-match-7e3c8.web.app/tinder-shuffle/review"})}),console.log(" Notification sent to Maid!")):console.warn(" Maid does not have an FCM token.")}g({rating:0,text:""}),R(null),P()}catch(F){console.error("Error submitting review:",F),alert("Failed to submit review.")}},L=F=>{g({rating:F.rating,text:F.text}),R(F.id)},$=async F=>{const J=prompt("Why are you reporting this review?");if(J)try{await tS(Zu(Zt,"reports"),{reviewId:F,maidId:i,reportedBy:o,reason:J,timestamp:new Date().toISOString()}),alert("Report submitted. Thank you.")}catch(M){console.error("Report failed:",M.message)}};return N.createElement("div",{style:di.container},N.createElement("h2",{style:di.heading},"Leave a review for ",a),f.map(F=>{const J=F.maidId===(t==null?void 0:t.uid),M=F.userId===o;return N.createElement("div",{key:F.id,style:di.reviewCard},N.createElement("div",{style:di.starRow},[...Array(5)].map((A,D)=>N.createElement(Cc,{key:D,size:20,color:D<F.rating?"#ff6363":"#ddd"}))),N.createElement("p",null,F.text),F.reply&&N.createElement("div",{style:{marginTop:"0.5rem",fontStyle:"italic",color:"#00bfa5"}},N.createElement("strong",null,"Reply from Maid:")," ",F.reply),J&&N.createElement("div",{style:{marginTop:"0.5rem"}},N.createElement("input",{type:"text",placeholder:"Reply to this review...",value:F.replyDraft,onChange:A=>{const D=f.map(k=>k.id===F.id?{...k,replyDraft:A.target.value}:k);h(D)},style:{padding:"0.4rem",width:"80%"}}),N.createElement("button",{onClick:async()=>{const A=f.find(D=>D.id===F.id).replyDraft;await tI(Ln(Zt,"reviews",F.id),{reply:A}),P(),setTimeout(()=>{alert(" Reply saved successfully!")},300)},style:{marginLeft:"0.5rem",padding:"0.4rem 1rem",backgroundColor:"#04AA6D",color:"white",border:"none",borderRadius:"5px"}},"Save")),M&&N.createElement("div",{style:di.actionRow},N.createElement("button",{style:di.edit,onClick:()=>L(F)},"Edit"),N.createElement("button",{style:di.report,onClick:()=>$(F.id)},"Report")))}),N.createElement("div",{style:di.formCard},N.createElement("h3",{style:{marginBottom:8,color:S?"#000":"#42f5e9"}},S?"Edit Your Review":"Add a Review"),N.createElement("div",{style:di.starRow},[...Array(5)].map((F,J)=>{const M=J+1;return N.createElement("label",{key:J},N.createElement("input",{type:"radio",style:{display:"none"},value:M,onClick:()=>g({...p,rating:M})}),N.createElement(Cc,{size:28,color:M<=(_||p.rating)?"#ff6363":"#ddd",onMouseEnter:()=>T(M),onMouseLeave:()=>T(null),style:{cursor:"pointer",transition:"0.2s"}}))})),N.createElement("textarea",{placeholder:"Say something about your experience...",style:di.textarea,value:p.text,onChange:F=>g({...p,text:F.target.value})}),N.createElement("button",{style:di.submitBtn,onClick:I},S?"Update Review":"Submit Review")))},di={container:{maxWidth:600,margin:"0 auto",padding:20,fontFamily:"'Helvetica Neue', sans-serif",backgroundColor:"#f9fbfd",minHeight:"100vh",position:"relative",zIndex:20},heading:{fontSize:"2rem",fontWeight:"bold",textAlign:"center",color:"#002B5B",marginBottom:24},reviewCard:{background:"black",padding:16,borderRadius:12,marginBottom:16,boxShadow:"0 4px 10px rgba(0,0,0,0.06)",borderLeft:"4px solid #007bff",color:"white"},formCard:{background:"#eaf6ff",padding:20,borderRadius:12,boxShadow:"0 4px 10px rgba(0,0,0,0.08)",marginTop:30},textarea:{width:"100%",minHeight:60,padding:8,borderRadius:6,border:"1px solid #ccc",marginTop:10},starRow:{display:"flex",gap:6,marginBottom:10},submitBtn:{background:"#007bff",color:"#fff",padding:"10px 16px",border:"none",borderRadius:6,cursor:"pointer",marginTop:10,fontWeight:"bold"},edit:{color:"#007bff",cursor:"pointer"},report:{color:"#e63946",cursor:"pointer",marginLeft:10},actionRow:{display:"flex",justifyContent:"flex-end",marginTop:6}},VF=()=>{const n=gl(),[e,t]=B.useState(null),[i,a]=B.useState([]),[o,u]=B.useState(!0),[f,h]=B.useState(null),[p,g]=B.useState({text:"",rating:0});B.useEffect(()=>{const P=Hk(n,I=>{t(I),I?_(I.uid):(a([]),u(!1))});return()=>P()},[]);const _=async P=>{try{const I=s_(Zu(Zt,"reviews"),a_("userId","==",P)),$=(await l_(I)).docs.map(z=>({id:z.id,...z.data()}));a($)}catch(I){console.error("Error fetching your reviews:",I.message)}finally{u(!1)}},T=P=>{h(P.id),g({text:P.text,rating:P.rating})},S=async()=>{try{await tI(Ln(Zt,"reviews",f),{text:p.text,rating:p.rating}),alert("Review updated!"),h(null),_(e.uid)}catch(P){alert("Failed to update review."),console.error(P.message)}},R=async P=>{if(window.confirm("Delete this review?"))try{await nI(Ln(Zt,"reviews",P)),alert("Review deleted!"),_(e.uid)}catch(I){alert("Failed to delete review."),console.error(I.message)}};return N.createElement("div",{style:pi.container},N.createElement("h2",{style:pi.heading},"My Reviews"),o?N.createElement("p",null,"Loading reviews..."):e?i.length===0?N.createElement("p",null,"You havent written any reviews yet."):i.map(P=>N.createElement("div",{key:P.id,style:pi.card},f===P.id?N.createElement(N.Fragment,null,N.createElement("textarea",{value:p.text,onChange:I=>g({...p,text:I.target.value}),style:pi.textarea}),N.createElement("div",{style:pi.starRow},[1,2,3,4,5].map(I=>N.createElement(Cc,{key:I,size:24,color:p.rating>=I?"#ffc107":"#ddd",onClick:()=>g({...p,rating:I}),style:{cursor:"pointer"}}))),N.createElement("button",{onClick:S,style:pi.saveBtn},"Save"),N.createElement("button",{onClick:()=>h(null),style:pi.cancelBtn},"Cancel")):N.createElement(N.Fragment,null,N.createElement("div",{style:pi.starRow},[1,2,3,4,5].map(I=>N.createElement(Cc,{key:I,size:20,color:P.rating>=I?"#ffc107":"#ddd"}))),N.createElement("p",null,P.text),N.createElement("div",{style:pi.actionRow},N.createElement("button",{onClick:()=>T(P),style:pi.editBtn},"Edit"),N.createElement("button",{onClick:()=>R(P.id),style:pi.deleteBtn},"Delete"))))):N.createElement("p",null,"Please sign in to view your reviews."))},pi={container:{maxWidth:600,margin:"0 auto",padding:20,fontFamily:"Arial, sans-serif"},heading:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:24,color:"#333"},card:{background:"#f9f9f9",borderRadius:10,padding:16,marginBottom:20,boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},textarea:{width:"100%",height:60,padding:8,fontSize:14,borderRadius:6,border:"1px solid #ccc"},starRow:{display:"flex",gap:4,marginBottom:8},actionRow:{marginTop:10,display:"flex",gap:10},saveBtn:{backgroundColor:"#4caf50",color:"white",border:"none",padding:"8px 16px",borderRadius:5,cursor:"pointer"},cancelBtn:{backgroundColor:"#aaa",color:"white",border:"none",padding:"8px 16px",borderRadius:5,cursor:"pointer"},editBtn:{backgroundColor:"#2196f3",color:"white",border:"none",padding:"6px 12px",borderRadius:5,cursor:"pointer"},deleteBtn:{backgroundColor:"#f44336",color:"white",border:"none",padding:"6px 12px",borderRadius:5,cursor:"pointer"}},LF=({open:n,maid:e})=>{const t=dl();return!n||!e?null:N.createElement("div",{style:Dh.overlay},N.createElement("div",{style:Dh.modal},N.createElement("h3",null,"Task Completed"),N.createElement("p",null,"Would you like to leave a review for ",N.createElement("strong",null,e.name),"?"),N.createElement("div",{style:Dh.actions},N.createElement("button",{onClick:()=>t("/review",{state:{maidId:e.uid,maidName:e.name}}),style:Dh.confirm}," Yes, Leave a Review"))))},Dh={overlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},modal:{backgroundColor:"#fff",padding:30,borderRadius:10,boxShadow:"0 4px 12px rgba(0,0,0,0.2)",textAlign:"center",width:"90%",maxWidth:420},actions:{marginTop:20},confirm:{backgroundColor:"#04AA6D",color:"white",padding:"10px 16px",border:"none",borderRadius:6,fontSize:16,cursor:"pointer"}},UF=()=>{const e=gl().currentUser,[t,i]=B.useState(!1),[a,o]=B.useState(null),u={uid:"maid123",name:"Prasiddha Maid"},f=async()=>{if(!e){alert("Not logged in");return}const h=`${e.uid}_${u.uid}`;try{await md(Ln(Zt,"completedTasks",h),{userId:e.uid,maidId:u.uid,status:"completed",timestamp:iI()}),o(u),i(!0)}catch(p){console.error(" Error completing booking:",p),alert("Something went wrong!")}};return N.createElement("div",{style:{padding:24}},N.createElement("h2",null,"My Bookings"),N.createElement("div",{style:BF},N.createElement("h3",null,u.name),N.createElement("p",null,"Booking ID: #001-A"),N.createElement("button",{onClick:f,style:jF}," Mark Completed")),N.createElement(LF,{open:t,maid:a}))},BF={border:"1px solid #ccc",padding:16,borderRadius:8,marginTop:12},jF={backgroundColor:"#04AA6D",color:"white",padding:"8px 16px",border:"none",borderRadius:5,marginTop:10,cursor:"pointer"};function zF({name:n,message:e,timestamp:t,profilePic:i}){return N.createElement("div",{className:"chat"},N.createElement("img",{src:i,alt:"profile",className:"chat__image"}),N.createElement("div",{className:"chat__details"},N.createElement("h2",{className:"chat__name"},n),N.createElement("p",{className:"chat__message"},e)),N.createElement("p",{className:"chat__timestamp"},t))}function FF(){const[n,e]=B.useState(null),[t,i]=B.useState(""),a=dl(),[o,u]=B.useState([{id:1,name:"Ana Malbsa",message:"See you later!",timestamp:"5 min ago",profilePic:"./test.jpg",conversation:["Hi Ana!","See you later!","Bye!"]},{id:2,name:"Paul Osmond",message:"Meeting at 5?",timestamp:"10 min ago",profilePic:"https://i.pravatar.cc/150?img=47",conversation:["Are we still meeting?","Yes, at 5 PM."]}]),f=()=>{!t.trim()||!n||(u(h=>h.map(p=>p.id===n.id?{...p,conversation:[...p.conversation,t]}:p)),e(h=>({...h,conversation:[...h.conversation,t]})),i(""))};return N.createElement("div",{className:"chatPage"},N.createElement("div",{className:"chatPage__sidebar"},N.createElement("h2",null,"Chats"),o.map(h=>N.createElement("div",{key:h.id,onClick:()=>e(h)},N.createElement(zF,{name:h.name,message:h.message,timestamp:h.timestamp,profilePic:h.profilePic})))),N.createElement("div",{className:"chatPage__chatWindow"},n?N.createElement(N.Fragment,null,N.createElement("div",{className:"chatPage__messages"},N.createElement("h2",null,"Chat with ",n.name),n.conversation.map((h,p)=>N.createElement("p",{key:p,className:"chatPage__message"},h))),N.createElement("div",{className:"chatPage__inputContainer"},N.createElement("input",{type:"text",value:t,onChange:h=>i(h.target.value),placeholder:"Type a message...",className:"chatPage__input"}),N.createElement("button",{onClick:f,className:"chatPage__sendButton"},"Send"),N.createElement("button",{onClick:()=>a("/home"),className:"mr-3"}))):N.createElement("h2",null,"Select a chat to start messaging")))}function HF(){const e=gl().currentUser,[t,i]=B.useState(""),[a,o]=B.useState(20),[u,f]=B.useState(50),[h,p]=B.useState(""),[g,_]=B.useState({pets:!1,kitchen:!1,outdoors:!1,bathroom:!1}),T=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[S,R]=B.useState({Mon:{active:!1,start:"08:00",end:"16:00"},Tue:{active:!1,start:"08:00",end:"16:00"},Wed:{active:!1,start:"08:00",end:"16:00"},Thu:{active:!1,start:"08:00",end:"16:00"},Fri:{active:!1,start:"08:00",end:"16:00"},Sat:{active:!1,start:"08:00",end:"16:00"},Sun:{active:!1,start:"08:00",end:"16:00"}}),[P,I]=B.useState([]),L=A=>_(D=>({...D,[A]:!D[A]})),$=A=>R(D=>({...D,[A]:{...D[A],active:!D[A].active}})),z=(A,D,k)=>R(V=>({...V,[A]:{...V[A],[D]:k}})),ie=async()=>{if(!(e!=null&&e.uid))return alert("User not signed in");await md(Ln(Zt,"profiles",e.uid),{name:t,pay:a,range:u,languages:h,specs:g,schedule:S,photos:P}),alert("Profile saved!")},F=async()=>{if(!e)return alert("No user signed in.");if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{await nI(Ln(Zt,"profiles",e.uid)),await $k(e),alert("Account deleted successfully."),window.location.href="/"}catch(A){console.error("Error deleting account:",A),alert(A.message||"Failed to delete account.")}},J=A=>{const k=Array.from(A.target.files).map(V=>new Promise(j=>{const O=new FileReader;O.onload=()=>j(O.result),O.readAsDataURL(V)}));Promise.all(k).then(V=>{I(j=>[...j,...V])})},M=A=>{I(D=>D.filter((k,V)=>V!==A))};return B.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid))return;const D=await pd(Ln(Zt,"profiles",e.uid));if(D.exists()){const k=D.data();i(k.name||""),o(k.pay||20),f(k.range||50),p(k.languages||""),_(k.specs||g),R(k.schedule||S),I(k.photos||[])}})()},[]),N.createElement("div",{className:"profile-page"},N.createElement("h1",null,"Your Maid Profile"),N.createElement("label",null,"Name:"),N.createElement("input",{type:"text",value:t,onChange:A=>i(A.target.value)}),N.createElement("label",null,"Hourly Pay ($):"),N.createElement("input",{type:"number",value:a,onChange:A=>o(Number(A.target.value))}),N.createElement("label",null,"Work Range (mi):"),N.createElement("input",{type:"range",min:"1",max:"100",value:u,onChange:A=>f(Number(A.target.value))}),N.createElement("p",null,u," mi"),N.createElement("label",null,"Weekly Availability:"),T.map(A=>N.createElement("div",{key:A,style:{marginBottom:"1rem"}},N.createElement("button",{className:`spec-pill ${S[A].active?"active":""}`,onClick:()=>$(A)},A),S[A].active&&N.createElement(N.Fragment,null,N.createElement("label",{style:{marginLeft:"0.5rem"}},"Start:",N.createElement("input",{type:"time",value:S[A].start,onChange:D=>z(A,"start",D.target.value)})),N.createElement("label",{style:{marginLeft:"1rem"}},"End:",N.createElement("input",{type:"time",value:S[A].end,onChange:D=>z(A,"end",D.target.value)}))))),N.createElement("label",null,"Work Specifications:"),Object.keys(g).map(A=>N.createElement("button",{key:A,className:`spec-pill ${g[A]?"active":""}`,onClick:()=>L(A)},A.charAt(0).toUpperCase()+A.slice(1))),N.createElement("label",null,"Languages Spoken (optional):"),N.createElement("input",{type:"text",placeholder:"e.g. English, Spanish",value:h,onChange:A=>p(A.target.value)}),N.createElement("label",null,"Upload Photos:"),N.createElement("input",{type:"file",multiple:!0,onChange:J,accept:"image/*"}),N.createElement("div",{className:"photo-preview"},P.map((A,D)=>N.createElement("div",{key:D,style:{display:"inline-block",position:"relative",marginRight:"1rem",marginTop:"1rem"}},N.createElement("img",{src:A,alt:`preview-${D}`,style:{width:"100px",borderRadius:"8px"}}),N.createElement("button",{onClick:()=>M(D),style:{position:"absolute",top:"0",right:"0",width:"20px",height:"20px",background:"white",color:"red",border:"1px solid red",borderRadius:"50%",fontSize:"14px",fontWeight:"bold",cursor:"pointer",padding:0,textAlign:"center",lineHeight:"20px"}},"")))),N.createElement("br",null),N.createElement("br",null),N.createElement("button",{onClick:ie},"Save Profile"),N.createElement("br",null),N.createElement("br",null),N.createElement("button",{onClick:F,style:{backgroundColor:"red",color:"white"}},"Delete Account"))}function qF(){return N.createElement(yN,null,N.createElement(KP,null,N.createElement(Li,{path:"/",element:N.createElement(b9,null)}),N.createElement(Li,{path:"/signup",element:N.createElement(PI,null)}),N.createElement(Li,{path:"/tinder",element:N.createElement(BA,null)}),N.createElement(Li,{path:"/home",element:N.createElement(BA,null)}),N.createElement(Li,{path:"/tinder-shuffle/review",element:N.createElement(kF,null)}),N.createElement(Li,{path:"/my-reviews",element:N.createElement(VF,null)}),N.createElement(Li,{path:"/bookings",element:N.createElement(UF,null)}),N.createElement(Li,{path:"/chat",element:N.createElement(FF,null)}),N.createElement(Li,{path:"/maidpage",element:N.createElement(HF,null)})))}const De=n=>typeof n=="string",Uu=()=>{let n,e;const t=new Promise((i,a)=>{n=i,e=a});return t.resolve=n,t.reject=e,t},jA=n=>n==null?"":""+n,$F=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},GF=/###/g,zA=n=>n&&n.indexOf("###")>-1?n.replace(GF,"."):n,FA=n=>!n||De(n),ac=(n,e,t)=>{const i=De(e)?e.split("."):e;let a=0;for(;a<i.length-1;){if(FA(n))return{};const o=zA(i[a]);!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={},++a}return FA(n)?{}:{obj:n,k:zA(i[a])}},HA=(n,e,t)=>{const{obj:i,k:a}=ac(n,e,Object);if(i!==void 0||e.length===1){i[a]=t;return}let o=e[e.length-1],u=e.slice(0,e.length-1),f=ac(n,u,Object);for(;f.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),f=ac(n,u,Object),f!=null&&f.obj&&typeof f.obj[`${f.k}.${o}`]<"u"&&(f.obj=void 0);f.obj[`${f.k}.${o}`]=t},KF=(n,e,t,i)=>{const{obj:a,k:o}=ac(n,e,Object);a[o]=a[o]||[],a[o].push(t)},Ad=(n,e)=>{const{obj:t,k:i}=ac(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},YF=(n,e,t)=>{const i=Ad(n,t);return i!==void 0?i:Ad(e,t)},TD=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?De(n[i])||n[i]instanceof String||De(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):TD(n[i],e[i],t):n[i]=e[i]);return n},Vo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var QF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const XF=n=>De(n)?n.replace(/[&<>"'\/]/g,e=>QF[e]):n;class WF{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const ZF=[" ",",","?","!",";"],JF=new WF(20),eH=(n,e,t)=>{e=e||"",t=t||"";const i=ZF.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(i.length===0)return!0;const a=JF.getRegExp(`(${i.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(n);if(!o){const u=n.indexOf(t);u>0&&!a.test(n.substring(0,u))&&(o=!0)}return o},nv=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let a=n;for(let o=0;o<i.length;){if(!a||typeof a!="object")return;let u,f="";for(let h=o;h<i.length;++h)if(h!==o&&(f+=t),f+=i[h],u=a[f],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&h<i.length-1)continue;o+=h-o+1;break}a=u}return a},Rd=n=>n==null?void 0:n.replace("_","-"),tH={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,i;(i=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||i.call(t,console,e)}};class Cd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||tH,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,a){return a&&!this.debug?null:(De(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Cd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Cd(this.logger,e)}}var Bi=new Cd;class fp{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(t)||0;this.observers[i].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(u=>{let[f,h]=u;for(let p=0;p<h;p++)f(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[f,h]=u;for(let p=0;p<h;p++)f.apply(f,[e,...i])})}}class qA extends fp{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){var p,g;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let f;e.indexOf(".")>-1?f=e.split("."):(f=[e,t],i&&(Array.isArray(i)?f.push(...i):De(i)&&o?f.push(...i.split(o)):f.push(i)));const h=Ad(this.data,f);return!h&&!t&&!i&&e.indexOf(".")>-1&&(e=f[0],t=f[1],i=f.slice(2).join(".")),h||!u||!De(i)?h:nv((g=(p=this.data)==null?void 0:p[e])==null?void 0:g[t],i,o)}addResource(e,t,i,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let f=[e,t];i&&(f=f.concat(u?i.split(u):i)),e.indexOf(".")>-1&&(f=e.split("."),a=t,t=f[1]),this.addNamespaces(t),HA(this.data,f,a),o.silent||this.emit("added",e,t,i,a)}addResources(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in i)(De(i[o])||Array.isArray(i[o]))&&this.addResource(e,t,o,i[o],{silent:!0});a.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,a,o){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},f=[e,t];e.indexOf(".")>-1&&(f=e.split("."),a=i,i=t,t=f[1]),this.addNamespaces(t);let h=Ad(this.data,f)||{};u.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?TD(h,i,o):h={...h,...i},HA(this.data,f,h),u.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var ED={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,a){return n.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,t,i,a))??e}),e}};const $A={},GA=n=>!De(n)&&typeof n!="boolean"&&typeof n!="number";class Id extends fp{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),$F(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Bi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const u=i&&e.indexOf(i)>-1,f=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!eH(e,i,a);if(u&&!f){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:De(o)?[o]:o};const p=e.split(i);(i!==a||i===a&&this.options.ns.indexOf(p[0])>-1)&&(o=p.shift()),e=p.join(a)}return{key:e,namespaces:De(o)?[o]:o}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:u,namespaces:f}=this.extractFromKey(e[e.length-1],t),h=f[f.length-1],p=t.lng||this.language,g=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode"){if(g){const V=t.nsSeparator||this.options.nsSeparator;return a?{res:`${h}${V}${u}`,usedKey:u,exactUsedKey:u,usedLng:p,usedNS:h,usedParams:this.getUsedParamsDetails(t)}:`${h}${V}${u}`}return a?{res:u,usedKey:u,exactUsedKey:u,usedLng:p,usedNS:h,usedParams:this.getUsedParamsDetails(t)}:u}const _=this.resolve(e,t);let T=_==null?void 0:_.res;const S=(_==null?void 0:_.usedKey)||u,R=(_==null?void 0:_.exactUsedKey)||u,P=["[object Number]","[object Function]","[object RegExp]"],I=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject,$=t.count!==void 0&&!De(t.count),z=Id.hasDefaultValue(t),ie=$?this.pluralResolver.getSuffix(p,t.count,t):"",F=t.ordinal&&$?this.pluralResolver.getSuffix(p,t.count,{ordinal:!1}):"",J=$&&!t.ordinal&&t.count===0,M=J&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${ie}`]||t[`defaultValue${F}`]||t.defaultValue;let A=T;L&&!T&&z&&(A=M);const D=GA(A),k=Object.prototype.toString.apply(A);if(L&&A&&D&&P.indexOf(k)<0&&!(De(I)&&Array.isArray(A))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,A,{...t,ns:f}):`key '${u} (${this.language})' returned an object instead of string.`;return a?(_.res=V,_.usedParams=this.getUsedParamsDetails(t),_):V}if(o){const V=Array.isArray(A),j=V?[]:{},O=V?R:S;for(const ve in A)if(Object.prototype.hasOwnProperty.call(A,ve)){const Te=`${O}${o}${ve}`;z&&!T?j[ve]=this.translate(Te,{...t,defaultValue:GA(M)?M[ve]:void 0,joinArrays:!1,ns:f}):j[ve]=this.translate(Te,{...t,joinArrays:!1,ns:f}),j[ve]===Te&&(j[ve]=A[ve])}T=j}}else if(L&&De(I)&&Array.isArray(T))T=T.join(I),T&&(T=this.extendTranslation(T,e,t,i));else{let V=!1,j=!1;!this.isValidLookup(T)&&z&&(V=!0,T=M),this.isValidLookup(T)||(j=!0,T=u);const ve=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:T,Te=z&&M!==T&&this.options.updateMissing;if(j||V||Te){if(this.logger.log(Te?"updateKey":"missingKey",p,h,u,Te?M:T),o){const be=this.resolve(u,{...t,keySeparator:!1});be&&be.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(let be=0;be<se.length;be++)W.push(se[be]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(t.lng||this.language):W.push(t.lng||this.language);const de=(be,w,q)=>{var te;const ne=z&&q!==T?q:ve;this.options.missingKeyHandler?this.options.missingKeyHandler(be,h,w,ne,Te,t):(te=this.backendConnector)!=null&&te.saveMissing&&this.backendConnector.saveMissing(be,h,w,ne,Te,t),this.emit("missingKey",be,h,w,T)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?W.forEach(be=>{const w=this.pluralResolver.getSuffixes(be,t);J&&t[`defaultValue${this.options.pluralSeparator}zero`]&&w.indexOf(`${this.options.pluralSeparator}zero`)<0&&w.push(`${this.options.pluralSeparator}zero`),w.forEach(q=>{de([be],u+q,t[`defaultValue${q}`]||M)})}):de(W,u,M))}T=this.extendTranslation(T,e,t,_,i),j&&T===u&&this.options.appendNamespaceToMissingKey&&(T=`${h}:${u}`),(j||V)&&this.options.parseMissingKeyHandler&&(T=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}:${u}`:u,V?T:void 0))}return a?(_.res=T,_.usedParams=this.getUsedParamsDetails(t),_):T}extendTranslation(e,t,i,a,o){var p,g;var u=this;if((p=this.i18nFormat)!=null&&p.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const _=De(e)&&(((g=i==null?void 0:i.interpolation)==null?void 0:g.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let T;if(_){const R=e.match(this.interpolator.nestingRegexp);T=R&&R.length}let S=i.replace&&!De(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),e=this.interpolator.interpolate(e,S,i.lng||this.language||a.usedLng,i),_){const R=e.match(this.interpolator.nestingRegexp),P=R&&R.length;T<P&&(i.nest=!1)}!i.lng&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var R=arguments.length,P=new Array(R),I=0;I<R;I++)P[I]=arguments[I];return(o==null?void 0:o[0])===P[0]&&!i.context?(u.logger.warn(`It seems you are nesting recursively key: ${P[0]} in key: ${t[0]}`),null):u.translate(...P,t)},i)),i.interpolation&&this.interpolator.reset()}const f=i.postProcess||this.options.postProcess,h=De(f)?[f]:f;return e!=null&&(h!=null&&h.length)&&i.applyPostProcessor!==!1&&(e=ED.handle(h,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,a,o,u,f;return De(e)&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(i))return;const p=this.extractFromKey(h,t),g=p.key;a=g;let _=p.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const T=t.count!==void 0&&!De(t.count),S=T&&!t.ordinal&&t.count===0,R=t.context!==void 0&&(De(t.context)||typeof t.context=="number")&&t.context!=="",P=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);_.forEach(I=>{var L,$;this.isValidLookup(i)||(f=I,!$A[`${P[0]}-${I}`]&&((L=this.utils)!=null&&L.hasLoadedNamespace)&&!(($=this.utils)!=null&&$.hasLoadedNamespace(f))&&($A[`${P[0]}-${I}`]=!0,this.logger.warn(`key "${a}" for languages "${P.join(", ")}" won't get resolved as namespace "${f}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),P.forEach(z=>{var J;if(this.isValidLookup(i))return;u=z;const ie=[g];if((J=this.i18nFormat)!=null&&J.addLookupKeys)this.i18nFormat.addLookupKeys(ie,g,z,I,t);else{let M;T&&(M=this.pluralResolver.getSuffix(z,t.count,t));const A=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(ie.push(g+M),t.ordinal&&M.indexOf(D)===0&&ie.push(g+M.replace(D,this.options.pluralSeparator)),S&&ie.push(g+A)),R){const k=`${g}${this.options.contextSeparator}${t.context}`;ie.push(k),T&&(ie.push(k+M),t.ordinal&&M.indexOf(D)===0&&ie.push(k+M.replace(D,this.options.pluralSeparator)),S&&ie.push(k+A))}}let F;for(;F=ie.pop();)this.isValidLookup(i)||(o=F,i=this.getResource(z,I,F,t))}))})}),{res:i,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:f}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,i,a):this.resourceStore.getResource(e,t,i,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!De(e.replace);let a=i?e.replace:e;if(i&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const o of t)delete a[o]}return a}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class KA{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Bi.create("languageUtils")}getScriptPartFromCode(e){if(e=Rd(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Rd(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(De(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const a=this.getScriptPartFromCode(i);if(this.isSupportedCode(a))return t=a;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),De(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return De(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):De(e)&&o(this.formatLanguageCode(e)),i.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const YA={zero:0,one:1,two:2,few:3,many:4,other:5},QA={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class nH{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Bi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=Rd(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(i,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),QA;if(!e.match(/-|_/))return QA;const h=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(h,t)}return this.pluralRulesCache[o]=u,u}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(a=>`${t}${a}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((a,o)=>YA[a]-YA[o]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,i);return a?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const XA=function(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=YF(n,e,t);return!o&&a&&De(t)&&(o=nv(n,t,i),o===void 0&&(o=nv(e,t,i))),o},ny=n=>n.replace(/\$/g,"$$$$");class iH{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Bi.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:f,suffixEscaped:h,formatSeparator:p,unescapeSuffix:g,unescapePrefix:_,nestingPrefix:T,nestingPrefixEscaped:S,nestingSuffix:R,nestingSuffixEscaped:P,nestingOptionsSeparator:I,maxReplaces:L,alwaysFormat:$}=e.interpolation;this.escape=t!==void 0?t:XF,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?Vo(o):u||"{{",this.suffix=f?Vo(f):h||"}}",this.formatSeparator=p||",",this.unescapePrefix=g?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=T?Vo(T):S||Vo("$t("),this.nestingSuffix=R?Vo(R):P||Vo(")"),this.nestingOptionsSeparator=I||",",this.maxReplaces=L||1e3,this.alwaysFormat=$!==void 0?$:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>(t==null?void 0:t.source)===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,a){var S;let o,u,f;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=R=>{if(R.indexOf(this.formatSeparator)<0){const $=XA(t,h,R,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,i,{...a,...t,interpolationkey:R}):$}const P=R.split(this.formatSeparator),I=P.shift().trim(),L=P.join(this.formatSeparator).trim();return this.format(XA(t,h,I,this.options.keySeparator,this.options.ignoreJSONStructure),L,i,{...a,...t,interpolationkey:I})};this.resetRegExp();const g=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,_=((S=a==null?void 0:a.interpolation)==null?void 0:S.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:R=>ny(R)},{regex:this.regexp,safeValue:R=>this.escapeValue?ny(this.escape(R)):ny(R)}].forEach(R=>{for(f=0;o=R.regex.exec(e);){const P=o[1].trim();if(u=p(P),u===void 0)if(typeof g=="function"){const L=g(e,o,a);u=De(L)?L:""}else if(a&&Object.prototype.hasOwnProperty.call(a,P))u="";else if(_){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${P} for interpolating ${e}`),u="";else!De(u)&&!this.useRawValueToEscape&&(u=jA(u));const I=R.safeValue(u);if(e=e.replace(o[0],I),_?(R.regex.lastIndex+=u.length,R.regex.lastIndex-=o[0].length):R.regex.lastIndex=0,f++,f>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,u;const f=(h,p)=>{const g=this.nestingOptionsSeparator;if(h.indexOf(g)<0)return h;const _=h.split(new RegExp(`${g}[ ]*{`));let T=`{${_[1]}`;h=_[0],T=this.interpolate(T,u);const S=T.match(/'/g),R=T.match(/"/g);(((S==null?void 0:S.length)??0)%2===0&&!R||R.length%2!==0)&&(T=T.replace(/'/g,'"'));try{u=JSON.parse(T),p&&(u={...p,...u})}catch(P){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,P),`${h}${g}${T}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,h};for(;a=this.nestingRegexp.exec(e);){let h=[];u={...i},u=u.replace&&!De(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let p=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const g=a[1].split(this.formatSeparator).map(_=>_.trim());a[1]=g.shift(),h=g,p=!0}if(o=t(f.call(this,a[1].trim(),u),u),o&&a[0]===e&&!De(o))return o;De(o)||(o=jA(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),p&&(o=h.reduce((g,_)=>this.format(g,_,i.lng,{...i,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const rH=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(u=>{if(u){const[f,...h]=u.split(":"),p=h.join(":").trim().replace(/^'+|'+$/g,""),g=f.trim();t[g]||(t[g]=p),p==="false"&&(t[g]=!1),p==="true"&&(t[g]=!0),isNaN(p)||(t[g]=parseInt(p,10))}})}return{formatName:e,formatOptions:t}},Lo=n=>{const e={};return(t,i,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=i+JSON.stringify(o);let f=e[u];return f||(f=n(Rd(i),a),e[u]=f),f(t)}};class sH{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Bi.create("formatter"),this.options=e,this.formats={number:Lo((t,i)=>{const a=new Intl.NumberFormat(t,{...i});return o=>a.format(o)}),currency:Lo((t,i)=>{const a=new Intl.NumberFormat(t,{...i,style:"currency"});return o=>a.format(o)}),datetime:Lo((t,i)=>{const a=new Intl.DateTimeFormat(t,{...i});return o=>a.format(o)}),relativetime:Lo((t,i)=>{const a=new Intl.RelativeTimeFormat(t,{...i});return o=>a.format(o,i.range||"day")}),list:Lo((t,i)=>{const a=new Intl.ListFormat(t,{...i});return o=>a.format(o)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Lo(t)}format(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(f=>f.indexOf(")")>-1)){const f=o.findIndex(h=>h.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,f)].join(this.formatSeparator)}return o.reduce((f,h)=>{var _;const{formatName:p,formatOptions:g}=rH(h);if(this.formats[p]){let T=f;try{const S=((_=a==null?void 0:a.formatParams)==null?void 0:_[a.interpolationkey])||{},R=S.locale||S.lng||a.locale||a.lng||i;T=this.formats[p](f,R,{...g,...a,...S})}catch(S){this.logger.warn(S)}return T}else this.logger.warn(`there was no format function for ${p}`);return f},e)}}const aH=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class oH extends fp{constructor(e,t,i){var o,u;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=Bi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,i,a.backend,a)}queueLoad(e,t,i,a){const o={},u={},f={},h={};return e.forEach(p=>{let g=!0;t.forEach(_=>{const T=`${p}|${_}`;!i.reload&&this.store.hasResourceBundle(p,_)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?u[T]===void 0&&(u[T]=!0):(this.state[T]=1,g=!1,u[T]===void 0&&(u[T]=!0),o[T]===void 0&&(o[T]=!0),h[_]===void 0&&(h[_]=!0)))}),g||(f[p]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}loaded(e,t,i){const a=e.split("|"),o=a[0],u=a[1];t&&this.emit("failedLoading",o,u,t),!t&&i&&this.store.addResourceBundle(o,u,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const f={};this.queue.forEach(h=>{KF(h.loaded,[o],u),aH(h,e),t&&h.errors.push(t),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(p=>{f[p]||(f[p]={});const g=h.loaded[p];g.length&&g.forEach(_=>{f[p][_]===void 0&&(f[p][_]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(h=>!h.done)}read(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:a,wait:o,callback:u});return}this.readingCalls++;const f=(p,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(p&&g&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,a+1,o*2,u)},o);return}u(p,g)},h=this.backend[i].bind(this.backend);if(h.length===2){try{const p=h(e,t);p&&typeof p.then=="function"?p.then(g=>f(null,g)).catch(f):f(null,p)}catch(p){f(p)}return}return h(e,t,f)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();De(e)&&(e=this.languageUtils.toResolveHierarchy(e)),De(t)&&(t=[t]);const o=this.queueLoad(e,t,i,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),a=i[0],o=i[1];this.read(a,o,"read",void 0,void 0,(u,f)=>{u&&this.logger.warn(`${t}loading namespace ${o} for language ${a} failed`,u),!u&&f&&this.logger.log(`${t}loaded namespace ${o} for language ${a}`,f),this.loaded(e,u,f)})}saveMissing(e,t,i,a,o){var h,p,g,_,T;let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((p=(h=this.services)==null?void 0:h.utils)!=null&&p.hasLoadedNamespace&&!((_=(g=this.services)==null?void 0:g.utils)!=null&&_.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((T=this.backend)!=null&&T.create){const S={...u,isUpdate:o},R=this.backend.create.bind(this.backend);if(R.length<6)try{let P;R.length===5?P=R(e,t,i,a,S):P=R(e,t,i,a),P&&typeof P.then=="function"?P.then(I=>f(null,I)).catch(f):f(null,P)}catch(P){f(P)}else R(e,t,i,a,f,S)}!e||!e[0]||this.store.addResource(e[0],t,i,a)}}}const WA=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),De(n[1])&&(e.defaultValue=n[1]),De(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ZA=n=>{var e,t;return De(n.ns)&&(n.ns=[n.ns]),De(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),De(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Oh=()=>{},lH=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class xc extends fp{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=ZA(e),this.services={},this.logger=Bi,this.modules={external:[]},lH(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),t.defaultNS==null&&t.ns&&(De(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=WA();this.options={...a,...this.options,...ZA(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Bi.init(o(this.modules.logger),this.options):Bi.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=sH;const _=new KA(this.options);this.store=new qA(this.options.resources,this.options);const T=this.services;T.logger=Bi,T.resourceStore=this.store,T.languageUtils=_,T.pluralResolver=new nH(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(T.formatter=o(g),T.formatter.init(T,this.options),this.options.interpolation.format=T.formatter.format.bind(T.formatter)),T.interpolator=new iH(this.options),T.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},T.backendConnector=new oH(o(this.modules.backend),T.resourceStore,T,this.options),T.backendConnector.on("*",function(S){for(var R=arguments.length,P=new Array(R>1?R-1:0),I=1;I<R;I++)P[I-1]=arguments[I];e.emit(S,...P)}),this.modules.languageDetector&&(T.languageDetector=o(this.modules.languageDetector),T.languageDetector.init&&T.languageDetector.init(T,this.options.detection,this.options)),this.modules.i18nFormat&&(T.i18nFormat=o(this.modules.i18nFormat),T.i18nFormat.init&&T.i18nFormat.init(this)),this.translator=new Id(this.services,this.options),this.translator.on("*",function(S){for(var R=arguments.length,P=new Array(R>1?R-1:0),I=1;I<R;I++)P[I-1]=arguments[I];e.emit(S,...P)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Oh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=function(){return e.store[g](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=function(){return e.store[g](...arguments),e}});const h=Uu(),p=()=>{const g=(_,T)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(T),i(_,T)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),h}loadResources(e){var o,u;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oh;const a=De(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const f=[],h=p=>{if(!p||p==="cimode")return;this.services.languageUtils.toResolveHierarchy(p).forEach(_=>{_!=="cimode"&&f.indexOf(_)<0&&f.push(_)})};a?h(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(g=>h(g)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,p=>h(p)),this.services.backendConnector.load(f,this.options.ns,p=>{!p&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(p)})}else i(null)}reloadResources(e,t,i){const a=Uu();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=Oh),this.services.backendConnector.reload(e,t,o=>{a.resolve(),i(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ED.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const a=Uu();this.emit("languageChanging",e);const o=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},u=(h,p)=>{p?this.isLanguageChangingTo===e&&(o(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,a.resolve(function(){return i.t(...arguments)}),t&&t(h,function(){return i.t(...arguments)})},f=h=>{var _,T;!e&&!h&&this.services.languageDetector&&(h=[]);const p=De(h)?h:h&&h[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(De(h)?[h]:h);g&&(this.language||o(g),this.translator.language||this.translator.changeLanguage(g),(T=(_=this.services.languageDetector)==null?void 0:_.cacheUserLanguage)==null||T.call(_,g)),this.loadResources(g,S=>{u(S,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(e),a}getFixedT(e,t,i){var a=this;const o=function(u,f){let h;if(typeof f!="object"){for(var p=arguments.length,g=new Array(p>2?p-2:0),_=2;_<p;_++)g[_-2]=arguments[_];h=a.options.overloadTranslationOptionHandler([u,f].concat(g))}else h={...f};h.lng=h.lng||o.lng,h.lngs=h.lngs||o.lngs,h.ns=h.ns||o.ns,h.keyPrefix!==""&&(h.keyPrefix=h.keyPrefix||i||o.keyPrefix);const T=a.options.keySeparator||".";let S;return h.keyPrefix&&Array.isArray(u)?S=u.map(R=>`${h.keyPrefix}${T}${R}`):S=h.keyPrefix?`${h.keyPrefix}${T}${u}`:u,a.t(S,h)};return De(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=i,o}t(){var a;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(a=this.translator)==null?void 0:a.translate(...t)}exists(){var a;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(a=this.translator)==null?void 0:a.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const u=(f,h)=>{const p=this.services.backendConnector.state[`${f}|${h}`];return p===-1||p===0||p===2};if(t.precheck){const f=t.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(i,e)&&(!a||u(o,e)))}loadNamespaces(e,t){const i=Uu();return this.options.ns?(De(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Uu();De(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{i.resolve(),t&&t(u)}),i):(t&&t(),Promise.resolve())}dir(e){var a,o;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((o=this.services)==null?void 0:o.languageUtils)||new KA(WA());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new xc(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oh;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new xc(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(f=>{o[f]=this[f]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const f=Object.keys(this.store.data).reduce((h,p)=>(h[p]={...this.store.data[p]},h[p]=Object.keys(h[p]).reduce((g,_)=>(g[_]={...h[p][_]},g),h[p]),h),{});o.store=new qA(f,a),o.services.resourceStore=o.store}return o.translator=new Id(o.services,a),o.translator.on("*",function(f){for(var h=arguments.length,p=new Array(h>1?h-1:0),g=1;g<h;g++)p[g-1]=arguments[g];o.emit(f,...p)}),o.init(a,t),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const cn=xc.createInstance();cn.createInstance=xc.createInstance;cn.createInstance;cn.dir;cn.init;cn.loadResources;cn.reloadResources;cn.use;cn.changeLanguage;cn.getFixedT;cn.t;cn.exists;cn.setDefaultNamespace;cn.hasLoadedNamespace;cn.loadNamespaces;cn.loadLanguages;const{slice:uH,forEach:cH}=[];function fH(n){return cH.call(uH.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function hH(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const JA=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,dH=function(n,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let o=`${n}=${a}`;if(i.maxAge>0){const u=i.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(i.domain){if(!JA.test(i.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${i.domain}`}if(i.path){if(!JA.test(i.path))throw new TypeError("option path is invalid");o+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(o+="; Partitioned"),o},eR={create(n,e,t,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),i&&(a.domain=i),document.cookie=dH(n,encodeURIComponent(e),a)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let i=0;i<t.length;i++){let a=t[i];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(n){this.create(n,"",-1)}};var pH={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return eR.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:i,cookieDomain:a,cookieOptions:o}=e;t&&typeof document<"u"&&eR.create(t,n,i,a,o)}},mH={name:"querystring",lookup(n){var i;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const u=a.substring(1).split("&");for(let f=0;f<u.length;f++){const h=u[f].indexOf("=");h>0&&u[f].substring(0,h)===e&&(t=u[f].substring(h+1))}}return t}};let Uo=null;const tR=()=>{if(Uo!==null)return Uo;try{if(Uo=typeof window<"u"&&window.localStorage!==null,!Uo)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Uo=!1}return Uo};var gH={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&tR())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&tR()&&window.localStorage.setItem(t,n)}};let Bo=null;const nR=()=>{if(Bo!==null)return Bo;try{if(Bo=typeof window<"u"&&window.sessionStorage!==null,!Bo)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Bo=!1}return Bo};var yH={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&nR())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&nR()&&window.sessionStorage.setItem(t,n)}},vH={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:i,language:a}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);i&&e.push(i),a&&e.push(a)}return e.length>0?e:void 0}},_H={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},TH={name:"path",lookup(n){var a;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(a=t[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},EH={name:"subdomain",lookup(n){var a,o;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,i=typeof window<"u"&&((o=(a=window.location)==null?void 0:a.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[t]}};let bD=!1;try{document.cookie,bD=!0}catch{}const wD=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];bD||wD.splice(1,1);const bH=()=>({order:wD,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class SD{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=fH(t,this.options||{},bH()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(pH),this.addDetector(mH),this.addDetector(gH),this.addDetector(yH),this.addDetector(vH),this.addDetector(_H),this.addDetector(TH),this.addDetector(EH)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(i=>{if(this.detectors[i]){let a=this.detectors[i].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.filter(i=>i!=null&&!hH(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}SD.type="languageDetector";const wH="Swipe <1>Right</1><2></2>",SH="Create account",AH="Log in",RH="Language",CH="Products",IH="Learn",xH="Safety",DH="Support",OH="Download",PH="Gift cards",NH={headline:wH,create_account:SH,login:AH,language:RH,products:CH,learn:IH,safety:xH,support:DH,download:OH,gift_cards:PH},MH="Desliza a la <1>Derecha</1><2></2>",kH="Crear cuenta",VH="Iniciar sesin",LH="Idioma",UH="Productos",BH="Aprender",jH="Seguridad",zH="Soporte",FH="Descargar",HH="Tarjetas de regalo",qH={headline:MH,create_account:kH,login:VH,language:LH,products:UH,learn:BH,safety:jH,support:zH,download:FH,gift_cards:HH};cn.use(SD).use(QN).init({fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:NH},es:{translation:qH}}});iP.createRoot(document.getElementById("root")).render(N.createElement(N.StrictMode,null,N.createElement(qF,null)));
