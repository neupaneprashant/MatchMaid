(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function Ky(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ig={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function xO(){if(QT)return xe;QT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,P={};function x(B,ae,ce){this.props=B,this.context=ae,this.refs=P,this.updater=ce||S}x.prototype.isReactComponent={},x.prototype.setState=function(B,ae){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ae,"setState")},x.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=x.prototype;function z(B,ae,ce){this.props=B,this.context=ae,this.refs=P,this.updater=ce||S}var L=z.prototype=new M;L.constructor=z,b(L,x.prototype),L.isPureReactComponent=!0;var te=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function O(B,ae,ce,le,ye,Ne){return ce=Ne.ref,{$$typeof:n,type:B,key:ae,ref:ce!==void 0?ce:null,props:Ne}}function R(B,ae){return O(B.type,ae,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function D(B){var ae={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ce){return ae[ce]})}var N=/\/+/g;function U(B,ae){return typeof B=="object"&&B!==null&&B.key!=null?D(""+B.key):ae.toString(36)}function V(){}function Le(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(V,V):(B.status="pending",B.then(function(ae){B.status==="pending"&&(B.status="fulfilled",B.value=ae)},function(ae){B.status==="pending"&&(B.status="rejected",B.reason=ae)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Pe(B,ae,ce,le,ye){var Ne=typeof B;(Ne==="undefined"||Ne==="boolean")&&(B=null);var Ae=!1;if(B===null)Ae=!0;else switch(Ne){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(B.$$typeof){case n:case e:Ae=!0;break;case g:return Ae=B._init,Pe(Ae(B._payload),ae,ce,le,ye)}}if(Ae)return ye=ye(B),Ae=le===""?"."+U(B,0):le,te(ye)?(ce="",Ae!=null&&(ce=Ae.replace(N,"$&/")+"/"),Pe(ye,ae,ce,"",function(gi){return gi})):ye!=null&&(C(ye)&&(ye=R(ye,ce+(ye.key==null||B&&B.key===ye.key?"":(""+ye.key).replace(N,"$&/")+"/")+Ae)),ae.push(ye)),1;Ae=0;var Vt=le===""?".":le+":";if(te(B))for(var it=0;it<B.length;it++)le=B[it],Ne=Vt+U(le,it),Ae+=Pe(le,ae,ce,Ne,ye);else if(it=E(B),typeof it=="function")for(B=it.call(B),it=0;!(le=B.next()).done;)le=le.value,Ne=Vt+U(le,it++),Ae+=Pe(le,ae,ce,Ne,ye);else if(Ne==="object"){if(typeof B.then=="function")return Pe(Le(B),ae,ce,le,ye);throw ae=String(B),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Z(B,ae,ce){if(B==null)return B;var le=[],ye=0;return Pe(B,le,"","",function(Ne){return ae.call(ce,Ne,ye++)}),le}function ie(B){if(B._status===-1){var ae=B._result;ae=ae(),ae.then(function(ce){(B._status===0||B._status===-1)&&(B._status=1,B._result=ce)},function(ce){(B._status===0||B._status===-1)&&(B._status=2,B._result=ce)}),B._status===-1&&(B._status=0,B._result=ae)}if(B._status===1)return B._result.default;throw B._result}var he=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Te(){}return xe.Children={map:Z,forEach:function(B,ae,ce){Z(B,function(){ae.apply(this,arguments)},ce)},count:function(B){var ae=0;return Z(B,function(){ae++}),ae},toArray:function(B){return Z(B,function(ae){return ae})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},xe.Component=x,xe.Fragment=t,xe.Profiler=a,xe.PureComponent=z,xe.StrictMode=i,xe.Suspense=f,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,xe.__COMPILER_RUNTIME={__proto__:null,c:function(B){return Y.H.useMemoCache(B)}},xe.cache=function(B){return function(){return B.apply(null,arguments)}},xe.cloneElement=function(B,ae,ce){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var le=b({},B.props),ye=B.key,Ne=void 0;if(ae!=null)for(Ae in ae.ref!==void 0&&(Ne=void 0),ae.key!==void 0&&(ye=""+ae.key),ae)!J.call(ae,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ae.ref===void 0||(le[Ae]=ae[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=ce;else if(1<Ae){for(var Vt=Array(Ae),it=0;it<Ae;it++)Vt[it]=arguments[it+2];le.children=Vt}return O(B.type,ye,void 0,void 0,Ne,le)},xe.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},xe.createElement=function(B,ae,ce){var le,ye={},Ne=null;if(ae!=null)for(le in ae.key!==void 0&&(Ne=""+ae.key),ae)J.call(ae,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=ae[le]);var Ae=arguments.length-2;if(Ae===1)ye.children=ce;else if(1<Ae){for(var Vt=Array(Ae),it=0;it<Ae;it++)Vt[it]=arguments[it+2];ye.children=Vt}if(B&&B.defaultProps)for(le in Ae=B.defaultProps,Ae)ye[le]===void 0&&(ye[le]=Ae[le]);return O(B,Ne,void 0,void 0,null,ye)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(B){return{$$typeof:h,render:B}},xe.isValidElement=C,xe.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:ie}},xe.memo=function(B,ae){return{$$typeof:m,type:B,compare:ae===void 0?null:ae}},xe.startTransition=function(B){var ae=Y.T,ce={};Y.T=ce;try{var le=B(),ye=Y.S;ye!==null&&ye(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Te,he)}catch(Ne){he(Ne)}finally{Y.T=ae}},xe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},xe.use=function(B){return Y.H.use(B)},xe.useActionState=function(B,ae,ce){return Y.H.useActionState(B,ae,ce)},xe.useCallback=function(B,ae){return Y.H.useCallback(B,ae)},xe.useContext=function(B){return Y.H.useContext(B)},xe.useDebugValue=function(){},xe.useDeferredValue=function(B,ae){return Y.H.useDeferredValue(B,ae)},xe.useEffect=function(B,ae,ce){var le=Y.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(B,ae)},xe.useId=function(){return Y.H.useId()},xe.useImperativeHandle=function(B,ae,ce){return Y.H.useImperativeHandle(B,ae,ce)},xe.useInsertionEffect=function(B,ae){return Y.H.useInsertionEffect(B,ae)},xe.useLayoutEffect=function(B,ae){return Y.H.useLayoutEffect(B,ae)},xe.useMemo=function(B,ae){return Y.H.useMemo(B,ae)},xe.useOptimistic=function(B,ae){return Y.H.useOptimistic(B,ae)},xe.useReducer=function(B,ae,ce){return Y.H.useReducer(B,ae,ce)},xe.useRef=function(B){return Y.H.useRef(B)},xe.useState=function(B){return Y.H.useState(B)},xe.useSyncExternalStore=function(B,ae,ce){return Y.H.useSyncExternalStore(B,ae,ce)},xe.useTransition=function(){return Y.H.useTransition()},xe.version="19.1.0",xe}var WT;function Yy(){return WT||(WT=1,ig.exports=xO()),ig.exports}var j=Yy();const $=Ky(j);var rg={exports:{}},Ru={},sg={exports:{}},ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function DO(){return XT||(XT=1,function(n){function e(Z,ie){var he=Z.length;Z.push(ie);e:for(;0<he;){var Te=he-1>>>1,B=Z[Te];if(0<a(B,ie))Z[Te]=ie,Z[he]=B,he=Te;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ie=Z[0],he=Z.pop();if(he!==ie){Z[0]=he;e:for(var Te=0,B=Z.length,ae=B>>>1;Te<ae;){var ce=2*(Te+1)-1,le=Z[ce],ye=ce+1,Ne=Z[ye];if(0>a(le,he))ye<B&&0>a(Ne,le)?(Z[Te]=Ne,Z[ye]=he,Te=ye):(Z[Te]=le,Z[ce]=he,Te=ce);else if(ye<B&&0>a(Ne,he))Z[Te]=Ne,Z[ye]=he,Te=ye;else break e}}return ie}function a(Z,ie){var he=Z.sortIndex-ie.sortIndex;return he!==0?he:Z.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],g=1,_=null,E=3,S=!1,b=!1,P=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function te(Z){for(var ie=t(m);ie!==null;){if(ie.callback===null)i(m);else if(ie.startTime<=Z)i(m),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(m)}}function Y(Z){if(P=!1,te(Z),!b)if(t(f)!==null)b=!0,J||(J=!0,U());else{var ie=t(m);ie!==null&&Pe(Y,ie.startTime-Z)}}var J=!1,O=-1,R=5,C=-1;function D(){return x?!0:!(n.unstable_now()-C<R)}function N(){if(x=!1,J){var Z=n.unstable_now();C=Z;var ie=!0;try{e:{b=!1,P&&(P=!1,z(O),O=-1),S=!0;var he=E;try{t:{for(te(Z),_=t(f);_!==null&&!(_.expirationTime>Z&&D());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,E=_.priorityLevel;var B=Te(_.expirationTime<=Z);if(Z=n.unstable_now(),typeof B=="function"){_.callback=B,te(Z),ie=!0;break t}_===t(f)&&i(f),te(Z)}else i(f);_=t(f)}if(_!==null)ie=!0;else{var ae=t(m);ae!==null&&Pe(Y,ae.startTime-Z),ie=!1}}break e}finally{_=null,E=he,S=!1}ie=void 0}}finally{ie?U():J=!1}}}var U;if(typeof L=="function")U=function(){L(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Le=V.port2;V.port1.onmessage=N,U=function(){Le.postMessage(null)}}else U=function(){M(N,0)};function Pe(Z,ie){O=M(function(){Z(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var ie=3;break;default:ie=E}var he=E;E=ie;try{return Z()}finally{E=he}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var he=E;E=Z;try{return ie()}finally{E=he}},n.unstable_scheduleCallback=function(Z,ie,he){var Te=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Te+he:Te):he=Te,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=he+B,Z={id:g++,callback:ie,priorityLevel:Z,startTime:he,expirationTime:B,sortIndex:-1},he>Te?(Z.sortIndex=he,e(m,Z),t(f)===null&&Z===t(m)&&(P?(z(O),O=-1):P=!0,Pe(Y,he-Te))):(Z.sortIndex=B,e(f,Z),b||S||(b=!0,J||(J=!0,U()))),Z},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(Z){var ie=E;return function(){var he=E;E=ie;try{return Z.apply(this,arguments)}finally{E=he}}}}(ag)),ag}var ZT;function OO(){return ZT||(ZT=1,sg.exports=DO()),sg.exports}var og={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT;function PO(){if(JT)return Jt;JT=1;var n=Yy();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:m,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Jt.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,g)},Jt.flushSync=function(f){var m=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=m,i.p=g,i.d.f()}},Jt.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},Jt.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Jt.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,_=h(g,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):g==="script"&&i.d.X(f,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Jt.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},Jt.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,_=h(g,m.crossOrigin);i.d.L(f,g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Jt.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},Jt.requestFormReset=function(f){i.d.r(f)},Jt.unstable_batchedUpdates=function(f,m){return f(m)},Jt.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},Jt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var ew;function NO(){if(ew)return og.exports;ew=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),og.exports=PO(),og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function MO(){if(tw)return Ru;tw=1;var n=OO(),e=Yy(),t=NO();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(i(188))}function f(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,c=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),r;if(y===c)return h(p),s;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var w=!1,A=p.child;A;){if(A===l){w=!0,l=p,c=y;break}if(A===c){w=!0,c=p,l=y;break}A=A.sibling}if(!w){for(A=y.child;A;){if(A===l){w=!0,l=y,c=p;break}if(A===c){w=!0,c=y,l=p;break}A=A.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function Le(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case x:return"Profiler";case P:return"StrictMode";case Y:return"Suspense";case J:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case L:return(r.displayName||"Context")+".Provider";case z:return(r._context.displayName||"Context")+".Consumer";case te:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:Le(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return Le(r(s))}catch{}}return null}var Pe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Te=[],B=-1;function ae(r){return{current:r}}function ce(r){0>B||(r.current=Te[B],Te[B]=null,B--)}function le(r,s){B++,Te[B]=r.current,r.current=s}var ye=ae(null),Ne=ae(null),Ae=ae(null),Vt=ae(null);function it(r,s){switch(le(Ae,s),le(Ne,r),le(ye,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?ST(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=ST(s),r=bT(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(ye),le(ye,r)}function gi(){ce(ye),ce(Ne),ce(Ae)}function Vr(r){r.memoizedState!==null&&le(Vt,r);var s=ye.current,l=bT(s,r.type);s!==l&&(le(Ne,r),le(ye,l))}function $i(r){Ne.current===r&&(ce(ye),ce(Ne)),Vt.current===r&&(ce(Vt),Tu._currentValue=he)}var Vs=Object.prototype.hasOwnProperty,ks=n.unstable_scheduleCallback,Ls=n.unstable_cancelCallback,vl=n.unstable_shouldYield,Uc=n.unstable_requestPaint,Vn=n.unstable_now,ip=n.unstable_getCurrentPriorityLevel,_l=n.unstable_ImmediatePriority,Ua=n.unstable_UserBlockingPriority,Us=n.unstable_NormalPriority,rp=n.unstable_LowPriority,Ba=n.unstable_IdlePriority,El=n.log,Bc=n.unstable_setDisableYieldValue,ft=null,Ye=null;function wn(r){if(typeof El=="function"&&Bc(r),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ft,r)}catch{}}var Xt=Math.clz32?Math.clz32:Bs,jc=Math.log,sp=Math.LN2;function Bs(r){return r>>>=0,r===0?32:31-(jc(r)/sp|0)|0}var js=256,Fs=4194304;function ni(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ja(r,s,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,y=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var A=c&134217727;return A!==0?(c=A&~y,c!==0?p=ni(c):(w&=A,w!==0?p=ni(w):l||(l=A&~r,l!==0&&(p=ni(l))))):(A=c&~y,A!==0?p=ni(A):w!==0?p=ni(w):l||(l=c&~r,l!==0&&(p=ni(l)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:p}function zs(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Tl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wl(){var r=js;return js<<=1,(js&4194048)===0&&(js=256),r}function Sl(){var r=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),r}function Gi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ki(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function bl(r,s,l,c,p,y){var w=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var A=r.entanglements,k=r.expirationTimes,K=r.hiddenUpdates;for(l=w&~l;0<l;){var ee=31-Xt(l),re=1<<ee;A[ee]=0,k[ee]=-1;var Q=K[ee];if(Q!==null)for(K[ee]=null,ee=0;ee<Q.length;ee++){var W=Q[ee];W!==null&&(W.lane&=-536870913)}l&=~re}c!==0&&yi(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(w&~s))}function yi(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Xt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function Al(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-Xt(l),p=1<<c;p&s|r[c]&s&&(r[c]|=s),l&=~p}}function kr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Fa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Lr(){var r=ie.p;return r!==0?r:(r=window.event,r===void 0?32:HT(r.type))}function Fc(r,s){var l=ie.p;try{return ie.p=r,s()}finally{ie.p=l}}var at=Math.random().toString(36).slice(2),It="__reactFiber$"+at,wt="__reactProps$"+at,kn="__reactContainer$"+at,Rl="__reactEvents$"+at,ap="__reactListeners$"+at,Ur="__reactHandles$"+at,zc="__reactResources$"+at,Hs="__reactMarker$"+at;function Br(r){delete r[It],delete r[wt],delete r[Rl],delete r[ap],delete r[Ur]}function Yi(r){var s=r[It];if(s)return s;for(var l=r.parentNode;l;){if(s=l[kn]||l[It]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=IT(r);r!==null;){if(l=r[It])return l;r=IT(r)}return s}r=l,l=r.parentNode}return null}function vi(r){if(r=r[It]||r[kn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function _i(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ln(r){var s=r[zc];return s||(s=r[zc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function yt(r){r[Hs]=!0}var Cl=new Set,za={};function ii(r,s){Qi(r,s),Qi(r+"Capture",s)}function Qi(r,s){for(za[r]=s,r=0;r<s.length;r++)Cl.add(s[r])}var Hc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qc={},qs={};function $c(r){return Vs.call(qs,r)?!0:Vs.call(qc,r)?!1:Hc.test(r)?qs[r]=!0:(qc[r]=!0,!1)}function jr(r,s,l){if($c(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Ei(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function zt(r,s,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+c)}}var $s,Gc;function Wi(r){if($s===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$s=s&&s[1]||"",Gc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+r+Gc}var Ha=!1;function qa(r,s){if(!r||Ha)return"";Ha=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var Q=W}Reflect.construct(r,[],re)}else{try{re.call()}catch(W){Q=W}r.call(re.prototype)}}else{try{throw Error()}catch(W){Q=W}(re=r())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),w=y[0],A=y[1];if(w&&A){var k=w.split(`
`),K=A.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===K.length)for(c=k.length-1,p=K.length-1;1<=c&&0<=p&&k[c]!==K[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==K[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==K[p]){var ee=`
`+k[c].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=c&&0<=p);break}}}finally{Ha=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Wi(l):""}function Il(r){switch(r.tag){case 26:case 27:case 5:return Wi(r.type);case 16:return Wi("Lazy");case 13:return Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 15:return qa(r.type,!1);case 11:return qa(r.type.render,!1);case 1:return qa(r.type,!0);case 31:return Wi("Activity");default:return""}}function $a(r){try{var s="";do s+=Il(r),r=r.return;while(r);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function un(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function op(r){var s=xl(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ga(r){r._valueTracker||(r._valueTracker=op(r))}function Dl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=xl(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function Gs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var lp=/[\n"\\]/g;function St(r){return r.replace(lp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sn(r,s,l,c,p,y,w,A){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),s!=null?w==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+un(s)):r.value!==""+un(s)&&(r.value=""+un(s)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),s!=null?Fr(r,w,un(s)):l!=null?Fr(r,w,un(l)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+un(A):r.removeAttribute("name")}function Ks(r,s,l,c,p,y,w,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+un(l):"",s=s!=null?""+un(s):l,A||s===r.value||(r.value=s),r.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=A?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function Fr(r,s,l){s==="number"&&Gs(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Xi(r,s,l,c){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+un(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Xe(r,s,l){if(s!=null&&(s=""+un(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+un(l):""}function Ys(r,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(Pe(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=un(s),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function Ln(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kc(r,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,l):typeof l!="number"||l===0||Qs.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function Ol(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&Kc(r,p,c)}else for(var y in s)s.hasOwnProperty(y)&&Kc(r,y,s[y])}function Pl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(r){return cp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Zi=null;function Un(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ji=null,er=null;function Nl(r){var s=vi(r);if(s&&(r=s.stateNode)){var l=r[wt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Sn(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+St(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var p=c[wt]||null;if(!p)throw Error(i(90));Sn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===r.form&&Dl(c)}break e;case"textarea":Xe(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Xi(r,!!l.multiple,s,!1)}}}var Ti=!1;function Yc(r,s,l){if(Ti)return r(s,l);Ti=!0;try{var c=r(s);return c}finally{if(Ti=!1,(Ji!==null||er!==null)&&(Fh(),Ji&&(s=Ji,r=er,er=Ji=null,Nl(s),r)))for(s=0;s<r.length;s++)Nl(r[s])}}function Ws(r,s){var l=r.stateNode;if(l===null)return null;var c=l[wt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(ri)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Bn=!1}var wi=null,zr=null,tr=null;function Ml(){if(tr)return tr;var r,s=zr,l=s.length,c,p="value"in wi?wi.value:wi.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var w=l-r;for(c=1;c<=w&&s[l-c]===p[y-c];c++);return tr=p.slice(r,1<c?1-c:void 0)}function Si(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function bi(){return!0}function Vl(){return!1}function kt(r){function s(l,c,p,y,w){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bi:Vl,this.isPropagationStopped=Vl,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),s}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=kt(Ge),Zs=g({},Ge,{view:0,detail:0}),Qc=kt(Zs),Qa,Wa,Ai,Js=g({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ai&&(Ai&&r.type==="mousemove"?(Qa=r.screenX-Ai.screenX,Wa=r.screenY-Ai.screenY):Wa=Qa=0,Ai=r),Qa)},movementY:function(r){return"movementY"in r?r.movementY:Wa}}),jn=kt(Js),Wc=g({},Js,{dataTransfer:0}),hp=kt(Wc),ea=g({},Zs,{relatedTarget:0}),Xa=kt(ea),kl=g({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=kt(kl),Xc=g({},Ge,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ja=kt(Xc),fp=g({},Ge,{data:0}),Ll=kt(fp),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Jc[r])?!!s[r]:!1}function na(){return Ul}var eh=g({},Zs,{key:function(r){if(r.key){var s=ta[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Si(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(r){return r.type==="keypress"?Si(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Si(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),eo=kt(eh),th=g({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bl=kt(th),nr=g({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),nh=kt(nr),ih=g({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),rh=kt(ih),sh=g({},Js,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),to=kt(sh),cn=g({},Ge,{newState:0,oldState:0}),ah=kt(cn),oh=[9,13,27,32],Ri=ri&&"CompositionEvent"in window,d=null;ri&&"documentMode"in document&&(d=document.documentMode);var v=ri&&"TextEvent"in window&&!d,T=ri&&(!Ri||d&&8<d&&11>=d),I=" ",q=!1;function X(r,s){switch(r){case"keyup":return oh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var je=!1;function xt(r,s){switch(r){case"compositionend":return ue(s);case"keypress":return s.which!==32?null:(q=!0,I);case"textInput":return r=s.data,r===I&&q?null:r;default:return null}}function Fe(r,s){if(je)return r==="compositionend"||!Ri&&X(r,s)?(r=Ml(),tr=zr=wi=null,je=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Lt[r.type]:s==="textarea"}function ir(r,s,l,c){Ji?er?er.push(c):er=[c]:Ji=c,s=Kh(s,"onChange"),0<s.length&&(l=new Ya("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var Ht=null,Ci=null;function jl(r){vT(r,0)}function lh(r){var s=_i(r);if(Dl(s))return r}function B_(r,s){if(r==="change")return s}var j_=!1;if(ri){var dp;if(ri){var pp="oninput"in document;if(!pp){var F_=document.createElement("div");F_.setAttribute("oninput","return;"),pp=typeof F_.oninput=="function"}dp=pp}else dp=!1;j_=dp&&(!document.documentMode||9<document.documentMode)}function z_(){Ht&&(Ht.detachEvent("onpropertychange",H_),Ci=Ht=null)}function H_(r){if(r.propertyName==="value"&&lh(Ci)){var s=[];ir(s,Ci,r,Un(r)),Yc(jl,s)}}function sD(r,s,l){r==="focusin"?(z_(),Ht=s,Ci=l,Ht.attachEvent("onpropertychange",H_)):r==="focusout"&&z_()}function aD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return lh(Ci)}function oD(r,s){if(r==="click")return lh(s)}function lD(r,s){if(r==="input"||r==="change")return lh(s)}function uD(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var bn=typeof Object.is=="function"?Object.is:uD;function Fl(r,s){if(bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Vs.call(s,p)||!bn(r[p],s[p]))return!1}return!0}function q_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $_(r,s){var l=q_(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=q_(l)}}function G_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?G_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function K_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Gs(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Gs(r.document)}return s}function mp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var cD=ri&&"documentMode"in document&&11>=document.documentMode,no=null,gp=null,zl=null,yp=!1;function Y_(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yp||no==null||no!==Gs(c)||(c=no,"selectionStart"in c&&mp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zl&&Fl(zl,c)||(zl=c,c=Kh(gp,"onSelect"),0<c.length&&(s=new Ya("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=no)))}function ia(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var io={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},vp={},Q_={};ri&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ra(r){if(vp[r])return vp[r];if(!io[r])return r;var s=io[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Q_)return vp[r]=s[l];return r}var W_=ra("animationend"),X_=ra("animationiteration"),Z_=ra("animationstart"),hD=ra("transitionrun"),fD=ra("transitionstart"),dD=ra("transitioncancel"),J_=ra("transitionend"),e0=new Map,_p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_p.push("scrollEnd");function si(r,s){e0.set(r,s),ii(s,[r])}var t0=new WeakMap;function Fn(r,s){if(typeof r=="object"&&r!==null){var l=t0.get(r);return l!==void 0?l:(s={value:r,source:s,stack:$a(s)},t0.set(r,s),s)}return{value:r,source:s,stack:$a(s)}}var zn=[],ro=0,Ep=0;function uh(){for(var r=ro,s=Ep=ro=0;s<r;){var l=zn[s];zn[s++]=null;var c=zn[s];zn[s++]=null;var p=zn[s];zn[s++]=null;var y=zn[s];if(zn[s++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}y!==0&&n0(l,p,y)}}function ch(r,s,l,c){zn[ro++]=r,zn[ro++]=s,zn[ro++]=l,zn[ro++]=c,Ep|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Tp(r,s,l,c){return ch(r,s,l,c),hh(r)}function so(r,s){return ch(r,null,null,s),hh(r)}function n0(r,s,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-Xt(l),r=y.hiddenUpdates,c=r[p],c===null?r[p]=[s]:c.push(s),s.lane=l|536870912),y):null}function hh(r){if(50<du)throw du=0,Cm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ao={};function pD(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(r,s,l,c){return new pD(r,s,l,c)}function wp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function rr(r,s){var l=r.alternate;return l===null?(l=An(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function i0(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function fh(r,s,l,c,p,y){var w=0;if(c=r,typeof r=="function")wp(r)&&(w=1);else if(typeof r=="string")w=gO(r,l,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=An(31,l,s,p),r.elementType=C,r.lanes=y,r;case b:return sa(l.children,p,y,s);case P:w=8,p|=24;break;case x:return r=An(12,l,s,p|2),r.elementType=x,r.lanes=y,r;case Y:return r=An(13,l,s,p),r.elementType=Y,r.lanes=y,r;case J:return r=An(19,l,s,p),r.elementType=J,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case L:w=10;break e;case z:w=9;break e;case te:w=11;break e;case O:w=14;break e;case R:w=16,c=null;break e}w=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=An(w,l,s,p),s.elementType=r,s.type=c,s.lanes=y,s}function sa(r,s,l,c){return r=An(7,r,c,s),r.lanes=l,r}function Sp(r,s,l){return r=An(6,r,null,s),r.lanes=l,r}function bp(r,s,l){return s=An(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var oo=[],lo=0,dh=null,ph=0,Hn=[],qn=0,aa=null,sr=1,ar="";function oa(r,s){oo[lo++]=ph,oo[lo++]=dh,dh=r,ph=s}function r0(r,s,l){Hn[qn++]=sr,Hn[qn++]=ar,Hn[qn++]=aa,aa=r;var c=sr;r=ar;var p=32-Xt(c)-1;c&=~(1<<p),l+=1;var y=32-Xt(s)+p;if(30<y){var w=p-p%5;y=(c&(1<<w)-1).toString(32),c>>=w,p-=w,sr=1<<32-Xt(s)+p|l<<p|c,ar=y+r}else sr=1<<y|l<<p|c,ar=r}function Ap(r){r.return!==null&&(oa(r,1),r0(r,1,0))}function Rp(r){for(;r===dh;)dh=oo[--lo],oo[lo]=null,ph=oo[--lo],oo[lo]=null;for(;r===aa;)aa=Hn[--qn],Hn[qn]=null,ar=Hn[--qn],Hn[qn]=null,sr=Hn[--qn],Hn[qn]=null}var hn=null,dt=null,$e=!1,la=null,Ii=!1,Cp=Error(i(519));function ua(r){var s=Error(i(418,""));throw $l(Fn(s,r)),Cp}function s0(r){var s=r.stateNode,l=r.type,c=r.memoizedProps;switch(s[It]=r,s[wt]=c,l){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(l=0;l<mu.length;l++)ke(mu[l],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),Ks(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ga(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),Ys(s,c.value,c.defaultValue,c.children),Ga(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||wT(s.textContent,l)?(c.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),c.onScroll!=null&&ke("scroll",s),c.onScrollEnd!=null&&ke("scrollend",s),c.onClick!=null&&(s.onclick=Yh),s=!0):s=!1,s||ua(r)}function a0(r){for(hn=r.return;hn;)switch(hn.tag){case 5:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:hn=hn.return}}function Hl(r){if(r!==hn)return!1;if(!$e)return a0(r),$e=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Hm(r.type,r.memoizedProps)),l=!l),l&&dt&&ua(r),a0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(s===0){dt=oi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;r=r.nextSibling}dt=null}}else s===27?(s=dt,rs(r.type)?(r=Km,Km=null,dt=r):dt=s):dt=hn?oi(r.stateNode.nextSibling):null;return!0}function ql(){dt=hn=null,$e=!1}function o0(){var r=la;return r!==null&&(yn===null?yn=r:yn.push.apply(yn,r),la=null),r}function $l(r){la===null?la=[r]:la.push(r)}var Ip=ae(null),ca=null,or=null;function Hr(r,s,l){le(Ip,s._currentValue),s._currentValue=l}function lr(r){r._currentValue=Ip.current,ce(Ip)}function xp(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function Dp(r,s,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var k=0;k<s.length;k++)if(A.context===s[k]){y.lanes|=l,A=y.alternate,A!==null&&(A.lanes|=l),xp(y.return,l,r),c||(w=null);break e}y=A.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=l,y=w.alternate,y!==null&&(y.lanes|=l),xp(w,l,r),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===r){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Gl(r,s,l,c){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var A=p.type;bn(p.pendingProps.value,w.value)||(r!==null?r.push(A):r=[A])}}else if(p===Vt.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Tu):r=[Tu])}p=p.return}r!==null&&Dp(s,r,l,c),s.flags|=262144}function mh(r){for(r=r.firstContext;r!==null;){if(!bn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ha(r){ca=r,or=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Zt(r){return l0(ca,r)}function gh(r,s){return ca===null&&ha(r),l0(r,s)}function l0(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},or===null){if(r===null)throw Error(i(308));or=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else or=or.next=s;return l}var mD=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},gD=n.unstable_scheduleCallback,yD=n.unstable_NormalPriority,Ot={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new mD,data:new Map,refCount:0}}function Kl(r){r.refCount--,r.refCount===0&&gD(yD,function(){r.controller.abort()})}var Yl=null,Pp=0,uo=0,co=null;function vD(r,s){if(Yl===null){var l=Yl=[];Pp=0,uo=Mm(),co={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Pp++,s.then(u0,u0),s}function u0(){if(--Pp===0&&Yl!==null){co!==null&&(co.status="fulfilled");var r=Yl;Yl=null,uo=0,co=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function _D(r,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var c0=Z.S;Z.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&vD(r,s),c0!==null&&c0(r,s)};var fa=ae(null);function Np(){var r=fa.current;return r!==null?r:rt.pooledCache}function yh(r,s){s===null?le(fa,fa.current):le(fa,s.pool)}function h0(){var r=Np();return r===null?null:{parent:Ot._currentValue,pool:r}}var Ql=Error(i(460)),f0=Error(i(474)),vh=Error(i(542)),Mp={then:function(){}};function d0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function _h(){}function p0(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(_h,_h),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,g0(r),r;default:if(typeof s.status=="string")s.then(_h,_h);else{if(r=rt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,g0(r),r}throw Wl=s,Ql}}var Wl=null;function m0(){if(Wl===null)throw Error(i(459));var r=Wl;return Wl=null,r}function g0(r){if(r===Ql||r===vh)throw Error(i(483))}var qr=!1;function Vp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function $r(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Gr(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=hh(r),n0(r,null,l),s}return ch(r,c,s,l),hh(r)}function Xl(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Al(r,l)}}function Lp(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Up=!1;function Zl(){if(Up){var r=co;if(r!==null)throw r}}function Jl(r,s,l,c){Up=!1;var p=r.updateQueue;qr=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var k=A,K=k.next;k.next=null,w===null?y=K:w.next=K,w=k;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==w&&(A===null?ee.firstBaseUpdate=K:A.next=K,ee.lastBaseUpdate=k))}if(y!==null){var re=p.baseState;w=0,ee=K=k=null,A=y;do{var Q=A.lane&-536870913,W=Q!==A.lane;if(W?(ze&Q)===Q:(c&Q)===Q){Q!==0&&Q===uo&&(Up=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Se=r,ve=A;Q=s;var et=l;switch(ve.tag){case 1:if(Se=ve.payload,typeof Se=="function"){re=Se.call(et,re,Q);break e}re=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ve.payload,Q=typeof Se=="function"?Se.call(et,re,Q):Se,Q==null)break e;re=g({},re,Q);break e;case 2:qr=!0}}Q=A.callback,Q!==null&&(r.flags|=64,W&&(r.flags|=8192),W=p.callbacks,W===null?p.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(K=ee=W,k=re):ee=ee.next=W,w|=Q;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;W=A,A=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);ee===null&&(k=re),p.baseState=k,p.firstBaseUpdate=K,p.lastBaseUpdate=ee,y===null&&(p.shared.lanes=0),es|=w,r.lanes=w,r.memoizedState=re}}function y0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function v0(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)y0(l[r],s)}var ho=ae(null),Eh=ae(0);function _0(r,s){r=mr,le(Eh,r),le(ho,s),mr=r|s.baseLanes}function Bp(){le(Eh,mr),le(ho,ho.current)}function jp(){mr=Eh.current,ce(ho),ce(Eh)}var Kr=0,De=null,Ze=null,bt=null,Th=!1,fo=!1,da=!1,wh=0,eu=0,po=null,ED=0;function vt(){throw Error(i(321))}function Fp(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!bn(r[l],s[l]))return!1;return!0}function zp(r,s,l,c,p,y){return Kr=y,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=r===null||r.memoizedState===null?nE:iE,da=!1,y=l(c,p),da=!1,fo&&(y=T0(s,l,c,p)),E0(r),y}function E0(r){Z.H=Ih;var s=Ze!==null&&Ze.next!==null;if(Kr=0,bt=Ze=De=null,Th=!1,eu=0,po=null,s)throw Error(i(300));r===null||Ut||(r=r.dependencies,r!==null&&mh(r)&&(Ut=!0))}function T0(r,s,l,c){De=r;var p=0;do{if(fo&&(po=null),eu=0,fo=!1,25<=p)throw Error(i(301));if(p+=1,bt=Ze=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=CD,y=s(l,c)}while(fo);return y}function TD(){var r=Z.H,s=r.useState()[0];return s=typeof s.then=="function"?tu(s):s,r=r.useState()[0],(Ze!==null?Ze.memoizedState:null)!==r&&(De.flags|=1024),s}function Hp(){var r=wh!==0;return wh=0,r}function qp(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function $p(r){if(Th){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Th=!1}Kr=0,bt=Ze=De=null,fo=!1,eu=wh=0,po=null}function mn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=r:bt=bt.next=r,bt}function At(){if(Ze===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=Ze.next;var s=bt===null?De.memoizedState:bt.next;if(s!==null)bt=s,Ze=r;else{if(r===null)throw De.alternate===null?Error(i(467)):Error(i(310));Ze=r,r={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},bt===null?De.memoizedState=bt=r:bt=bt.next=r}return bt}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(r){var s=eu;return eu+=1,po===null&&(po=[]),r=p0(po,r,s),s=De,(bt===null?s.memoizedState:bt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?nE:iE),r}function Sh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return tu(r);if(r.$$typeof===L)return Zt(r)}throw Error(i(438,String(r)))}function Kp(r){var s=null,l=De.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Gp(),De.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),c=0;c<r;c++)l[c]=D;return s.index++,l}function ur(r,s){return typeof s=="function"?s(r):s}function bh(r){var s=At();return Yp(s,Ze,r)}function Yp(r,s,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}s.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var A=w=null,k=null,K=s,ee=!1;do{var re=K.lane&-536870913;if(re!==K.lane?(ze&re)===re:(Kr&re)===re){var Q=K.revertLane;if(Q===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),re===uo&&(ee=!0);else if((Kr&Q)===Q){K=K.next,Q===uo&&(ee=!0);continue}else re={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(A=k=re,w=y):k=k.next=re,De.lanes|=Q,es|=Q;re=K.action,da&&l(y,re),y=K.hasEagerState?K.eagerState:l(y,re)}else Q={lane:re,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(A=k=Q,w=y):k=k.next=Q,De.lanes|=re,es|=re;K=K.next}while(K!==null&&K!==s);if(k===null?w=y:k.next=A,!bn(y,r.memoizedState)&&(Ut=!0,ee&&(l=co,l!==null)))throw l;r.memoizedState=y,r.baseState=w,r.baseQueue=k,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Qp(r){var s=At(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=r(y,w.action),w=w.next;while(w!==p);bn(y,s.memoizedState)||(Ut=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,c]}function w0(r,s,l){var c=De,p=At(),y=$e;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var w=!bn((Ze||p).memoizedState,l);w&&(p.memoizedState=l,Ut=!0),p=p.queue;var A=A0.bind(null,c,p,r);if(nu(2048,8,A,[r]),p.getSnapshot!==s||w||bt!==null&&bt.memoizedState.tag&1){if(c.flags|=2048,mo(9,Ah(),b0.bind(null,c,p,l,s),null),rt===null)throw Error(i(349));y||(Kr&124)!==0||S0(c,s,l)}return l}function S0(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=De.updateQueue,s===null?(s=Gp(),De.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function b0(r,s,l,c){s.value=l,s.getSnapshot=c,R0(s)&&C0(r)}function A0(r,s,l){return l(function(){R0(s)&&C0(r)})}function R0(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!bn(r,l)}catch{return!0}}function C0(r){var s=so(r,2);s!==null&&Dn(s,r,2)}function Wp(r){var s=mn();if(typeof r=="function"){var l=r;if(r=l(),da){wn(!0);try{l()}finally{wn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:r},s}function I0(r,s,l,c){return r.baseState=l,Yp(r,Ze,typeof c=="function"?c:ur)}function wD(r,s,l,c,p){if(Ch(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};Z.T!==null?l(!0):y.isTransition=!1,c(y),l=s.pending,l===null?(y.next=s.pending=y,x0(s,y)):(y.next=l.next,s.pending=l.next=y)}}function x0(r,s){var l=s.action,c=s.payload,p=r.state;if(s.isTransition){var y=Z.T,w={};Z.T=w;try{var A=l(p,c),k=Z.S;k!==null&&k(w,A),D0(r,s,A)}catch(K){Xp(r,s,K)}finally{Z.T=y}}else try{y=l(p,c),D0(r,s,y)}catch(K){Xp(r,s,K)}}function D0(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){O0(r,s,c)},function(c){return Xp(r,s,c)}):O0(r,s,l)}function O0(r,s,l){s.status="fulfilled",s.value=l,P0(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,x0(r,l)))}function Xp(r,s,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,P0(s),s=s.next;while(s!==c)}r.action=null}function P0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function N0(r,s){return s}function M0(r,s){if($e){var l=rt.formState;if(l!==null){e:{var c=De;if($e){if(dt){t:{for(var p=dt,y=Ii;p.nodeType!==8;){if(!y){p=null;break t}if(p=oi(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){dt=oi(p.nextSibling),c=p.data==="F!";break e}}ua(c)}c=!1}c&&(s=l[0])}}return l=mn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N0,lastRenderedState:s},l.queue=c,l=J0.bind(null,De,c),c.dispatch=l,c=Wp(!1),y=nm.bind(null,De,!1,c.queue),c=mn(),p={state:s,dispatch:null,action:r,pending:null},c.queue=p,l=wD.bind(null,De,p,y,l),p.dispatch=l,c.memoizedState=r,[s,l,!1]}function V0(r){var s=At();return k0(s,Ze,r)}function k0(r,s,l){if(s=Yp(r,s,N0)[0],r=bh(ur)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=tu(s)}catch(w){throw w===Ql?vh:w}else c=s;s=At();var p=s.queue,y=p.dispatch;return l!==s.memoizedState&&(De.flags|=2048,mo(9,Ah(),SD.bind(null,p,l),null)),[c,y,r]}function SD(r,s){r.action=s}function L0(r){var s=At(),l=Ze;if(l!==null)return k0(s,l,r);At(),s=s.memoizedState,l=At();var c=l.queue.dispatch;return l.memoizedState=r,[s,c,!1]}function mo(r,s,l,c){return r={tag:r,create:l,deps:c,inst:s,next:null},s=De.updateQueue,s===null&&(s=Gp(),De.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r),r}function Ah(){return{destroy:void 0,resource:void 0}}function U0(){return At().memoizedState}function Rh(r,s,l,c){var p=mn();c=c===void 0?null:c,De.flags|=r,p.memoizedState=mo(1|s,Ah(),l,c)}function nu(r,s,l,c){var p=At();c=c===void 0?null:c;var y=p.memoizedState.inst;Ze!==null&&c!==null&&Fp(c,Ze.memoizedState.deps)?p.memoizedState=mo(s,y,l,c):(De.flags|=r,p.memoizedState=mo(1|s,y,l,c))}function B0(r,s){Rh(8390656,8,r,s)}function j0(r,s){nu(2048,8,r,s)}function F0(r,s){return nu(4,2,r,s)}function z0(r,s){return nu(4,4,r,s)}function H0(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function q0(r,s,l){l=l!=null?l.concat([r]):null,nu(4,4,H0.bind(null,s,r),l)}function Zp(){}function $0(r,s){var l=At();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Fp(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function G0(r,s){var l=At();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Fp(s,c[1]))return c[0];if(c=r(),da){wn(!0);try{r()}finally{wn(!1)}}return l.memoizedState=[c,s],c}function Jp(r,s,l){return l===void 0||(Kr&1073741824)!==0?r.memoizedState=s:(r.memoizedState=l,r=QE(),De.lanes|=r,es|=r,l)}function K0(r,s,l,c){return bn(l,s)?l:ho.current!==null?(r=Jp(r,l,c),bn(r,s)||(Ut=!0),r):(Kr&42)===0?(Ut=!0,r.memoizedState=l):(r=QE(),De.lanes|=r,es|=r,s)}function Y0(r,s,l,c,p){var y=ie.p;ie.p=y!==0&&8>y?y:8;var w=Z.T,A={};Z.T=A,nm(r,!1,s,l);try{var k=p(),K=Z.S;if(K!==null&&K(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ee=_D(k,c);iu(r,s,ee,xn(r))}else iu(r,s,c,xn(r))}catch(re){iu(r,s,{then:function(){},status:"rejected",reason:re},xn())}finally{ie.p=y,Z.T=w}}function bD(){}function em(r,s,l,c){if(r.tag!==5)throw Error(i(476));var p=Q0(r).queue;Y0(r,p,s,he,l===null?bD:function(){return W0(r),l(c)})}function Q0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:he},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function W0(r){var s=Q0(r).next.queue;iu(r,s,{},xn())}function tm(){return Zt(Tu)}function X0(){return At().memoizedState}function Z0(){return At().memoizedState}function AD(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=xn();r=$r(l);var c=Gr(s,r,l);c!==null&&(Dn(c,s,l),Xl(c,s,l)),s={cache:Op()},r.payload=s;return}s=s.return}}function RD(r,s,l){var c=xn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ch(r)?eE(s,l):(l=Tp(r,s,l,c),l!==null&&(Dn(l,r,c),tE(l,s,c)))}function J0(r,s,l){var c=xn();iu(r,s,l,c)}function iu(r,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ch(r))eE(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,A=y(w,l);if(p.hasEagerState=!0,p.eagerState=A,bn(A,w))return ch(r,s,p,0),rt===null&&uh(),!1}catch{}finally{}if(l=Tp(r,s,p,c),l!==null)return Dn(l,r,c),tE(l,s,c),!0}return!1}function nm(r,s,l,c){if(c={lane:2,revertLane:Mm(),action:c,hasEagerState:!1,eagerState:null,next:null},Ch(r)){if(s)throw Error(i(479))}else s=Tp(r,l,c,2),s!==null&&Dn(s,r,2)}function Ch(r){var s=r.alternate;return r===De||s!==null&&s===De}function eE(r,s){fo=Th=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function tE(r,s,l){if((l&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Al(r,l)}}var Ih={readContext:Zt,use:Sh,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},nE={readContext:Zt,use:Sh,useCallback:function(r,s){return mn().memoizedState=[r,s===void 0?null:s],r},useContext:Zt,useEffect:B0,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,Rh(4194308,4,H0.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Rh(4194308,4,r,s)},useInsertionEffect:function(r,s){Rh(4,2,r,s)},useMemo:function(r,s){var l=mn();s=s===void 0?null:s;var c=r();if(da){wn(!0);try{r()}finally{wn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(r,s,l){var c=mn();if(l!==void 0){var p=l(s);if(da){wn(!0);try{l(s)}finally{wn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=RD.bind(null,De,r),[c.memoizedState,r]},useRef:function(r){var s=mn();return r={current:r},s.memoizedState=r},useState:function(r){r=Wp(r);var s=r.queue,l=J0.bind(null,De,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:Zp,useDeferredValue:function(r,s){var l=mn();return Jp(l,r,s)},useTransition:function(){var r=Wp(!1);return r=Y0.bind(null,De,r.queue,!0,!1),mn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var c=De,p=mn();if($e){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),rt===null)throw Error(i(349));(ze&124)!==0||S0(c,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,B0(A0.bind(null,c,y,r),[r]),c.flags|=2048,mo(9,Ah(),b0.bind(null,c,y,l,s),null),l},useId:function(){var r=mn(),s=rt.identifierPrefix;if($e){var l=ar,c=sr;l=(c&~(1<<32-Xt(c)-1)).toString(32)+l,s=""+s+"R"+l,l=wh++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=ED++,s=""+s+"r"+l.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:tm,useFormState:M0,useActionState:M0,useOptimistic:function(r){var s=mn();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=nm.bind(null,De,!0,l),l.dispatch=s,[r,s]},useMemoCache:Kp,useCacheRefresh:function(){return mn().memoizedState=AD.bind(null,De)}},iE={readContext:Zt,use:Sh,useCallback:$0,useContext:Zt,useEffect:j0,useImperativeHandle:q0,useInsertionEffect:F0,useLayoutEffect:z0,useMemo:G0,useReducer:bh,useRef:U0,useState:function(){return bh(ur)},useDebugValue:Zp,useDeferredValue:function(r,s){var l=At();return K0(l,Ze.memoizedState,r,s)},useTransition:function(){var r=bh(ur)[0],s=At().memoizedState;return[typeof r=="boolean"?r:tu(r),s]},useSyncExternalStore:w0,useId:X0,useHostTransitionStatus:tm,useFormState:V0,useActionState:V0,useOptimistic:function(r,s){var l=At();return I0(l,Ze,r,s)},useMemoCache:Kp,useCacheRefresh:Z0},CD={readContext:Zt,use:Sh,useCallback:$0,useContext:Zt,useEffect:j0,useImperativeHandle:q0,useInsertionEffect:F0,useLayoutEffect:z0,useMemo:G0,useReducer:Qp,useRef:U0,useState:function(){return Qp(ur)},useDebugValue:Zp,useDeferredValue:function(r,s){var l=At();return Ze===null?Jp(l,r,s):K0(l,Ze.memoizedState,r,s)},useTransition:function(){var r=Qp(ur)[0],s=At().memoizedState;return[typeof r=="boolean"?r:tu(r),s]},useSyncExternalStore:w0,useId:X0,useHostTransitionStatus:tm,useFormState:L0,useActionState:L0,useOptimistic:function(r,s){var l=At();return Ze!==null?I0(l,Ze,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:Z0},go=null,ru=0;function xh(r){var s=ru;return ru+=1,go===null&&(go=[]),p0(go,r,s)}function su(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Dh(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function rE(r){var s=r._init;return s(r._payload)}function sE(r){function s(H,F){if(r){var G=H.deletions;G===null?(H.deletions=[F],H.flags|=16):G.push(F)}}function l(H,F){if(!r)return null;for(;F!==null;)s(H,F),F=F.sibling;return null}function c(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function p(H,F){return H=rr(H,F),H.index=0,H.sibling=null,H}function y(H,F,G){return H.index=G,r?(G=H.alternate,G!==null?(G=G.index,G<F?(H.flags|=67108866,F):G):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function w(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function A(H,F,G,ne){return F===null||F.tag!==6?(F=Sp(G,H.mode,ne),F.return=H,F):(F=p(F,G),F.return=H,F)}function k(H,F,G,ne){var pe=G.type;return pe===b?ee(H,F,G.props.children,ne,G.key):F!==null&&(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&rE(pe)===F.type)?(F=p(F,G.props),su(F,G),F.return=H,F):(F=fh(G.type,G.key,G.props,null,H.mode,ne),su(F,G),F.return=H,F)}function K(H,F,G,ne){return F===null||F.tag!==4||F.stateNode.containerInfo!==G.containerInfo||F.stateNode.implementation!==G.implementation?(F=bp(G,H.mode,ne),F.return=H,F):(F=p(F,G.children||[]),F.return=H,F)}function ee(H,F,G,ne,pe){return F===null||F.tag!==7?(F=sa(G,H.mode,ne,pe),F.return=H,F):(F=p(F,G),F.return=H,F)}function re(H,F,G){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Sp(""+F,H.mode,G),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return G=fh(F.type,F.key,F.props,null,H.mode,G),su(G,F),G.return=H,G;case S:return F=bp(F,H.mode,G),F.return=H,F;case R:var ne=F._init;return F=ne(F._payload),re(H,F,G)}if(Pe(F)||U(F))return F=sa(F,H.mode,G,null),F.return=H,F;if(typeof F.then=="function")return re(H,xh(F),G);if(F.$$typeof===L)return re(H,gh(H,F),G);Dh(H,F)}return null}function Q(H,F,G,ne){var pe=F!==null?F.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pe!==null?null:A(H,F,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===pe?k(H,F,G,ne):null;case S:return G.key===pe?K(H,F,G,ne):null;case R:return pe=G._init,G=pe(G._payload),Q(H,F,G,ne)}if(Pe(G)||U(G))return pe!==null?null:ee(H,F,G,ne,null);if(typeof G.then=="function")return Q(H,F,xh(G),ne);if(G.$$typeof===L)return Q(H,F,gh(H,G),ne);Dh(H,G)}return null}function W(H,F,G,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(G)||null,A(F,H,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:return H=H.get(ne.key===null?G:ne.key)||null,k(F,H,ne,pe);case S:return H=H.get(ne.key===null?G:ne.key)||null,K(F,H,ne,pe);case R:var Me=ne._init;return ne=Me(ne._payload),W(H,F,G,ne,pe)}if(Pe(ne)||U(ne))return H=H.get(G)||null,ee(F,H,ne,pe,null);if(typeof ne.then=="function")return W(H,F,G,xh(ne),pe);if(ne.$$typeof===L)return W(H,F,G,gh(F,ne),pe);Dh(F,ne)}return null}function Se(H,F,G,ne){for(var pe=null,Me=null,me=F,_e=F=0,jt=null;me!==null&&_e<G.length;_e++){me.index>_e?(jt=me,me=null):jt=me.sibling;var qe=Q(H,me,G[_e],ne);if(qe===null){me===null&&(me=jt);break}r&&me&&qe.alternate===null&&s(H,me),F=y(qe,F,_e),Me===null?pe=qe:Me.sibling=qe,Me=qe,me=jt}if(_e===G.length)return l(H,me),$e&&oa(H,_e),pe;if(me===null){for(;_e<G.length;_e++)me=re(H,G[_e],ne),me!==null&&(F=y(me,F,_e),Me===null?pe=me:Me.sibling=me,Me=me);return $e&&oa(H,_e),pe}for(me=c(me);_e<G.length;_e++)jt=W(me,H,_e,G[_e],ne),jt!==null&&(r&&jt.alternate!==null&&me.delete(jt.key===null?_e:jt.key),F=y(jt,F,_e),Me===null?pe=jt:Me.sibling=jt,Me=jt);return r&&me.forEach(function(us){return s(H,us)}),$e&&oa(H,_e),pe}function ve(H,F,G,ne){if(G==null)throw Error(i(151));for(var pe=null,Me=null,me=F,_e=F=0,jt=null,qe=G.next();me!==null&&!qe.done;_e++,qe=G.next()){me.index>_e?(jt=me,me=null):jt=me.sibling;var us=Q(H,me,qe.value,ne);if(us===null){me===null&&(me=jt);break}r&&me&&us.alternate===null&&s(H,me),F=y(us,F,_e),Me===null?pe=us:Me.sibling=us,Me=us,me=jt}if(qe.done)return l(H,me),$e&&oa(H,_e),pe;if(me===null){for(;!qe.done;_e++,qe=G.next())qe=re(H,qe.value,ne),qe!==null&&(F=y(qe,F,_e),Me===null?pe=qe:Me.sibling=qe,Me=qe);return $e&&oa(H,_e),pe}for(me=c(me);!qe.done;_e++,qe=G.next())qe=W(me,H,_e,qe.value,ne),qe!==null&&(r&&qe.alternate!==null&&me.delete(qe.key===null?_e:qe.key),F=y(qe,F,_e),Me===null?pe=qe:Me.sibling=qe,Me=qe);return r&&me.forEach(function(IO){return s(H,IO)}),$e&&oa(H,_e),pe}function et(H,F,G,ne){if(typeof G=="object"&&G!==null&&G.type===b&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var pe=G.key;F!==null;){if(F.key===pe){if(pe=G.type,pe===b){if(F.tag===7){l(H,F.sibling),ne=p(F,G.props.children),ne.return=H,H=ne;break e}}else if(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&rE(pe)===F.type){l(H,F.sibling),ne=p(F,G.props),su(ne,G),ne.return=H,H=ne;break e}l(H,F);break}else s(H,F);F=F.sibling}G.type===b?(ne=sa(G.props.children,H.mode,ne,G.key),ne.return=H,H=ne):(ne=fh(G.type,G.key,G.props,null,H.mode,ne),su(ne,G),ne.return=H,H=ne)}return w(H);case S:e:{for(pe=G.key;F!==null;){if(F.key===pe)if(F.tag===4&&F.stateNode.containerInfo===G.containerInfo&&F.stateNode.implementation===G.implementation){l(H,F.sibling),ne=p(F,G.children||[]),ne.return=H,H=ne;break e}else{l(H,F);break}else s(H,F);F=F.sibling}ne=bp(G,H.mode,ne),ne.return=H,H=ne}return w(H);case R:return pe=G._init,G=pe(G._payload),et(H,F,G,ne)}if(Pe(G))return Se(H,F,G,ne);if(U(G)){if(pe=U(G),typeof pe!="function")throw Error(i(150));return G=pe.call(G),ve(H,F,G,ne)}if(typeof G.then=="function")return et(H,F,xh(G),ne);if(G.$$typeof===L)return et(H,F,gh(H,G),ne);Dh(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,F!==null&&F.tag===6?(l(H,F.sibling),ne=p(F,G),ne.return=H,H=ne):(l(H,F),ne=Sp(G,H.mode,ne),ne.return=H,H=ne),w(H)):l(H,F)}return function(H,F,G,ne){try{ru=0;var pe=et(H,F,G,ne);return go=null,pe}catch(me){if(me===Ql||me===vh)throw me;var Me=An(29,me,null,H.mode);return Me.lanes=ne,Me.return=H,Me}finally{}}}var yo=sE(!0),aE=sE(!1),$n=ae(null),xi=null;function Yr(r){var s=r.alternate;le(Pt,Pt.current&1),le($n,r),xi===null&&(s===null||ho.current!==null||s.memoizedState!==null)&&(xi=r)}function oE(r){if(r.tag===22){if(le(Pt,Pt.current),le($n,r),xi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(xi=r)}}else Qr()}function Qr(){le(Pt,Pt.current),le($n,$n.current)}function cr(r){ce($n),xi===r&&(xi=null),ce(Pt)}var Pt=ae(0);function Oh(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gm(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function im(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:g({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var rm={enqueueSetState:function(r,s,l){r=r._reactInternals;var c=xn(),p=$r(c);p.payload=s,l!=null&&(p.callback=l),s=Gr(r,p,c),s!==null&&(Dn(s,r,c),Xl(s,r,c))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=xn(),p=$r(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Gr(r,p,c),s!==null&&(Dn(s,r,c),Xl(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=xn(),c=$r(l);c.tag=2,s!=null&&(c.callback=s),s=Gr(r,c,l),s!==null&&(Dn(s,r,l),Xl(s,r,l))}};function lE(r,s,l,c,p,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,w):s.prototype&&s.prototype.isPureReactComponent?!Fl(l,c)||!Fl(p,y):!0}function uE(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&rm.enqueueReplaceState(s,s.state,null)}function pa(r,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(r=r.defaultProps){l===s&&(l=g({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}var Ph=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function cE(r){Ph(r)}function hE(r){console.error(r)}function fE(r){Ph(r)}function Nh(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function dE(r,s,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sm(r,s,l){return l=$r(l),l.tag=3,l.payload={element:null},l.callback=function(){Nh(r,s)},l}function pE(r){return r=$r(r),r.tag=3,r}function mE(r,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){dE(s,l,c)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){dE(s,l,c),typeof p!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function ID(r,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Gl(s,l,p,!0),l=$n.current,l!==null){switch(l.tag){case 13:return xi===null?xm():l.alternate===null&&pt===0&&(pt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Mp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Om(r,c,p)),!1;case 22:return l.flags|=65536,c===Mp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Om(r,c,p)),!1}throw Error(i(435,l.tag))}return Om(r,c,p),xm(),!1}if($e)return s=$n.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Cp&&(r=Error(i(422),{cause:c}),$l(Fn(r,l)))):(c!==Cp&&(s=Error(i(423),{cause:c}),$l(Fn(s,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=Fn(c,l),p=sm(r.stateNode,c,p),Lp(r,p),pt!==4&&(pt=2)),!1;var y=Error(i(520),{cause:c});if(y=Fn(y,l),fu===null?fu=[y]:fu.push(y),pt!==4&&(pt=2),s===null)return!0;c=Fn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=sm(l.stateNode,c,r),Lp(l,r),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ts===null||!ts.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=pE(p),mE(p,r,l,c),Lp(l,p),!1}l=l.return}while(l!==null);return!1}var gE=Error(i(461)),Ut=!1;function qt(r,s,l,c){s.child=r===null?aE(s,null,l,c):yo(s,r.child,l,c)}function yE(r,s,l,c,p){l=l.render;var y=s.ref;if("ref"in c){var w={};for(var A in c)A!=="ref"&&(w[A]=c[A])}else w=c;return ha(s),c=zp(r,s,l,w,y,p),A=Hp(),r!==null&&!Ut?(qp(r,s,p),hr(r,s,p)):($e&&A&&Ap(s),s.flags|=1,qt(r,s,c,p),s.child)}function vE(r,s,l,c,p){if(r===null){var y=l.type;return typeof y=="function"&&!wp(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,_E(r,s,y,c,p)):(r=fh(l.type,null,c,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!dm(r,p)){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:Fl,l(w,c)&&r.ref===s.ref)return hr(r,s,p)}return s.flags|=1,r=rr(y,c),r.ref=s.ref,r.return=s,s.child=r}function _E(r,s,l,c,p){if(r!==null){var y=r.memoizedProps;if(Fl(y,c)&&r.ref===s.ref)if(Ut=!1,s.pendingProps=c=y,dm(r,p))(r.flags&131072)!==0&&(Ut=!0);else return s.lanes=r.lanes,hr(r,s,p)}return am(r,s,l,c,p)}function EE(r,s,l){var c=s.pendingProps,p=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,r!==null){for(p=s.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return TE(r,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&yh(s,y!==null?y.cachePool:null),y!==null?_0(s,y):Bp(),oE(s);else return s.lanes=s.childLanes=536870912,TE(r,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(yh(s,y.cachePool),_0(s,y),Qr(),s.memoizedState=null):(r!==null&&yh(s,null),Bp(),Qr());return qt(r,s,p,l),s.child}function TE(r,s,l,c){var p=Np();return p=p===null?null:{parent:Ot._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},r!==null&&yh(s,null),Bp(),oE(s),r!==null&&Gl(r,s,c,!0),null}function Mh(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function am(r,s,l,c,p){return ha(s),l=zp(r,s,l,c,void 0,p),c=Hp(),r!==null&&!Ut?(qp(r,s,p),hr(r,s,p)):($e&&c&&Ap(s),s.flags|=1,qt(r,s,l,p),s.child)}function wE(r,s,l,c,p,y){return ha(s),s.updateQueue=null,l=T0(s,c,l,p),E0(r),c=Hp(),r!==null&&!Ut?(qp(r,s,y),hr(r,s,y)):($e&&c&&Ap(s),s.flags|=1,qt(r,s,l,y),s.child)}function SE(r,s,l,c,p){if(ha(s),s.stateNode===null){var y=ao,w=l.contextType;typeof w=="object"&&w!==null&&(y=Zt(w)),y=new l(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=rm,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Vp(s),w=l.contextType,y.context=typeof w=="object"&&w!==null?Zt(w):ao,y.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(im(s,l,w,c),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&rm.enqueueReplaceState(y,y.state,null),Jl(s,c,y,p),Zl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var A=s.memoizedProps,k=pa(l,A);y.props=k;var K=y.context,ee=l.contextType;w=ao,typeof ee=="object"&&ee!==null&&(w=Zt(ee));var re=l.getDerivedStateFromProps;ee=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||K!==w)&&uE(s,y,c,w),qr=!1;var Q=s.memoizedState;y.state=Q,Jl(s,c,y,p),Zl(),K=s.memoizedState,A||Q!==K||qr?(typeof re=="function"&&(im(s,l,re,c),K=s.memoizedState),(k=qr||lE(s,l,k,c,Q,K,w))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=K),y.props=c,y.state=K,y.context=w,c=k):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,kp(r,s),w=s.memoizedProps,ee=pa(l,w),y.props=ee,re=s.pendingProps,Q=y.context,K=l.contextType,k=ao,typeof K=="object"&&K!==null&&(k=Zt(K)),A=l.getDerivedStateFromProps,(K=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==re||Q!==k)&&uE(s,y,c,k),qr=!1,Q=s.memoizedState,y.state=Q,Jl(s,c,y,p),Zl();var W=s.memoizedState;w!==re||Q!==W||qr||r!==null&&r.dependencies!==null&&mh(r.dependencies)?(typeof A=="function"&&(im(s,l,A,c),W=s.memoizedState),(ee=qr||lE(s,l,ee,c,Q,W,k)||r!==null&&r.dependencies!==null&&mh(r.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,W,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,W,k)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=W),y.props=c,y.state=W,y.context=k,c=ee):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,Mh(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=yo(s,r.child,null,p),s.child=yo(s,null,l,p)):qt(r,s,l,p),s.memoizedState=y.state,r=s.child):r=hr(r,s,p),r}function bE(r,s,l,c){return ql(),s.flags|=256,qt(r,s,l,c),s.child}var om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(r){return{baseLanes:r,cachePool:h0()}}function um(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Gn),r}function AE(r,s,l){var c=s.pendingProps,p=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=r!==null&&r.memoizedState===null?!1:(Pt.current&2)!==0),w&&(p=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,r===null){if($e){if(p?Yr(s):Qr(),$e){var A=dt,k;if(k=A){e:{for(k=A,A=Ii;k.nodeType!==8;){if(!A){A=null;break e}if(k=oi(k.nextSibling),k===null){A=null;break e}}A=k}A!==null?(s.memoizedState={dehydrated:A,treeContext:aa!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},k=An(18,null,null,0),k.stateNode=A,k.return=s,s.child=k,hn=s,dt=null,k=!0):k=!1}k||ua(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Gm(A)?s.lanes=32:s.lanes=536870912,null;cr(s)}return A=c.children,c=c.fallback,p?(Qr(),p=s.mode,A=Vh({mode:"hidden",children:A},p),c=sa(c,p,l,null),A.return=s,c.return=s,A.sibling=c,s.child=A,p=s.child,p.memoizedState=lm(l),p.childLanes=um(r,w,l),s.memoizedState=om,c):(Yr(s),cm(s,A))}if(k=r.memoizedState,k!==null&&(A=k.dehydrated,A!==null)){if(y)s.flags&256?(Yr(s),s.flags&=-257,s=hm(r,s,l)):s.memoizedState!==null?(Qr(),s.child=r.child,s.flags|=128,s=null):(Qr(),p=c.fallback,A=s.mode,c=Vh({mode:"visible",children:c.children},A),p=sa(p,A,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,yo(s,r.child,null,l),c=s.child,c.memoizedState=lm(l),c.childLanes=um(r,w,l),s.memoizedState=om,s=p);else if(Yr(s),Gm(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var K=w.dgst;w=K,c=Error(i(419)),c.stack="",c.digest=w,$l({value:c,source:null,stack:null}),s=hm(r,s,l)}else if(Ut||Gl(r,s,l,!1),w=(l&r.childLanes)!==0,Ut||w){if(w=rt,w!==null&&(c=l&-l,c=(c&42)!==0?1:kr(c),c=(c&(w.suspendedLanes|l))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,so(r,c),Dn(w,r,c),gE;A.data==="$?"||xm(),s=hm(r,s,l)}else A.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=k.treeContext,dt=oi(A.nextSibling),hn=s,$e=!0,la=null,Ii=!1,r!==null&&(Hn[qn++]=sr,Hn[qn++]=ar,Hn[qn++]=aa,sr=r.id,ar=r.overflow,aa=s),s=cm(s,c.children),s.flags|=4096);return s}return p?(Qr(),p=c.fallback,A=s.mode,k=r.child,K=k.sibling,c=rr(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,K!==null?p=rr(K,p):(p=sa(p,A,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,A=r.child.memoizedState,A===null?A=lm(l):(k=A.cachePool,k!==null?(K=Ot._currentValue,k=k.parent!==K?{parent:K,pool:K}:k):k=h0(),A={baseLanes:A.baseLanes|l,cachePool:k}),p.memoizedState=A,p.childLanes=um(r,w,l),s.memoizedState=om,c):(Yr(s),l=r.child,r=l.sibling,l=rr(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,r!==null&&(w=s.deletions,w===null?(s.deletions=[r],s.flags|=16):w.push(r)),s.child=l,s.memoizedState=null,l)}function cm(r,s){return s=Vh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Vh(r,s){return r=An(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function hm(r,s,l){return yo(s,r.child,null,l),r=cm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function RE(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),xp(r.return,s,l)}function fm(r,s,l,c,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function CE(r,s,l){var c=s.pendingProps,p=c.revealOrder,y=c.tail;if(qt(r,s,c.children,l),c=Pt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&RE(r,l,s);else if(r.tag===19)RE(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(le(Pt,c),p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Oh(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),fm(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Oh(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}fm(s,!0,l,null,y);break;case"together":fm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),es|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Gl(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=rr(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=rr(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function dm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&mh(r)))}function xD(r,s,l){switch(s.tag){case 3:it(s,s.stateNode.containerInfo),Hr(s,Ot,r.memoizedState.cache),ql();break;case 27:case 5:Vr(s);break;case 4:it(s,s.stateNode.containerInfo);break;case 10:Hr(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Yr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?AE(r,s,l):(Yr(s),r=hr(r,s,l),r!==null?r.sibling:null);Yr(s);break;case 19:var p=(r.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Gl(r,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return CE(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le(Pt,Pt.current),c)break;return null;case 22:case 23:return s.lanes=0,EE(r,s,l);case 24:Hr(s,Ot,r.memoizedState.cache)}return hr(r,s,l)}function IE(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ut=!0;else{if(!dm(r,l)&&(s.flags&128)===0)return Ut=!1,xD(r,s,l);Ut=(r.flags&131072)!==0}else Ut=!1,$e&&(s.flags&1048576)!==0&&r0(s,ph,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")wp(c)?(r=pa(c,r),s.tag=1,s=SE(null,s,c,r,l)):(s.tag=0,s=am(null,s,c,r,l));else{if(c!=null){if(p=c.$$typeof,p===te){s.tag=11,s=yE(null,s,c,r,l);break e}else if(p===O){s.tag=14,s=vE(null,s,c,r,l);break e}}throw s=Le(c)||c,Error(i(306,s,""))}}return s;case 0:return am(r,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=pa(c,s.pendingProps),SE(r,s,c,p,l);case 3:e:{if(it(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;p=y.element,kp(r,s),Jl(s,c,null,l);var w=s.memoizedState;if(c=w.cache,Hr(s,Ot,c),c!==y.cache&&Dp(s,[Ot],l,!0),Zl(),c=w.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=bE(r,s,c,l);break e}else if(c!==p){p=Fn(Error(i(424)),s),$l(p),s=bE(r,s,c,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(dt=oi(r.firstChild),hn=s,$e=!0,la=null,Ii=!0,l=aE(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ql(),c===p){s=hr(r,s,l);break e}qt(r,s,c,l)}s=s.child}return s;case 26:return Mh(r,s),r===null?(l=PT(s.type,null,s.pendingProps,null))?s.memoizedState=l:$e||(l=s.type,r=s.pendingProps,c=Qh(Ae.current).createElement(l),c[It]=s,c[wt]=r,Gt(c,l,r),yt(c),s.stateNode=c):s.memoizedState=PT(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Vr(s),r===null&&$e&&(c=s.stateNode=xT(s.type,s.pendingProps,Ae.current),hn=s,Ii=!0,p=dt,rs(s.type)?(Km=p,dt=oi(c.firstChild)):dt=p),qt(r,s,s.pendingProps.children,l),Mh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&$e&&((p=c=dt)&&(c=iO(c,s.type,s.pendingProps,Ii),c!==null?(s.stateNode=c,hn=s,dt=oi(c.firstChild),Ii=!1,p=!0):p=!1),p||ua(s)),Vr(s),p=s.type,y=s.pendingProps,w=r!==null?r.memoizedProps:null,c=y.children,Hm(p,y)?c=null:w!==null&&Hm(p,w)&&(s.flags|=32),s.memoizedState!==null&&(p=zp(r,s,TD,null,null,l),Tu._currentValue=p),Mh(r,s),qt(r,s,c,l),s.child;case 6:return r===null&&$e&&((r=l=dt)&&(l=rO(l,s.pendingProps,Ii),l!==null?(s.stateNode=l,hn=s,dt=null,r=!0):r=!1),r||ua(s)),null;case 13:return AE(r,s,l);case 4:return it(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=yo(s,null,c,l):qt(r,s,c,l),s.child;case 11:return yE(r,s,s.type,s.pendingProps,l);case 7:return qt(r,s,s.pendingProps,l),s.child;case 8:return qt(r,s,s.pendingProps.children,l),s.child;case 12:return qt(r,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Hr(s,s.type,c.value),qt(r,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,ha(s),p=Zt(p),c=c(p),s.flags|=1,qt(r,s,c,l),s.child;case 14:return vE(r,s,s.type,s.pendingProps,l);case 15:return _E(r,s,s.type,s.pendingProps,l);case 19:return CE(r,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},r===null?(l=Vh(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=rr(r.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return EE(r,s,l);case 24:return ha(s),c=Zt(Ot),r===null?(p=Np(),p===null&&(p=rt,y=Op(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),s.memoizedState={parent:c,cache:p},Vp(s),Hr(s,Ot,p)):((r.lanes&l)!==0&&(kp(r,s),Jl(s,null,null,l),Zl()),p=r.memoizedState,y=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Hr(s,Ot,c)):(c=y.cache,Hr(s,Ot,c),c!==p.cache&&Dp(s,[Ot],l,!0))),qt(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function fr(r){r.flags|=4}function xE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!LT(s)){if(s=$n.current,s!==null&&((ze&4194048)===ze?xi!==null:(ze&62914560)!==ze&&(ze&536870912)===0||s!==xi))throw Wl=Mp,f0;r.flags|=8192}}function kh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Sl():536870912,r.lanes|=s,To|=s)}function au(r,s){if(!$e)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function lt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function DD(r,s,l){var c=s.pendingProps;switch(Rp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return l=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),lr(Ot),gi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Hl(s)?fr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,o0())),lt(s),null;case 26:return l=s.memoizedState,r===null?(fr(s),l!==null?(lt(s),xE(s,l)):(lt(s),s.flags&=-16777217)):l?l!==r.memoizedState?(fr(s),lt(s),xE(s,l)):(lt(s),s.flags&=-16777217):(r.memoizedProps!==c&&fr(s),lt(s),s.flags&=-16777217),null;case 27:$i(s),l=Ae.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&fr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return lt(s),null}r=ye.current,Hl(s)?s0(s):(r=xT(p,c,l),s.stateNode=r,fr(s))}return lt(s),null;case 5:if($i(s),l=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&fr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return lt(s),null}if(r=ye.current,Hl(s))s0(s);else{switch(p=Qh(Ae.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}r[It]=s,r[wt]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(Gt(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&fr(s)}}return lt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&fr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ae.current,Hl(s)){if(r=s.stateNode,l=s.memoizedProps,c=null,p=hn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[It]=s,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||wT(r.nodeValue,l)),r||ua(s)}else r=Qh(r).createTextNode(c),r[It]=s,s.stateNode=r}return lt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Hl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[It]=s}else ql(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),p=!1}else p=o0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(cr(s),s):(cr(s),null)}if(cr(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==r&&l&&(s.child.flags|=8192),kh(s,s.updateQueue),lt(s),null;case 4:return gi(),r===null&&Um(s.stateNode.containerInfo),lt(s),null;case 10:return lr(s.type),lt(s),null;case 19:if(ce(Pt),p=s.memoizedState,p===null)return lt(s),null;if(c=(s.flags&128)!==0,y=p.rendering,y===null)if(c)au(p,!1);else{if(pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Oh(r),y!==null){for(s.flags|=128,au(p,!1),r=y.updateQueue,s.updateQueue=r,kh(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)i0(l,r),l=l.sibling;return le(Pt,Pt.current&1|2),s.child}r=r.sibling}p.tail!==null&&Vn()>Bh&&(s.flags|=128,c=!0,au(p,!1),s.lanes=4194304)}else{if(!c)if(r=Oh(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,kh(s,r),au(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!$e)return lt(s),null}else 2*Vn()-p.renderingStartTime>Bh&&l!==536870912&&(s.flags|=128,c=!0,au(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(r=p.last,r!==null?r.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Vn(),s.sibling=null,r=Pt.current,le(Pt,c?r&1|2:r&1),s):(lt(s),null);case 22:case 23:return cr(s),jp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),l=s.updateQueue,l!==null&&kh(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),r!==null&&ce(fa),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),lr(Ot),lt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function OD(r,s){switch(Rp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return lr(Ot),gi(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return $i(s),null;case 13:if(cr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ql()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ce(Pt),null;case 4:return gi(),null;case 10:return lr(s.type),null;case 22:case 23:return cr(s),jp(),r!==null&&ce(fa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return lr(Ot),null;case 25:return null;default:return null}}function DE(r,s){switch(Rp(s),s.tag){case 3:lr(Ot),gi();break;case 26:case 27:case 5:$i(s);break;case 4:gi();break;case 13:cr(s);break;case 19:ce(Pt);break;case 10:lr(s.type);break;case 22:case 23:cr(s),jp(),r!==null&&ce(fa);break;case 24:lr(Ot)}}function ou(r,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var y=l.create,w=l.inst;c=y(),w.destroy=c}l=l.next}while(l!==p)}}catch(A){tt(s,s.return,A)}}function Wr(r,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var w=c.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,p=s;var k=l,K=A;try{K()}catch(ee){tt(p,k,ee)}}}c=c.next}while(c!==y)}}catch(ee){tt(s,s.return,ee)}}function OE(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{v0(s,l)}catch(c){tt(r,r.return,c)}}}function PE(r,s,l){l.props=pa(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){tt(r,s,c)}}function lu(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){tt(r,s,p)}}function Di(r,s){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){tt(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){tt(r,s,p)}else l.current=null}function NE(r){var s=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){tt(r,r.return,p)}}function pm(r,s,l){try{var c=r.stateNode;ZD(c,r.type,l,s),c[wt]=s}catch(p){tt(r,r.return,p)}}function ME(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&rs(r.type)||r.tag===4}function mm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ME(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&rs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gm(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Yh));else if(c!==4&&(c===27&&rs(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(gm(r,s,l),r=r.sibling;r!==null;)gm(r,s,l),r=r.sibling}function Lh(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(c===27&&rs(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Lh(r,s,l),r=r.sibling;r!==null;)Lh(r,s,l),r=r.sibling}function VE(r){var s=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Gt(s,c,l),s[It]=r,s[wt]=l}catch(y){tt(r,r.return,y)}}var dr=!1,_t=!1,ym=!1,kE=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function PD(r,s){if(r=r.containerInfo,Fm=tf,r=K_(r),mp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,A=-1,k=-1,K=0,ee=0,re=r,Q=null;t:for(;;){for(var W;re!==l||p!==0&&re.nodeType!==3||(A=w+p),re!==y||c!==0&&re.nodeType!==3||(k=w+c),re.nodeType===3&&(w+=re.nodeValue.length),(W=re.firstChild)!==null;)Q=re,re=W;for(;;){if(re===r)break t;if(Q===l&&++K===p&&(A=w),Q===y&&++ee===c&&(k=w),(W=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=W}l=A===-1||k===-1?null:{start:A,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(zm={focusedElem:r,selectionRange:l},tf=!1,Bt=s;Bt!==null;)if(s=Bt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Bt=r;else for(;Bt!==null;){switch(s=Bt,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=s,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Se=pa(l.type,p,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(Se,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(ve){tt(l,l.return,ve)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)$m(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$m(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Bt=r;break}Bt=s.return}}function LE(r,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Xr(r,l),c&4&&ou(5,l);break;case 1:if(Xr(r,l),c&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(w){tt(l,l.return,w)}else{var p=pa(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){tt(l,l.return,w)}}c&64&&OE(l),c&512&&lu(l,l.return);break;case 3:if(Xr(r,l),c&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{v0(r,s)}catch(w){tt(l,l.return,w)}}break;case 27:s===null&&c&4&&VE(l);case 26:case 5:Xr(r,l),s===null&&c&4&&NE(l),c&512&&lu(l,l.return);break;case 12:Xr(r,l);break;case 13:Xr(r,l),c&4&&jE(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=FD.bind(null,l),sO(r,l))));break;case 22:if(c=l.memoizedState!==null||dr,!c){s=s!==null&&s.memoizedState!==null||_t,p=dr;var y=_t;dr=c,(_t=s)&&!y?Zr(r,l,(l.subtreeFlags&8772)!==0):Xr(r,l),dr=p,_t=y}break;case 30:break;default:Xr(r,l)}}function UE(r){var s=r.alternate;s!==null&&(r.alternate=null,UE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Br(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ot=null,gn=!1;function pr(r,s,l){for(l=l.child;l!==null;)BE(r,s,l),l=l.sibling}function BE(r,s,l){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ft,l)}catch{}switch(l.tag){case 26:_t||Di(l,s),pr(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:_t||Di(l,s);var c=ot,p=gn;rs(l.type)&&(ot=l.stateNode,gn=!1),pr(r,s,l),yu(l.stateNode),ot=c,gn=p;break;case 5:_t||Di(l,s);case 6:if(c=ot,p=gn,ot=null,pr(r,s,l),ot=c,gn=p,ot!==null)if(gn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(l.stateNode)}catch(y){tt(l,s,y)}else try{ot.removeChild(l.stateNode)}catch(y){tt(l,s,y)}break;case 18:ot!==null&&(gn?(r=ot,CT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Au(r)):CT(ot,l.stateNode));break;case 4:c=ot,p=gn,ot=l.stateNode.containerInfo,gn=!0,pr(r,s,l),ot=c,gn=p;break;case 0:case 11:case 14:case 15:_t||Wr(2,l,s),_t||Wr(4,l,s),pr(r,s,l);break;case 1:_t||(Di(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&PE(l,s,c)),pr(r,s,l);break;case 21:pr(r,s,l);break;case 22:_t=(c=_t)||l.memoizedState!==null,pr(r,s,l),_t=c;break;default:pr(r,s,l)}}function jE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Au(r)}catch(l){tt(s,s.return,l)}}function ND(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new kE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new kE),s;default:throw Error(i(435,r.tag))}}function vm(r,s){var l=ND(r);s.forEach(function(c){var p=zD.bind(null,r,c);l.has(c)||(l.add(c),c.then(p,p))})}function Rn(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=r,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(rs(A.type)){ot=A.stateNode,gn=!1;break e}break;case 5:ot=A.stateNode,gn=!1;break e;case 3:case 4:ot=A.stateNode.containerInfo,gn=!0;break e}A=A.return}if(ot===null)throw Error(i(160));BE(y,w,p),ot=null,gn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)FE(s,r),s=s.sibling}var ai=null;function FE(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Rn(s,r),Cn(r),c&4&&(Wr(3,r,r.return),ou(3,r),Wr(5,r,r.return));break;case 1:Rn(s,r),Cn(r),c&512&&(_t||l===null||Di(l,l.return)),c&64&&dr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=ai;if(Rn(s,r),Cn(r),c&512&&(_t||l===null||Di(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Hs]||y[It]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),Gt(y,c,l),y[It]=r,yt(y),c=y;break e;case"link":var w=VT("link","href",p).get(c+(l.href||""));if(w){for(var A=0;A<w.length;A++)if(y=w[A],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(A,1);break t}}y=p.createElement(c),Gt(y,c,l),p.head.appendChild(y);break;case"meta":if(w=VT("meta","content",p).get(c+(l.content||""))){for(A=0;A<w.length;A++)if(y=w[A],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(A,1);break t}}y=p.createElement(c),Gt(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[It]=r,yt(y),c=y}r.stateNode=c}else kT(p,r.type,r.stateNode);else r.stateNode=MT(p,c,r.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?kT(p,r.type,r.stateNode):MT(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&pm(r,r.memoizedProps,l.memoizedProps)}break;case 27:Rn(s,r),Cn(r),c&512&&(_t||l===null||Di(l,l.return)),l!==null&&c&4&&pm(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Rn(s,r),Cn(r),c&512&&(_t||l===null||Di(l,l.return)),r.flags&32){p=r.stateNode;try{Ln(p,"")}catch(W){tt(r,r.return,W)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,pm(r,p,l!==null?l.memoizedProps:p)),c&1024&&(ym=!0);break;case 6:if(Rn(s,r),Cn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(W){tt(r,r.return,W)}}break;case 3:if(Zh=null,p=ai,ai=Wh(s.containerInfo),Rn(s,r),ai=p,Cn(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Au(s.containerInfo)}catch(W){tt(r,r.return,W)}ym&&(ym=!1,zE(r));break;case 4:c=ai,ai=Wh(r.stateNode.containerInfo),Rn(s,r),Cn(r),ai=c;break;case 12:Rn(s,r),Cn(r);break;case 13:Rn(s,r),Cn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bm=Vn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,vm(r,c)));break;case 22:p=r.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,K=dr,ee=_t;if(dr=K||p,_t=ee||k,Rn(s,r),_t=ee,dr=K,Cn(r),c&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||k||dr||_t||ma(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){k=l=s;try{if(y=k.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=k.stateNode;var re=k.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(W){tt(k,k.return,W)}}}else if(s.tag===6){if(l===null){k=s;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(W){tt(k,k.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,vm(r,l))));break;case 19:Rn(s,r),Cn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,vm(r,c)));break;case 30:break;case 21:break;default:Rn(s,r),Cn(r)}}function Cn(r){var s=r.flags;if(s&2){try{for(var l,c=r.return;c!==null;){if(ME(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=mm(r);Lh(r,y,p);break;case 5:var w=l.stateNode;l.flags&32&&(Ln(w,""),l.flags&=-33);var A=mm(r);Lh(r,A,w);break;case 3:case 4:var k=l.stateNode.containerInfo,K=mm(r);gm(r,K,k);break;default:throw Error(i(161))}}catch(ee){tt(r,r.return,ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function zE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;zE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Xr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)LE(r,s.alternate,s),s=s.sibling}function ma(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Wr(4,s,s.return),ma(s);break;case 1:Di(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&PE(s,s.return,l),ma(s);break;case 27:yu(s.stateNode);case 26:case 5:Di(s,s.return),ma(s);break;case 22:s.memoizedState===null&&ma(s);break;case 30:ma(s);break;default:ma(s)}r=r.sibling}}function Zr(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=r,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:Zr(p,y,l),ou(4,y);break;case 1:if(Zr(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){tt(c,c.return,K)}if(c=y,p=c.updateQueue,p!==null){var A=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)y0(k[p],A)}catch(K){tt(c,c.return,K)}}l&&w&64&&OE(y),lu(y,y.return);break;case 27:VE(y);case 26:case 5:Zr(p,y,l),l&&c===null&&w&4&&NE(y),lu(y,y.return);break;case 12:Zr(p,y,l);break;case 13:Zr(p,y,l),l&&w&4&&jE(p,y);break;case 22:y.memoizedState===null&&Zr(p,y,l),lu(y,y.return);break;case 30:break;default:Zr(p,y,l)}s=s.sibling}}function _m(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Kl(l))}function Em(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r))}function Oi(r,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)HE(r,s,l,c),s=s.sibling}function HE(r,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Oi(r,s,l,c),p&2048&&ou(9,s);break;case 1:Oi(r,s,l,c);break;case 3:Oi(r,s,l,c),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r)));break;case 12:if(p&2048){Oi(r,s,l,c),r=s.stateNode;try{var y=s.memoizedProps,w=y.id,A=y.onPostCommit;typeof A=="function"&&A(w,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){tt(s,s.return,k)}}else Oi(r,s,l,c);break;case 13:Oi(r,s,l,c);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Oi(r,s,l,c):uu(r,s):y._visibility&2?Oi(r,s,l,c):(y._visibility|=2,vo(r,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&_m(w,s);break;case 24:Oi(r,s,l,c),p&2048&&Em(s.alternate,s);break;default:Oi(r,s,l,c)}}function vo(r,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,w=s,A=l,k=c,K=w.flags;switch(w.tag){case 0:case 11:case 15:vo(y,w,A,k,p),ou(8,w);break;case 23:break;case 22:var ee=w.stateNode;w.memoizedState!==null?ee._visibility&2?vo(y,w,A,k,p):uu(y,w):(ee._visibility|=2,vo(y,w,A,k,p)),p&&K&2048&&_m(w.alternate,w);break;case 24:vo(y,w,A,k,p),p&&K&2048&&Em(w.alternate,w);break;default:vo(y,w,A,k,p)}s=s.sibling}}function uu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,c=s,p=c.flags;switch(c.tag){case 22:uu(l,c),p&2048&&_m(c.alternate,c);break;case 24:uu(l,c),p&2048&&Em(c.alternate,c);break;default:uu(l,c)}s=s.sibling}}var cu=8192;function _o(r){if(r.subtreeFlags&cu)for(r=r.child;r!==null;)qE(r),r=r.sibling}function qE(r){switch(r.tag){case 26:_o(r),r.flags&cu&&r.memoizedState!==null&&vO(ai,r.memoizedState,r.memoizedProps);break;case 5:_o(r);break;case 3:case 4:var s=ai;ai=Wh(r.stateNode.containerInfo),_o(r),ai=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=cu,cu=16777216,_o(r),cu=s):_o(r));break;default:_o(r)}}function $E(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function hu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Bt=c,KE(c,r)}$E(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)GE(r),r=r.sibling}function GE(r){switch(r.tag){case 0:case 11:case 15:hu(r),r.flags&2048&&Wr(9,r,r.return);break;case 3:hu(r);break;case 12:hu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Uh(r)):hu(r);break;default:hu(r)}}function Uh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Bt=c,KE(c,r)}$E(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Wr(8,s,s.return),Uh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Uh(s));break;default:Uh(s)}r=r.sibling}}function KE(r,s){for(;Bt!==null;){var l=Bt;switch(l.tag){case 0:case 11:case 15:Wr(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Kl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Bt=c;else e:for(l=r;Bt!==null;){c=Bt;var p=c.sibling,y=c.return;if(UE(c),c===l){Bt=null;break e}if(p!==null){p.return=y,Bt=p;break e}Bt=y}}}var MD={getCacheForType:function(r){var s=Zt(Ot),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l}},VD=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,Ve=null,ze=0,We=0,In=null,Jr=!1,Eo=!1,Tm=!1,mr=0,pt=0,es=0,ga=0,wm=0,Gn=0,To=0,fu=null,yn=null,Sm=!1,bm=0,Bh=1/0,jh=null,ts=null,$t=0,ns=null,wo=null,So=0,Am=0,Rm=null,YE=null,du=0,Cm=null;function xn(){if((Qe&2)!==0&&ze!==0)return ze&-ze;if(Z.T!==null){var r=uo;return r!==0?r:Mm()}return Lr()}function QE(){Gn===0&&(Gn=(ze&536870912)===0||$e?wl():536870912);var r=$n.current;return r!==null&&(r.flags|=32),Gn}function Dn(r,s,l){(r===rt&&(We===2||We===9)||r.cancelPendingCommit!==null)&&(bo(r,0),is(r,ze,Gn,!1)),Ki(r,l),((Qe&2)===0||r!==rt)&&(r===rt&&((Qe&2)===0&&(ga|=l),pt===4&&is(r,ze,Gn,!1)),Pi(r))}function WE(r,s,l){if((Qe&6)!==0)throw Error(i(327));var c=!l&&(s&124)===0&&(s&r.expiredLanes)===0||zs(r,s),p=c?UD(r,s):Dm(r,s,!0),y=c;do{if(p===0){Eo&&!c&&is(r,s,0,!1);break}else{if(l=r.current.alternate,y&&!kD(l)){p=Dm(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var A=r;p=fu;var k=A.current.memoizedState.isDehydrated;if(k&&(bo(A,w).flags|=256),w=Dm(A,w,!1),w!==2){if(Tm&&!k){A.errorRecoveryDisabledLanes|=y,ga|=y,p=4;break e}y=yn,yn=p,y!==null&&(yn===null?yn=y:yn.push.apply(yn,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){bo(r,0),is(r,s,0,!0);break}e:{switch(c=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:is(c,s,Gn,!Jr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=bm+300-Vn(),10<p)){if(is(c,s,Gn,!Jr),ja(c,0,!0)!==0)break e;c.timeoutHandle=AT(XE.bind(null,c,l,yn,jh,Sm,s,Gn,ga,To,Jr,y,2,-0,0),p);break e}XE(c,l,yn,jh,Sm,s,Gn,ga,To,Jr,y,0,-0,0)}}break}while(!0);Pi(r)}function XE(r,s,l,c,p,y,w,A,k,K,ee,re,Q,W){if(r.timeoutHandle=-1,re=s.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Eu={stylesheets:null,count:0,unsuspend:yO},qE(s),re=_O(),re!==null)){r.cancelPendingCommit=re(rT.bind(null,r,s,y,l,c,p,w,A,k,ee,1,Q,W)),is(r,y,w,!K);return}rT(r,s,y,l,c,p,w,A,k)}function kD(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!bn(y(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function is(r,s,l,c){s&=~wm,s&=~ga,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var p=s;0<p;){var y=31-Xt(p),w=1<<y;c[y]=-1,p&=~w}l!==0&&yi(r,l,s)}function Fh(){return(Qe&6)===0?(pu(0),!1):!0}function Im(){if(Ve!==null){if(We===0)var r=Ve.return;else r=Ve,or=ca=null,$p(r),go=null,ru=0,r=Ve;for(;r!==null;)DE(r.alternate,r),r=r.return;Ve=null}}function bo(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,eO(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Im(),rt=r,Ve=l=rr(r.current,null),ze=s,We=0,In=null,Jr=!1,Eo=zs(r,s),Tm=!1,To=Gn=wm=ga=es=pt=0,yn=fu=null,Sm=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var p=31-Xt(c),y=1<<p;s|=r[p],c&=~y}return mr=s,uh(),l}function ZE(r,s){De=null,Z.H=Ih,s===Ql||s===vh?(s=m0(),We=3):s===f0?(s=m0(),We=4):We=s===gE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,Ve===null&&(pt=1,Nh(r,Fn(s,r.current)))}function JE(){var r=Z.H;return Z.H=Ih,r===null?Ih:r}function eT(){var r=Z.A;return Z.A=MD,r}function xm(){pt=4,Jr||(ze&4194048)!==ze&&$n.current!==null||(Eo=!0),(es&134217727)===0&&(ga&134217727)===0||rt===null||is(rt,ze,Gn,!1)}function Dm(r,s,l){var c=Qe;Qe|=2;var p=JE(),y=eT();(rt!==r||ze!==s)&&(jh=null,bo(r,s)),s=!1;var w=pt;e:do try{if(We!==0&&Ve!==null){var A=Ve,k=In;switch(We){case 8:Im(),w=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(s=!0);var K=We;if(We=0,In=null,Ao(r,A,k,K),l&&Eo){w=0;break e}break;default:K=We,We=0,In=null,Ao(r,A,k,K)}}LD(),w=pt;break}catch(ee){ZE(r,ee)}while(!0);return s&&r.shellSuspendCounter++,or=ca=null,Qe=c,Z.H=p,Z.A=y,Ve===null&&(rt=null,ze=0,uh()),w}function LD(){for(;Ve!==null;)tT(Ve)}function UD(r,s){var l=Qe;Qe|=2;var c=JE(),p=eT();rt!==r||ze!==s?(jh=null,Bh=Vn()+500,bo(r,s)):Eo=zs(r,s);e:do try{if(We!==0&&Ve!==null){s=Ve;var y=In;t:switch(We){case 1:We=0,In=null,Ao(r,s,y,1);break;case 2:case 9:if(d0(y)){We=0,In=null,nT(s);break}s=function(){We!==2&&We!==9||rt!==r||(We=7),Pi(r)},y.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:d0(y)?(We=0,In=null,nT(s)):(We=0,In=null,Ao(r,s,y,7));break;case 5:var w=null;switch(Ve.tag){case 26:w=Ve.memoizedState;case 5:case 27:var A=Ve;if(!w||LT(w)){We=0,In=null;var k=A.sibling;if(k!==null)Ve=k;else{var K=A.return;K!==null?(Ve=K,zh(K)):Ve=null}break t}}We=0,In=null,Ao(r,s,y,5);break;case 6:We=0,In=null,Ao(r,s,y,6);break;case 8:Im(),pt=6;break e;default:throw Error(i(462))}}BD();break}catch(ee){ZE(r,ee)}while(!0);return or=ca=null,Z.H=c,Z.A=p,Qe=l,Ve!==null?0:(rt=null,ze=0,uh(),pt)}function BD(){for(;Ve!==null&&!vl();)tT(Ve)}function tT(r){var s=IE(r.alternate,r,mr);r.memoizedProps=r.pendingProps,s===null?zh(r):Ve=s}function nT(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=wE(l,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=wE(l,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:$p(s);default:DE(l,s),s=Ve=i0(s,mr),s=IE(l,s,mr)}r.memoizedProps=r.pendingProps,s===null?zh(r):Ve=s}function Ao(r,s,l,c){or=ca=null,$p(s),go=null,ru=0;var p=s.return;try{if(ID(r,p,s,l,ze)){pt=1,Nh(r,Fn(l,r.current)),Ve=null;return}}catch(y){if(p!==null)throw Ve=p,y;pt=1,Nh(r,Fn(l,r.current)),Ve=null;return}s.flags&32768?($e||c===1?r=!0:Eo||(ze&536870912)!==0?r=!1:(Jr=r=!0,(c===2||c===9||c===3||c===6)&&(c=$n.current,c!==null&&c.tag===13&&(c.flags|=16384))),iT(s,r)):zh(s)}function zh(r){var s=r;do{if((s.flags&32768)!==0){iT(s,Jr);return}r=s.return;var l=DD(s.alternate,s,mr);if(l!==null){Ve=l;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=r}while(s!==null);pt===0&&(pt=5)}function iT(r,s){do{var l=OD(r.alternate,r);if(l!==null){l.flags&=32767,Ve=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Ve=r;return}Ve=r=l}while(r!==null);pt=6,Ve=null}function rT(r,s,l,c,p,y,w,A,k){r.cancelPendingCommit=null;do Hh();while($t!==0);if((Qe&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Ep,bl(r,l,y,w,A,k),r===rt&&(Ve=rt=null,ze=0),wo=s,ns=r,So=l,Am=y,Rm=p,YE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,HD(Us,function(){return uT(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,p=ie.p,ie.p=2,w=Qe,Qe|=4;try{PD(r,s,l)}finally{Qe=w,ie.p=p,Z.T=c}}$t=1,sT(),aT(),oT()}}function sT(){if($t===1){$t=0;var r=ns,s=wo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var c=ie.p;ie.p=2;var p=Qe;Qe|=4;try{FE(s,r);var y=zm,w=K_(r.containerInfo),A=y.focusedElem,k=y.selectionRange;if(w!==A&&A&&A.ownerDocument&&G_(A.ownerDocument.documentElement,A)){if(k!==null&&mp(A)){var K=k.start,ee=k.end;if(ee===void 0&&(ee=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(ee,A.value.length);else{var re=A.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),Se=A.textContent.length,ve=Math.min(k.start,Se),et=k.end===void 0?ve:Math.min(k.end,Se);!W.extend&&ve>et&&(w=et,et=ve,ve=w);var H=$_(A,ve),F=$_(A,et);if(H&&F&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==F.node||W.focusOffset!==F.offset)){var G=re.createRange();G.setStart(H.node,H.offset),W.removeAllRanges(),ve>et?(W.addRange(G),W.extend(F.node,F.offset)):(G.setEnd(F.node,F.offset),W.addRange(G))}}}}for(re=[],W=A;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ne=re[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}tf=!!Fm,zm=Fm=null}finally{Qe=p,ie.p=c,Z.T=l}}r.current=s,$t=2}}function aT(){if($t===2){$t=0;var r=ns,s=wo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var c=ie.p;ie.p=2;var p=Qe;Qe|=4;try{LE(r,s.alternate,s)}finally{Qe=p,ie.p=c,Z.T=l}}$t=3}}function oT(){if($t===4||$t===3){$t=0,Uc();var r=ns,s=wo,l=So,c=YE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$t=5:($t=0,wo=ns=null,lT(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(ts=null),Fa(l),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ft,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Z.T,p=ie.p,ie.p=2,Z.T=null;try{for(var y=r.onRecoverableError,w=0;w<c.length;w++){var A=c[w];y(A.value,{componentStack:A.stack})}}finally{Z.T=s,ie.p=p}}(So&3)!==0&&Hh(),Pi(r),p=r.pendingLanes,(l&4194090)!==0&&(p&42)!==0?r===Cm?du++:(du=0,Cm=r):du=0,pu(0)}}function lT(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Kl(s)))}function Hh(r){return sT(),aT(),oT(),uT()}function uT(){if($t!==5)return!1;var r=ns,s=Am;Am=0;var l=Fa(So),c=Z.T,p=ie.p;try{ie.p=32>l?32:l,Z.T=null,l=Rm,Rm=null;var y=ns,w=So;if($t=0,wo=ns=null,So=0,(Qe&6)!==0)throw Error(i(331));var A=Qe;if(Qe|=4,GE(y.current),HE(y,y.current,w,l),Qe=A,pu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ft,y)}catch{}return!0}finally{ie.p=p,Z.T=c,lT(r,s)}}function cT(r,s,l){s=Fn(l,s),s=sm(r.stateNode,s,2),r=Gr(r,s,2),r!==null&&(Ki(r,2),Pi(r))}function tt(r,s,l){if(r.tag===3)cT(r,r,l);else for(;s!==null;){if(s.tag===3){cT(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ts===null||!ts.has(c))){r=Fn(l,r),l=pE(2),c=Gr(s,l,2),c!==null&&(mE(l,c,s,r),Ki(c,2),Pi(c));break}}s=s.return}}function Om(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new VD;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(Tm=!0,p.add(l),r=jD.bind(null,r,s,l),s.then(r,r))}function jD(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,rt===r&&(ze&l)===l&&(pt===4||pt===3&&(ze&62914560)===ze&&300>Vn()-bm?(Qe&2)===0&&bo(r,0):wm|=l,To===ze&&(To=0)),Pi(r)}function hT(r,s){s===0&&(s=Sl()),r=so(r,s),r!==null&&(Ki(r,s),Pi(r))}function FD(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),hT(r,l)}function zD(r,s){var l=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),hT(r,l)}function HD(r,s){return ks(r,s)}var qh=null,Ro=null,Pm=!1,$h=!1,Nm=!1,ya=0;function Pi(r){r!==Ro&&r.next===null&&(Ro===null?qh=Ro=r:Ro=Ro.next=r),$h=!0,Pm||(Pm=!0,$D())}function pu(r,s){if(!Nm&&$h){Nm=!0;do for(var l=!1,c=qh;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var w=c.suspendedLanes,A=c.pingedLanes;y=(1<<31-Xt(42|r)+1)-1,y&=p&~(w&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,mT(c,y))}else y=ze,y=ja(c,c===rt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||zs(c,y)||(l=!0,mT(c,y));c=c.next}while(l);Nm=!1}}function qD(){fT()}function fT(){$h=Pm=!1;var r=0;ya!==0&&(JD()&&(r=ya),ya=0);for(var s=Vn(),l=null,c=qh;c!==null;){var p=c.next,y=dT(c,s);y===0?(c.next=null,l===null?qh=p:l.next=p,p===null&&(Ro=l)):(l=c,(r!==0||(y&3)!==0)&&($h=!0)),c=p}pu(r)}function dT(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var w=31-Xt(y),A=1<<w,k=p[w];k===-1?((A&l)===0||(A&c)!==0)&&(p[w]=Tl(A,s)):k<=s&&(r.expiredLanes|=A),y&=~A}if(s=rt,l=ze,l=ja(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===s&&(We===2||We===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ls(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||zs(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(c!==null&&Ls(c),Fa(l)){case 2:case 8:l=Ua;break;case 32:l=Us;break;case 268435456:l=Ba;break;default:l=Us}return c=pT.bind(null,r),l=ks(l,c),r.callbackPriority=s,r.callbackNode=l,s}return c!==null&&c!==null&&Ls(c),r.callbackPriority=2,r.callbackNode=null,2}function pT(r,s){if($t!==0&&$t!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Hh()&&r.callbackNode!==l)return null;var c=ze;return c=ja(r,r===rt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(WE(r,c,s),dT(r,Vn()),r.callbackNode!=null&&r.callbackNode===l?pT.bind(null,r):null)}function mT(r,s){if(Hh())return null;WE(r,s,!0)}function $D(){tO(function(){(Qe&6)!==0?ks(_l,qD):fT()})}function Mm(){return ya===0&&(ya=wl()),ya}function gT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ka(""+r)}function yT(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function GD(r,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var y=gT((p[wt]||null).action),w=c.submitter;w&&(s=(s=w[wt]||null)?gT(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var A=new Ya("action","action",null,c,p);r.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ya!==0){var k=w?yT(p,w):new FormData(p);em(l,{pending:!0,data:k,method:p.method,action:y},null,k)}}else typeof y=="function"&&(A.preventDefault(),k=w?yT(p,w):new FormData(p),em(l,{pending:!0,data:k,method:p.method,action:y},y,k))},currentTarget:p}]})}}for(var Vm=0;Vm<_p.length;Vm++){var km=_p[Vm],KD=km.toLowerCase(),YD=km[0].toUpperCase()+km.slice(1);si(KD,"on"+YD)}si(W_,"onAnimationEnd"),si(X_,"onAnimationIteration"),si(Z_,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(hD,"onTransitionRun"),si(fD,"onTransitionStart"),si(dD,"onTransitionCancel"),si(J_,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function vT(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var w=c.length-1;0<=w;w--){var A=c[w],k=A.instance,K=A.currentTarget;if(A=A.listener,k!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=K;try{y(p)}catch(ee){Ph(ee)}p.currentTarget=null,y=k}else for(w=0;w<c.length;w++){if(A=c[w],k=A.instance,K=A.currentTarget,A=A.listener,k!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=K;try{y(p)}catch(ee){Ph(ee)}p.currentTarget=null,y=k}}}}function ke(r,s){var l=s[Rl];l===void 0&&(l=s[Rl]=new Set);var c=r+"__bubble";l.has(c)||(_T(s,r,2,!1),l.add(c))}function Lm(r,s,l){var c=0;s&&(c|=4),_T(l,r,c,s)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function Um(r){if(!r[Gh]){r[Gh]=!0,Cl.forEach(function(l){l!=="selectionchange"&&(QD.has(l)||Lm(l,!1,r),Lm(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Gh]||(s[Gh]=!0,Lm("selectionchange",!1,s))}}function _T(r,s,l,c){switch(HT(s)){case 2:var p=wO;break;case 8:p=SO;break;default:p=Zm}l=p.bind(null,s,l,r),p=void 0,!Bn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Bm(r,s,l,c,p){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===p)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;A!==null;){if(w=Yi(A),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){c=y=w;continue e}A=A.parentNode}}c=c.return}Yc(function(){var K=y,ee=Un(l),re=[];e:{var Q=e0.get(r);if(Q!==void 0){var W=Ya,Se=r;switch(r){case"keypress":if(Si(l)===0)break e;case"keydown":case"keyup":W=eo;break;case"focusin":Se="focus",W=Xa;break;case"focusout":Se="blur",W=Xa;break;case"beforeblur":case"afterblur":W=Xa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=nh;break;case W_:case X_:case Z_:W=Za;break;case J_:W=rh;break;case"scroll":case"scrollend":W=Qc;break;case"wheel":W=to;break;case"copy":case"cut":case"paste":W=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Bl;break;case"toggle":case"beforetoggle":W=ah}var ve=(s&4)!==0,et=!ve&&(r==="scroll"||r==="scrollend"),H=ve?Q!==null?Q+"Capture":null:Q;ve=[];for(var F=K,G;F!==null;){var ne=F;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||H===null||(ne=Ws(F,H),ne!=null&&ve.push(gu(F,ne,G))),et)break;F=F.return}0<ve.length&&(Q=new W(Q,Se,null,l,ee),re.push({event:Q,listeners:ve}))}}if((s&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",Q&&l!==Zi&&(Se=l.relatedTarget||l.fromElement)&&(Yi(Se)||Se[kn]))break e;if((W||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(Se=l.relatedTarget||l.toElement,W=K,Se=Se?Yi(Se):null,Se!==null&&(et=o(Se),ve=Se.tag,Se!==et||ve!==5&&ve!==27&&ve!==6)&&(Se=null)):(W=null,Se=K),W!==Se)){if(ve=jn,ne="onMouseLeave",H="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(ve=Bl,ne="onPointerLeave",H="onPointerEnter",F="pointer"),et=W==null?Q:_i(W),G=Se==null?Q:_i(Se),Q=new ve(ne,F+"leave",W,l,ee),Q.target=et,Q.relatedTarget=G,ne=null,Yi(ee)===K&&(ve=new ve(H,F+"enter",Se,l,ee),ve.target=G,ve.relatedTarget=et,ne=ve),et=ne,W&&Se)t:{for(ve=W,H=Se,F=0,G=ve;G;G=Co(G))F++;for(G=0,ne=H;ne;ne=Co(ne))G++;for(;0<F-G;)ve=Co(ve),F--;for(;0<G-F;)H=Co(H),G--;for(;F--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=Co(ve),H=Co(H)}ve=null}else ve=null;W!==null&&ET(re,Q,W,ve,!1),Se!==null&&et!==null&&ET(re,et,Se,ve,!0)}}e:{if(Q=K?_i(K):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var pe=B_;else if(Dt(Q))if(j_)pe=lD;else{pe=aD;var Me=sD}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Pl(K.elementType)&&(pe=B_):pe=oD;if(pe&&(pe=pe(r,K))){ir(re,pe,l,ee);break e}Me&&Me(r,Q,K),r==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Fr(Q,"number",Q.value)}switch(Me=K?_i(K):window,r){case"focusin":(Dt(Me)||Me.contentEditable==="true")&&(no=Me,gp=K,zl=null);break;case"focusout":zl=gp=no=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,Y_(re,l,ee);break;case"selectionchange":if(cD)break;case"keydown":case"keyup":Y_(re,l,ee)}var me;if(Ri)e:{switch(r){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else je?X(r,l)&&(_e="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(_e="onCompositionStart");_e&&(T&&l.locale!=="ko"&&(je||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&je&&(me=Ml()):(wi=ee,zr="value"in wi?wi.value:wi.textContent,je=!0)),Me=Kh(K,_e),0<Me.length&&(_e=new Ll(_e,r,null,l,ee),re.push({event:_e,listeners:Me}),me?_e.data=me:(me=ue(l),me!==null&&(_e.data=me)))),(me=v?xt(r,l):Fe(r,l))&&(_e=Kh(K,"onBeforeInput"),0<_e.length&&(Me=new Ll("onBeforeInput","beforeinput",null,l,ee),re.push({event:Me,listeners:_e}),Me.data=me)),GD(re,r,K,l,ee)}vT(re,s)})}function gu(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Kh(r,s){for(var l=s+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ws(r,l),p!=null&&c.unshift(gu(r,p,y)),p=Ws(r,s),p!=null&&c.push(gu(r,p,y))),r.tag===3)return c;r=r.return}return[]}function Co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ET(r,s,l,c,p){for(var y=s._reactName,w=[];l!==null&&l!==c;){var A=l,k=A.alternate,K=A.stateNode;if(A=A.tag,k!==null&&k===c)break;A!==5&&A!==26&&A!==27||K===null||(k=K,p?(K=Ws(l,y),K!=null&&w.unshift(gu(l,K,k))):p||(K=Ws(l,y),K!=null&&w.push(gu(l,K,k)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var WD=/\r\n?/g,XD=/\u0000|\uFFFD/g;function TT(r){return(typeof r=="string"?r:""+r).replace(WD,`
`).replace(XD,"")}function wT(r,s){return s=TT(s),TT(r)===s}function Yh(){}function Je(r,s,l,c,p,y){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ln(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ln(r,""+c);break;case"className":Ei(r,"class",c);break;case"tabIndex":Ei(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(r,l,c);break;case"style":Ol(r,c,y);break;case"data":if(s!=="object"){Ei(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Ka(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Je(r,s,"name",p.name,p,null),Je(r,s,"formEncType",p.formEncType,p,null),Je(r,s,"formMethod",p.formMethod,p,null),Je(r,s,"formTarget",p.formTarget,p,null)):(Je(r,s,"encType",p.encType,p,null),Je(r,s,"method",p.method,p,null),Je(r,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Ka(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Yh);break;case"onScroll":c!=null&&ke("scroll",r);break;case"onScrollEnd":c!=null&&ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Ka(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":ke("beforetoggle",r),ke("toggle",r),jr(r,"popover",c);break;case"xlinkActuate":zt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":jr(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=up.get(l)||l,jr(r,l,c))}}function jm(r,s,l,c,p,y){switch(l){case"style":Ol(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Ln(r,c):(typeof c=="number"||typeof c=="bigint")&&Ln(r,""+c);break;case"onScroll":c!=null&&ke("scroll",r);break;case"onScrollEnd":c!=null&&ke("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),y=r[wt]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):jr(r,l,c)}}}function Gt(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",r),ke("load",r);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var w=l[y];if(w!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Je(r,s,y,w,l,null)}}p&&Je(r,s,"srcSet",l.srcSet,l,null),c&&Je(r,s,"src",l.src,l,null);return;case"input":ke("invalid",r);var A=y=w=p=null,k=null,K=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":p=ee;break;case"type":w=ee;break;case"checked":k=ee;break;case"defaultChecked":K=ee;break;case"value":y=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:Je(r,s,c,ee,l,null)}}Ks(r,y,A,k,K,w,p,!1),Ga(r);return;case"select":ke("invalid",r),c=w=y=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":w=A;break;case"multiple":c=A;default:Je(r,s,p,A,l,null)}s=y,l=w,r.multiple=!!c,s!=null?Xi(r,!!c,s,!1):l!=null&&Xi(r,!!c,l,!0);return;case"textarea":ke("invalid",r),y=p=c=null;for(w in l)if(l.hasOwnProperty(w)&&(A=l[w],A!=null))switch(w){case"value":c=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:Je(r,s,w,A,l,null)}Ys(r,c,p,y),Ga(r);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Je(r,s,k,c,l,null)}return;case"dialog":ke("beforetoggle",r),ke("toggle",r),ke("cancel",r),ke("close",r);break;case"iframe":case"object":ke("load",r);break;case"video":case"audio":for(c=0;c<mu.length;c++)ke(mu[c],r);break;case"image":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"embed":case"source":case"link":ke("error",r),ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(c=l[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Je(r,s,K,c,l,null)}return;default:if(Pl(s)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&jm(r,s,ee,c,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(c=l[A],c!=null&&Je(r,s,A,c,l,null))}function ZD(r,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,A=null,k=null,K=null,ee=null;for(W in l){var re=l[W];if(l.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=re;default:c.hasOwnProperty(W)||Je(r,s,W,null,c,re)}}for(var Q in c){var W=c[Q];if(re=l[Q],c.hasOwnProperty(Q)&&(W!=null||re!=null))switch(Q){case"type":y=W;break;case"name":p=W;break;case"checked":K=W;break;case"defaultChecked":ee=W;break;case"value":w=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==re&&Je(r,s,Q,W,c,re)}}Sn(r,w,A,k,K,ee,y,p);return;case"select":W=w=A=Q=null;for(y in l)if(k=l[y],l.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":W=k;default:c.hasOwnProperty(y)||Je(r,s,y,null,c,k)}for(p in c)if(y=c[p],k=l[p],c.hasOwnProperty(p)&&(y!=null||k!=null))switch(p){case"value":Q=y;break;case"defaultValue":A=y;break;case"multiple":w=y;default:y!==k&&Je(r,s,p,y,c,k)}s=A,l=w,c=W,Q!=null?Xi(r,!!l,Q,!1):!!c!=!!l&&(s!=null?Xi(r,!!l,s,!0):Xi(r,!!l,l?[]:"",!1));return;case"textarea":W=Q=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Je(r,s,A,null,c,p)}for(w in c)if(p=c[w],y=l[w],c.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":Q=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Je(r,s,w,p,c,y)}Xe(r,Q,W);return;case"option":for(var Se in l)if(Q=l[Se],l.hasOwnProperty(Se)&&Q!=null&&!c.hasOwnProperty(Se))switch(Se){case"selected":r.selected=!1;break;default:Je(r,s,Se,null,c,Q)}for(k in c)if(Q=c[k],W=l[k],c.hasOwnProperty(k)&&Q!==W&&(Q!=null||W!=null))switch(k){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Je(r,s,k,Q,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)Q=l[ve],l.hasOwnProperty(ve)&&Q!=null&&!c.hasOwnProperty(ve)&&Je(r,s,ve,null,c,Q);for(K in c)if(Q=c[K],W=l[K],c.hasOwnProperty(K)&&Q!==W&&(Q!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Je(r,s,K,Q,c,W)}return;default:if(Pl(s)){for(var et in l)Q=l[et],l.hasOwnProperty(et)&&Q!==void 0&&!c.hasOwnProperty(et)&&jm(r,s,et,void 0,c,Q);for(ee in c)Q=c[ee],W=l[ee],!c.hasOwnProperty(ee)||Q===W||Q===void 0&&W===void 0||jm(r,s,ee,Q,c,W);return}}for(var H in l)Q=l[H],l.hasOwnProperty(H)&&Q!=null&&!c.hasOwnProperty(H)&&Je(r,s,H,null,c,Q);for(re in c)Q=c[re],W=l[re],!c.hasOwnProperty(re)||Q===W||Q==null&&W==null||Je(r,s,re,Q,c,W)}var Fm=null,zm=null;function Qh(r){return r.nodeType===9?r:r.ownerDocument}function ST(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bT(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Hm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qm=null;function JD(){var r=window.event;return r&&r.type==="popstate"?r===qm?!1:(qm=r,!0):(qm=null,!1)}var AT=typeof setTimeout=="function"?setTimeout:void 0,eO=typeof clearTimeout=="function"?clearTimeout:void 0,RT=typeof Promise=="function"?Promise:void 0,tO=typeof queueMicrotask=="function"?queueMicrotask:typeof RT<"u"?function(r){return RT.resolve(null).then(r).catch(nO)}:AT;function nO(r){setTimeout(function(){throw r})}function rs(r){return r==="head"}function CT(r,s){var l=s,c=0,p=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var w=r.ownerDocument;if(l&1&&yu(w.documentElement),l&2&&yu(w.body),l&4)for(l=w.head,yu(l),w=l.firstChild;w;){var A=w.nextSibling,k=w.nodeName;w[Hs]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=A}}if(p===0){r.removeChild(y),Au(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Au(s)}function $m(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$m(l),Br(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function iO(r,s,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Hs])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=oi(r.nextSibling),r===null)break}return null}function rO(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=oi(r.nextSibling),r===null))return null;return r}function Gm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function sO(r,s){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function oi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Km=null;function IT(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}function xT(r,s,l){switch(s=Qh(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function yu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Br(r)}var Kn=new Map,DT=new Set;function Wh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var gr=ie.d;ie.d={f:aO,r:oO,D:lO,C:uO,L:cO,m:hO,X:dO,S:fO,M:pO};function aO(){var r=gr.f(),s=Fh();return r||s}function oO(r){var s=vi(r);s!==null&&s.tag===5&&s.type==="form"?W0(s):gr.r(r)}var Io=typeof document>"u"?null:document;function OT(r,s,l){var c=Io;if(c&&typeof s=="string"&&s){var p=St(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),DT.has(p)||(DT.add(p),r={rel:r,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),Gt(s,"link",r),yt(s),c.head.appendChild(s)))}}function lO(r){gr.D(r),OT("dns-prefetch",r,null)}function uO(r,s){gr.C(r,s),OT("preconnect",r,s)}function cO(r,s,l){gr.L(r,s,l);var c=Io;if(c&&r&&s){var p='link[rel="preload"][as="'+St(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+St(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+St(l.imageSizes)+'"]')):p+='[href="'+St(r)+'"]';var y=p;switch(s){case"style":y=xo(r);break;case"script":y=Do(r)}Kn.has(y)||(r=g({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),Kn.set(y,r),c.querySelector(p)!==null||s==="style"&&c.querySelector(vu(y))||s==="script"&&c.querySelector(_u(y))||(s=c.createElement("link"),Gt(s,"link",r),yt(s),c.head.appendChild(s)))}}function hO(r,s){gr.m(r,s);var l=Io;if(l&&r){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+St(c)+'"][href="'+St(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Do(r)}if(!Kn.has(y)&&(r=g({rel:"modulepreload",href:r},s),Kn.set(y,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_u(y)))return}c=l.createElement("link"),Gt(c,"link",r),yt(c),l.head.appendChild(c)}}}function fO(r,s,l){gr.S(r,s,l);var c=Io;if(c&&r){var p=ln(c).hoistableStyles,y=xo(r);s=s||"default";var w=p.get(y);if(!w){var A={loading:0,preload:null};if(w=c.querySelector(vu(y)))A.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":s},l),(l=Kn.get(y))&&Ym(r,l);var k=w=c.createElement("link");yt(k),Gt(k,"link",r),k._p=new Promise(function(K,ee){k.onload=K,k.onerror=ee}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Xh(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:A},p.set(y,w)}}}function dO(r,s){gr.X(r,s);var l=Io;if(l&&r){var c=ln(l).hoistableScripts,p=Do(r),y=c.get(p);y||(y=l.querySelector(_u(p)),y||(r=g({src:r,async:!0},s),(s=Kn.get(p))&&Qm(r,s),y=l.createElement("script"),yt(y),Gt(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function pO(r,s){gr.M(r,s);var l=Io;if(l&&r){var c=ln(l).hoistableScripts,p=Do(r),y=c.get(p);y||(y=l.querySelector(_u(p)),y||(r=g({src:r,async:!0,type:"module"},s),(s=Kn.get(p))&&Qm(r,s),y=l.createElement("script"),yt(y),Gt(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function PT(r,s,l,c){var p=(p=Ae.current)?Wh(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=xo(l.href),l=ln(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=xo(l.href);var y=ln(p).hoistableStyles,w=y.get(r);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,w),(y=p.querySelector(vu(r)))&&!y._p&&(w.instance=y,w.state.loading=5),Kn.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kn.set(r,l),y||mO(p,r,l,w.state))),s&&c===null)throw Error(i(528,""));return w}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Do(l),l=ln(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function xo(r){return'href="'+St(r)+'"'}function vu(r){return'link[rel="stylesheet"]['+r+"]"}function NT(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function mO(r,s,l,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Gt(s,"link",l),yt(s),r.head.appendChild(s))}function Do(r){return'[src="'+St(r)+'"]'}function _u(r){return"script[async]"+r}function MT(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+St(l.href)+'"]');if(c)return s.instance=c,yt(c),c;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),yt(c),Gt(c,"style",p),Xh(c,l.precedence,r),s.instance=c;case"stylesheet":p=xo(l.href);var y=r.querySelector(vu(p));if(y)return s.state.loading|=4,s.instance=y,yt(y),y;c=NT(l),(p=Kn.get(p))&&Ym(c,p),y=(r.ownerDocument||r).createElement("link"),yt(y);var w=y;return w._p=new Promise(function(A,k){w.onload=A,w.onerror=k}),Gt(y,"link",c),s.state.loading|=4,Xh(y,l.precedence,r),s.instance=y;case"script":return y=Do(l.src),(p=r.querySelector(_u(y)))?(s.instance=p,yt(p),p):(c=l,(p=Kn.get(y))&&(c=g({},l),Qm(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),yt(p),Gt(p,"link",c),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Xh(c,l.precedence,r));return s.instance}function Xh(r,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,w=0;w<c.length;w++){var A=c[w];if(A.dataset.precedence===s)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function Ym(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Qm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Zh=null;function VT(r,s,l){if(Zh===null){var c=new Map,p=Zh=new Map;p.set(l,c)}else p=Zh,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[Hs]||y[It]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=r+w;var A=c.get(w);A?A.push(y):c.set(w,[y])}}return c}function kT(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function gO(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function LT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Eu=null;function yO(){}function vO(r,s,l){if(Eu===null)throw Error(i(475));var c=Eu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=xo(l.href),y=r.querySelector(vu(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Jh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,yt(y);return}y=r.ownerDocument||r,l=NT(l),(p=Kn.get(p))&&Ym(l,p),y=y.createElement("link"),yt(y);var w=y;w._p=new Promise(function(A,k){w.onload=A,w.onerror=k}),Gt(y,"link",l),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Jh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function _O(){if(Eu===null)throw Error(i(475));var r=Eu;return r.stylesheets&&r.count===0&&Wm(r,r.stylesheets),0<r.count?function(s){var l=setTimeout(function(){if(r.stylesheets&&Wm(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Jh(){if(this.count--,this.count===0){if(this.stylesheets)Wm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ef=null;function Wm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ef=new Map,s.forEach(EO,r),ef=null,Jh.call(r))}function EO(r,s){if(!(s.state.loading&4)){var l=ef.get(r);if(l)var c=l.get(null);else{l=new Map,ef.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),c=w)}c&&l.set(null,c)}p=s.instance,w=p.getAttribute("data-precedence"),y=l.get(w)||c,y===c&&l.set(null,p),l.set(w,p),this.count++,c=Jh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var Tu={$$typeof:L,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function TO(r,s,l,c,p,y,w,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function UT(r,s,l,c,p,y,w,A,k,K,ee,re){return r=new TO(r,s,l,w,A,k,K,re),s=1,y===!0&&(s|=24),y=An(3,null,null,s),r.current=y,y.stateNode=r,s=Op(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:s},Vp(y),r}function BT(r){return r?(r=ao,r):ao}function jT(r,s,l,c,p,y){p=BT(p),c.context===null?c.context=p:c.pendingContext=p,c=$r(s),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Gr(r,c,s),l!==null&&(Dn(l,r,s),Xl(l,r,s))}function FT(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Xm(r,s){FT(r,s),(r=r.alternate)&&FT(r,s)}function zT(r){if(r.tag===13){var s=so(r,67108864);s!==null&&Dn(s,r,67108864),Xm(r,67108864)}}var tf=!0;function wO(r,s,l,c){var p=Z.T;Z.T=null;var y=ie.p;try{ie.p=2,Zm(r,s,l,c)}finally{ie.p=y,Z.T=p}}function SO(r,s,l,c){var p=Z.T;Z.T=null;var y=ie.p;try{ie.p=8,Zm(r,s,l,c)}finally{ie.p=y,Z.T=p}}function Zm(r,s,l,c){if(tf){var p=Jm(c);if(p===null)Bm(r,s,c,nf,l),qT(r,c);else if(AO(p,r,s,l,c))c.stopPropagation();else if(qT(r,c),s&4&&-1<bO.indexOf(r)){for(;p!==null;){var y=vi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=ni(y.pendingLanes);if(w!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var k=1<<31-Xt(w);A.entanglements[1]|=k,w&=~k}Pi(y),(Qe&6)===0&&(Bh=Vn()+500,pu(0))}}break;case 13:A=so(y,2),A!==null&&Dn(A,y,2),Fh(),Xm(y,2)}if(y=Jm(c),y===null&&Bm(r,s,c,nf,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else Bm(r,s,c,null,l)}}function Jm(r){return r=Un(r),eg(r)}var nf=null;function eg(r){if(nf=null,r=Yi(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=u(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return nf=r,null}function HT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ip()){case _l:return 2;case Ua:return 8;case Us:case rp:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var tg=!1,ss=null,as=null,os=null,wu=new Map,Su=new Map,ls=[],bO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qT(r,s){switch(r){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":wu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(s.pointerId)}}function bu(r,s,l,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},s!==null&&(s=vi(s),s!==null&&zT(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function AO(r,s,l,c,p){switch(s){case"focusin":return ss=bu(ss,r,s,l,c,p),!0;case"dragenter":return as=bu(as,r,s,l,c,p),!0;case"mouseover":return os=bu(os,r,s,l,c,p),!0;case"pointerover":var y=p.pointerId;return wu.set(y,bu(wu.get(y)||null,r,s,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,Su.set(y,bu(Su.get(y)||null,r,s,l,c,p)),!0}return!1}function $T(r){var s=Yi(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){r.blockedOn=s,Fc(r.priority,function(){if(l.tag===13){var c=xn();c=kr(c);var p=so(l,c);p!==null&&Dn(p,l,c),Xm(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Jm(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Zi=c,l.target.dispatchEvent(c),Zi=null}else return s=vi(l),s!==null&&zT(s),r.blockedOn=l,!1;s.shift()}return!0}function GT(r,s,l){rf(r)&&l.delete(s)}function RO(){tg=!1,ss!==null&&rf(ss)&&(ss=null),as!==null&&rf(as)&&(as=null),os!==null&&rf(os)&&(os=null),wu.forEach(GT),Su.forEach(GT)}function sf(r,s){r.blockedOn===s&&(r.blockedOn=null,tg||(tg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RO)))}var af=null;function KT(r){af!==r&&(af=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){af===r&&(af=null);for(var s=0;s<r.length;s+=3){var l=r[s],c=r[s+1],p=r[s+2];if(typeof c!="function"){if(eg(c||l)===null)continue;break}var y=vi(l);y!==null&&(r.splice(s,3),s-=3,em(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Au(r){function s(k){return sf(k,r)}ss!==null&&sf(ss,r),as!==null&&sf(as,r),os!==null&&sf(os,r),wu.forEach(s),Su.forEach(s);for(var l=0;l<ls.length;l++){var c=ls[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ls.length&&(l=ls[0],l.blockedOn===null);)$T(l),l.blockedOn===null&&ls.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],w=p[wt]||null;if(typeof y=="function")w||KT(l);else if(w){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[wt]||null)A=w.formAction;else if(eg(p)!==null)continue}else A=w.action;typeof A=="function"?l[c+1]=A:(l.splice(c,3),c-=3),KT(l)}}}function ng(r){this._internalRoot=r}of.prototype.render=ng.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=xn();jT(l,c,r,s,null,null)},of.prototype.unmount=ng.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;jT(r.current,2,null,r,null,null),Fh(),s[kn]=null}};function of(r){this._internalRoot=r}of.prototype.unstable_scheduleHydration=function(r){if(r){var s=Lr();r={blockedOn:null,target:r,priority:s};for(var l=0;l<ls.length&&s!==0&&s<ls[l].priority;l++);ls.splice(l,0,r),l===0&&$T(r)}};var YT=e.version;if(YT!=="19.1.0")throw Error(i(527,YT,"19.1.0"));ie.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var CO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{ft=lf.inject(CO),Ye=lf}catch{}}return Ru.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,c="",p=cE,y=hE,w=fE,A=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=UT(r,1,!1,null,null,l,c,p,y,w,A,null),r[kn]=s.current,Um(r),new ng(s)},Ru.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var c=!1,p="",y=cE,w=hE,A=fE,k=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),s=UT(r,1,!0,s,l??null,c,p,y,w,A,k,K),s.context=BT(null),l=s.current,c=xn(),c=kr(c),p=$r(c),p.callback=null,Gr(l,p,c),l=c,s.current.lanes=l,Ki(s,l),Pi(s),r[kn]=s.current,Um(r),new of(s)},Ru.version="19.1.0",Ru}var nw;function VO(){if(nw)return rg.exports;nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rg.exports=MO(),rg.exports}var kO=VO();const LO=Ky(kO);var Cu={},iw;function UO(){if(iw)return Cu;iw=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.parse=u,Cu.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,S){const b=new o,P=E.length;if(P<2)return b;const x=(S==null?void 0:S.decode)||g;let M=0;do{const z=E.indexOf("=",M);if(z===-1)break;const L=E.indexOf(";",M),te=L===-1?P:L;if(z>te){M=E.lastIndexOf(";",z-1)+1;continue}const Y=h(E,M,z),J=f(E,z,Y),O=E.slice(Y,J);if(b[O]===void 0){let R=h(E,z+1,te),C=f(E,te,R);const D=x(E.slice(R,C));b[O]=D}M=te+1}while(M<P);return b}function h(E,S,b){do{const P=E.charCodeAt(S);if(P!==32&&P!==9)return S}while(++S<b);return b}function f(E,S,b){for(;S>b;){const P=E.charCodeAt(--S);if(P!==32&&P!==9)return S+1}return b}function m(E,S,b){const P=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=P(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let M=E+"="+x;if(!b)return M;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);M+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);M+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);M+="; Path="+b.path}if(b.expires){if(!_(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);M+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(M+="; HttpOnly"),b.secure&&(M+="; Secure"),b.partitioned&&(M+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return M}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Cu}UO();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rw="popstate";function BO(n={}){function e(i,a){let{pathname:o,search:u,hash:h}=i.location;return Kg("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Zu(a)}return FO(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jO(){return Math.random().toString(36).substring(2,10)}function sw(n,e){return{usr:n.state,key:n.key,idx:e}}function Kg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:t,key:e&&e.key||i||jO()}}function Zu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ol(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function FO(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,h="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let x=g(),M=x==null?null:x-m;m=x,f&&f({action:h,location:P.location,delta:M})}function E(x,M){h="PUSH";let z=Kg(P.location,x,M);m=g()+1;let L=sw(z,m),te=P.createHref(z);try{u.pushState(L,"",te)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign(te)}o&&f&&f({action:h,location:P.location,delta:1})}function S(x,M){h="REPLACE";let z=Kg(P.location,x,M);m=g();let L=sw(z,m),te=P.createHref(z);u.replaceState(L,"",te),o&&f&&f({action:h,location:P.location,delta:0})}function b(x){let M=a.location.origin!=="null"?a.location.origin:a.location.href,z=typeof x=="string"?x:Zu(x);return z=z.replace(/ $/,"%20"),ct(M,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,M)}let P={get action(){return h},get location(){return n(a,u)},listen(x){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(rw,_),f=x,()=>{a.removeEventListener(rw,_),f=null}},createHref(x){return e(a,x)},createURL:b,encodeLocation(x){let M=b(x);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:E,replace:S,go(x){return u.go(x)}};return P}function HA(n,e,t="/"){return zO(n,e,t,!1)}function zO(n,e,t,i){let a=typeof e=="string"?ol(e):e,o=Rr(a.pathname||"/",t);if(o==null)return null;let u=qA(n);HO(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=eP(o);h=ZO(u[f],m,i)}return h}function qA(n,e=[],t=[],i=""){let a=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(ct(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=wr([i,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),qA(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:WO(m,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let f of $A(o.path))a(o,u,f)}),e}function $A(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=$A(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function HO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var qO=/^:[\w-]+$/,$O=3,GO=2,KO=1,YO=10,QO=-2,aw=n=>n==="*";function WO(n,e){let t=n.split("/"),i=t.length;return t.some(aw)&&(i+=QO),e&&(i+=GO),t.filter(a=>!aw(a)).reduce((a,o)=>a+(qO.test(o)?$O:o===""?KO:YO),i)}function XO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function ZO(n,e,t=!1){let{routesMeta:i}=n,a={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Lf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),E=f.route;if(!_&&m&&t&&!i[i.length-1].route.index&&(_=Lf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:wr([o,_.pathname]),pathnameBase:rP(wr([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=wr([o,_.pathnameBase]))}return u}function Lf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=JO(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:_},E)=>{if(g==="*"){let b=h[E]||"";u=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const S=h[E];return _&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function JO(n,e=!1,t=!0){zi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function eP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function tP(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?ol(n):n;return{pathname:t?t.startsWith("/")?t:nP(t,e):e,search:sP(i),hash:aP(a)}}function nP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function lg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function GA(n){let e=iP(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function KA(n,e,t,i=!1){let a;typeof n=="string"?a=ol(n):(a={...n},ct(!a.pathname||!a.pathname.includes("?"),lg("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),lg("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),lg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=tP(a,h),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var wr=n=>n.join("/").replace(/\/\/+/g,"/"),rP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function oP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var YA=["POST","PUT","PATCH","DELETE"];new Set(YA);var lP=["GET",...YA];new Set(lP);var ll=j.createContext(null);ll.displayName="DataRouter";var _d=j.createContext(null);_d.displayName="DataRouterState";var QA=j.createContext({isTransitioning:!1});QA.displayName="ViewTransition";var uP=j.createContext(new Map);uP.displayName="Fetchers";var cP=j.createContext(null);cP.displayName="Await";var qi=j.createContext(null);qi.displayName="Navigation";var Ec=j.createContext(null);Ec.displayName="Location";var Nr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Qy=j.createContext(null);Qy.displayName="RouteError";function hP(n,{relative:e}={}){ct(Tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=j.useContext(qi),{hash:a,pathname:o,search:u}=wc(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:wr([t,o])),i.createHref({pathname:h,search:u,hash:a})}function Tc(){return j.useContext(Ec)!=null}function Cs(){return ct(Tc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ec).location}var WA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XA(n){j.useContext(qi).static||j.useLayoutEffect(n)}function Ed(){let{isDataRoute:n}=j.useContext(Nr);return n?bP():fP()}function fP(){ct(Tc(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(ll),{basename:e,navigator:t}=j.useContext(qi),{matches:i}=j.useContext(Nr),{pathname:a}=Cs(),o=JSON.stringify(GA(i)),u=j.useRef(!1);return XA(()=>{u.current=!0}),j.useCallback((f,m={})=>{if(zi(u.current,WA),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=KA(f,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:wr([e,g.pathname])),(m.replace?t.replace:t.push)(g,m.state,m)},[e,t,o,a,n])}j.createContext(null);function wc(n,{relative:e}={}){let{matches:t}=j.useContext(Nr),{pathname:i}=Cs(),a=JSON.stringify(GA(t));return j.useMemo(()=>KA(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function dP(n,e){return ZA(n,e)}function ZA(n,e,t,i){var z;ct(Tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=j.useContext(qi),{matches:u}=j.useContext(Nr),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let L=_&&_.path||"";JA(m,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let E=Cs(),S;if(e){let L=typeof e=="string"?ol(e):e;ct(g==="/"||((z=L.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),S=L}else S=E;let b=S.pathname||"/",P=b;if(g!=="/"){let L=g.replace(/^\//,"").split("/");P="/"+b.replace(/^\//,"").split("/").slice(L.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:HA(n,{pathname:P});zi(_||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),zi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=vP(x&&x.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:wr([g,a.encodeLocation?a.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:wr([g,a.encodeLocation?a.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,t,i);return e&&M?j.createElement(Ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function pP(){let n=SP(),e=oP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:a},t):null,u)}var mP=j.createElement(pP,null),gP=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?j.createElement(Nr.Provider,{value:this.props.routeContext},j.createElement(Qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yP({routeContext:n,match:e,children:t}){let i=j.useContext(ll);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Nr.Provider,{value:n},t)}function vP(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:g,errors:_}=t,E=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||E){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,m,g)=>{let _,E=!1,S=null,b=null;t&&(_=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||mP,u&&(h<0&&g===0?(JA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):h===g&&(E=!0,b=m.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,g+1)),x=()=>{let M;return _?M=S:E?M=b:m.route.Component?M=j.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=f,j.createElement(yP,{match:m,routeContext:{outlet:f,matches:P,isDataRoute:t!=null},children:M})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?j.createElement(gP,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:x(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):x()},null)}function Wy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _P(n){let e=j.useContext(ll);return ct(e,Wy(n)),e}function EP(n){let e=j.useContext(_d);return ct(e,Wy(n)),e}function TP(n){let e=j.useContext(Nr);return ct(e,Wy(n)),e}function Xy(n){let e=TP(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wP(){return Xy("useRouteId")}function SP(){var i;let n=j.useContext(Qy),e=EP("useRouteError"),t=Xy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function bP(){let{router:n}=_P("useNavigate"),e=Xy("useNavigate"),t=j.useRef(!1);return XA(()=>{t.current=!0}),j.useCallback(async(a,o={})=>{zi(t.current,WA),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var ow={};function JA(n,e,t){!e&&!ow[n]&&(ow[n]=!0,zi(!1,t))}j.memo(AP);function AP({routes:n,future:e,state:t}){return ZA(n,void 0,t,e)}function Vo(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RP({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1}){ct(!Tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=ol(t));let{pathname:f="/",search:m="",hash:g="",state:_=null,key:E="default"}=t,S=j.useMemo(()=>{let b=Rr(f,u);return b==null?null:{location:{pathname:b,search:m,hash:g,state:_,key:E},navigationType:i}},[u,f,m,g,_,E,i]);return zi(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(qi.Provider,{value:h},j.createElement(Ec.Provider,{children:e,value:S}))}function CP({children:n,location:e}){return dP(Yg(n),e)}function Yg(n,e=[]){let t=[];return j.Children.forEach(n,(i,a)=>{if(!j.isValidElement(i))return;let o=[...e,a];if(i.type===j.Fragment){t.push.apply(t,Yg(i.props.children,o));return}ct(i.type===Vo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Yg(i.props.children,o)),t.push(u)}),t}var Ef="get",Tf="application/x-www-form-urlencoded";function Td(n){return n!=null&&typeof n.tagName=="string"}function IP(n){return Td(n)&&n.tagName.toLowerCase()==="button"}function xP(n){return Td(n)&&n.tagName.toLowerCase()==="form"}function DP(n){return Td(n)&&n.tagName.toLowerCase()==="input"}function OP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function PP(n,e){return n.button===0&&(!e||e==="_self")&&!OP(n)}var uf=null;function NP(){if(uf===null)try{new FormData(document.createElement("form"),0),uf=!1}catch{uf=!0}return uf}var MP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(n){return n!=null&&!MP.has(n)?(zi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):n}function VP(n,e){let t,i,a,o,u;if(xP(n)){let h=n.getAttribute("action");i=h?Rr(h,e):null,t=n.getAttribute("method")||Ef,a=ug(n.getAttribute("enctype"))||Tf,o=new FormData(n)}else if(IP(n)||DP(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Rr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Ef,a=ug(n.getAttribute("formenctype"))||ug(h.getAttribute("enctype"))||Tf,o=new FormData(h,n),!NP()){let{name:m,type:g,value:_}=n;if(g==="image"){let E=m?`${m}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else m&&o.append(m,_)}}else{if(Td(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ef,i=null,a=Tf,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:u}}function Zy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function kP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function UP(n,e,t){let i=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await kP(o,t);return u.links?u.links():[]}return[]}));return zP(i.flat(1).filter(LP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lw(n,e,t,i,a,o){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var g;return t[m].pathname!==f.pathname||((g=t[m].route.path)==null?void 0:g.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):o==="data"?e.filter((f,m)=>{var _;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function BP(n,e,{includeHydrateFallback:t}={}){return jP(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function jP(n){return[...new Set(n)]}function FP(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function zP(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let o=JSON.stringify(FP(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}function HP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Rr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function eR(){let n=j.useContext(ll);return Zy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function qP(){let n=j.useContext(_d);return Zy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jy=j.createContext(void 0);Jy.displayName="FrameworkContext";function tR(){let n=j.useContext(Jy);return Zy(n,"You must render this element inside a <HydratedRouter> element"),n}function $P(n,e){let t=j.useContext(Jy),[i,a]=j.useState(!1),[o,u]=j.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:_}=e,E=j.useRef(null);j.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=M=>{M.forEach(z=>{u(z.isIntersecting)})},x=new IntersectionObserver(P,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[n]),j.useEffect(()=>{if(i){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[i]);let S=()=>{a(!0)},b=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Iu(h,S),onBlur:Iu(f,b),onMouseEnter:Iu(m,S),onMouseLeave:Iu(g,b),onTouchStart:Iu(_,S)}]:[!1,E,{}]}function Iu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function GP({page:n,...e}){let{router:t}=eR(),i=j.useMemo(()=>HA(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?j.createElement(YP,{page:n,matches:i,...e}):null}function KP(n){let{manifest:e,routeModules:t}=tR(),[i,a]=j.useState([]);return j.useEffect(()=>{let o=!1;return UP(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),i}function YP({page:n,matches:e,...t}){let i=Cs(),{manifest:a,routeModules:o}=tR(),{basename:u}=eR(),{loaderData:h,matches:f}=qP(),m=j.useMemo(()=>lw(n,e,f,a,i,"data"),[n,e,f,a,i]),g=j.useMemo(()=>lw(n,e,f,a,i,"assets"),[n,e,f,a,i]),_=j.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,P=!1;if(e.forEach(M=>{var L;let z=a.routes[M.route.id];!z||!z.hasLoader||(!m.some(te=>te.route.id===M.route.id)&&M.route.id in h&&((L=o[M.route.id])!=null&&L.shouldRevalidate)||z.hasClientLoader?P=!0:b.add(M.route.id))}),b.size===0)return[];let x=HP(n,u);return P&&b.size>0&&x.searchParams.set("_routes",e.filter(M=>b.has(M.route.id)).map(M=>M.route.id).join(",")),[x.pathname+x.search]},[u,h,i,a,m,e,n,o]),E=j.useMemo(()=>BP(g,a),[g,a]),S=KP(g);return j.createElement(j.Fragment,null,_.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),E.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),S.map(({key:b,link:P})=>j.createElement("link",{key:b,...P})))}function QP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nR&&(window.__reactRouterVersion="7.5.0")}catch{}function WP({basename:n,children:e,window:t}){let i=j.useRef();i.current==null&&(i.current=BO({window:t,v5Compat:!0}));let a=i.current,[o,u]=j.useState({action:a.action,location:a.location}),h=j.useCallback(f=>{j.startTransition(()=>u(f))},[u]);return j.useLayoutEffect(()=>a.listen(h),[a,h]),j.createElement(RP,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var iR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rR=j.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:h,target:f,to:m,preventScrollReset:g,viewTransition:_,...E},S){let{basename:b}=j.useContext(qi),P=typeof m=="string"&&iR.test(m),x,M=!1;if(typeof m=="string"&&P&&(x=m,nR))try{let C=new URL(window.location.href),D=m.startsWith("//")?new URL(C.protocol+m):new URL(m),N=Rr(D.pathname,b);D.origin===C.origin&&N!=null?m=N+D.search+D.hash:M=!0}catch{zi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=hP(m,{relative:a}),[L,te,Y]=$P(i,E),J=eN(m,{replace:u,state:h,target:f,preventScrollReset:g,relative:a,viewTransition:_});function O(C){e&&e(C),C.defaultPrevented||J(C)}let R=j.createElement("a",{...E,...Y,href:x||z,onClick:M||o?e:O,ref:QP(S,te),target:f,"data-discover":!P&&t==="render"?"true":void 0});return L&&!P?j.createElement(j.Fragment,null,R,j.createElement(GP,{page:z})):R});rR.displayName="Link";var XP=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:h,children:f,...m},g){let _=wc(u,{relative:m.relative}),E=Cs(),S=j.useContext(_d),{navigator:b,basename:P}=j.useContext(qi),x=S!=null&&sN(_)&&h===!0,M=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,z=E.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(z=z.toLowerCase(),L=L?L.toLowerCase():null,M=M.toLowerCase()),L&&P&&(L=Rr(L,P)||L);const te=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let Y=z===M||!a&&z.startsWith(M)&&z.charAt(te)==="/",J=L!=null&&(L===M||!a&&L.startsWith(M)&&L.charAt(M.length)==="/"),O={isActive:Y,isPending:J,isTransitioning:x},R=Y?e:void 0,C;typeof i=="function"?C=i(O):C=[i,Y?"active":null,J?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(O):o;return j.createElement(rR,{...m,"aria-current":R,className:C,ref:g,style:D,to:u,viewTransition:h},typeof f=="function"?f(O):f)});XP.displayName="NavLink";var ZP=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:u=Ef,action:h,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:_,...E},S)=>{let b=iN(),P=rN(h,{relative:m}),x=u.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&iR.test(h),z=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let te=L.nativeEvent.submitter,Y=(te==null?void 0:te.getAttribute("formmethod"))||u;b(te||L.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:a,state:o,relative:m,preventScrollReset:g,viewTransition:_})};return j.createElement("form",{ref:S,method:x,action:P,onSubmit:i?f:z,...E,"data-discover":!M&&n==="render"?"true":void 0})});ZP.displayName="Form";function JP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sR(n){let e=j.useContext(ll);return ct(e,JP(n)),e}function eN(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=Ed(),f=Cs(),m=wc(n,{relative:o});return j.useCallback(g=>{if(PP(g,e)){g.preventDefault();let _=t!==void 0?t:Zu(f)===Zu(m);h(n,{replace:_,state:i,preventScrollReset:a,relative:o,viewTransition:u})}},[f,h,m,t,i,e,n,a,o,u])}var tN=0,nN=()=>`__${String(++tN)}__`;function iN(){let{router:n}=sR("useSubmit"),{basename:e}=j.useContext(qi),t=wP();return j.useCallback(async(i,a={})=>{let{action:o,method:u,encType:h,formData:f,body:m}=VP(i,e);if(a.navigate===!1){let g=a.fetcherKey||nN();await n.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function rN(n,{relative:e}={}){let{basename:t}=j.useContext(qi),i=j.useContext(Nr);ct(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...wc(n||".",{relative:e})},u=Cs();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:wr([t,o.pathname])),Zu(o)}function sN(n,e={}){let t=j.useContext(QA);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=sR("useViewTransitionState"),a=wc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Rr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Rr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Lf(a.pathname,u)!=null||Lf(a.pathname,o)!=null}new TextEncoder;var cg,uw;function aN(){return uw||(uw=1,cg={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),cg}var oN=aN();const lN=Ky(oN);var uN=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function cw(n){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=n.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(e.name=t[1],(lN[t[1]]||n.charAt(n.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var i=n.indexOf("-->");return{type:"comment",comment:i!==-1?n.slice(4,i):""}}for(var a=new RegExp(uN),o=null;(o=a.exec(n))!==null;)if(o[0].trim())if(o[1]){var u=o[1].trim(),h=[u,""];u.indexOf("=")>-1&&(h=u.split("=")),e.attrs[h[0]]=h[1],a.lastIndex--}else o[2]&&(e.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return e}var cN=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,hN=/^\s*$/,fN=Object.create(null);function aR(n,e){switch(e.type){case"text":return n+e.content;case"tag":return n+="<"+e.name+(e.attrs?function(t){var i=[];for(var a in t)i.push(a+'="'+t[a]+'"');return i.length?" "+i.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?n:n+e.children.reduce(aR,"")+"</"+e.name+">";case"comment":return n+"<!--"+e.comment+"-->"}}var dN={parse:function(n,e){e||(e={}),e.components||(e.components=fN);var t,i=[],a=[],o=-1,u=!1;if(n.indexOf("<")!==0){var h=n.indexOf("<");i.push({type:"text",content:h===-1?n:n.substring(0,h)})}return n.replace(cN,function(f,m){if(u){if(f!=="</"+t.name+">")return;u=!1}var g,_=f.charAt(1)!=="/",E=f.startsWith("<!--"),S=m+f.length,b=n.charAt(S);if(E){var P=cw(f);return o<0?(i.push(P),i):((g=a[o]).children.push(P),i)}if(_&&(o++,(t=cw(f)).type==="tag"&&e.components[t.name]&&(t.type="component",u=!0),t.voidElement||u||!b||b==="<"||t.children.push({type:"text",content:n.slice(S,n.indexOf("<",S))}),o===0&&i.push(t),(g=a[o-1])&&g.children.push(t),a[o]=t),(!_||t.voidElement)&&(o>-1&&(t.voidElement||t.name===f.slice(2,-1))&&(o--,t=o===-1?i:a[o]),!u&&b!=="<"&&b)){g=o===-1?i:a[o].children;var x=n.indexOf("<",S),M=n.slice(S,x===-1?void 0:x);hN.test(M)&&(M=" "),(x>-1&&o+g.length>=0||M!==" ")&&g.push({type:"text",content:M})}}),i},stringify:function(n){return n.reduce(function(e,t){return e+aR("",t)},"")}};const wf=(n,e,t,i)=>{var o,u,h,f;const a=[t,{code:e,...i||{}}];if((u=(o=n==null?void 0:n.services)==null?void 0:o.logger)!=null&&u.forward)return n.services.logger.forward(a,"warn","react-i18next::",!0);Xn(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(f=(h=n==null?void 0:n.services)==null?void 0:h.logger)!=null&&f.warn?n.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},hw={},Ju=(n,e,t,i)=>{Xn(t)&&hw[t]||(Xn(t)&&(hw[t]=new Date),wf(n,e,t,i))},oR=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Qg=(n,e,t)=>{n.loadNamespaces(e,oR(n,t))},fw=(n,e,t,i)=>{if(Xn(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Qg(n,t,i);t.forEach(a=>{n.options.ns.indexOf(a)<0&&n.options.ns.push(a)}),n.loadLanguages(e,oR(n,i))},pN=(n,e,t={})=>!e.languages||!e.languages.length?(Ju(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,a)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,n))return!1}}),Xn=n=>typeof n=="string",Ta=n=>typeof n=="object"&&n!==null,mN=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gN={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},yN=n=>gN[n],vN=n=>n.replace(mN,yN);let Wg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:vN};const _N=(n={})=>{Wg={...Wg,...n}},lR=()=>Wg;let uR;const EN=n=>{uR=n},ev=()=>uR,hg=(n,e)=>{var i;if(!n)return!1;const t=((i=n.props)==null?void 0:i.children)??n.children;return e?t.length>0:!!t},fg=n=>{var t,i;if(!n)return[];const e=((t=n.props)==null?void 0:t.children)??n.children;return(i=n.props)!=null&&i.i18nIsDynamicList?jo(e):e},TN=n=>Array.isArray(n)&&n.every(j.isValidElement),jo=n=>Array.isArray(n)?n:[n],wN=(n,e)=>{const t={...e};return t.props=Object.assign(n.props,e.props),t},cR=(n,e,t,i)=>{if(!n)return"";let a="";const o=jo(n),u=e!=null&&e.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return o.forEach((h,f)=>{if(Xn(h)){a+=`${h}`;return}if(j.isValidElement(h)){const{props:m,type:g}=h,_=Object.keys(m).length,E=u.indexOf(g)>-1,S=m.children;if(!S&&E&&!_){a+=`<${g}/>`;return}if(!S&&(!E||_)||m.i18nIsDynamicList){a+=`<${f}></${f}>`;return}if(E&&_===1&&Xn(S)){a+=`<${g}>${S}</${g}>`;return}const b=cR(S,e,t,i);a+=`<${f}>${b}</${f}>`;return}if(h===null){wf(t,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:i});return}if(Ta(h)){const{format:m,...g}=h,_=Object.keys(g);if(_.length===1){const E=m?`${_[0]}, ${m}`:_[0];a+=`{{${E}}}`;return}wf(t,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:i,child:h});return}wf(t,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:i,child:h})}),a},SN=(n,e,t,i,a,o)=>{if(e==="")return[];const u=i.transKeepBasicHtmlNodesFor||[],h=e&&new RegExp(u.map(x=>`<${x}`).join("|")).test(e);if(!n&&!h&&!o)return[e];const f={},m=x=>{jo(x).forEach(z=>{Xn(z)||(hg(z)?m(fg(z)):Ta(z)&&!j.isValidElement(z)&&Object.assign(f,z))})};m(n);const g=dN.parse(`<0>${e}</0>`),_={...f,...a},E=(x,M,z)=>{var Y;const L=fg(x),te=b(L,M.children,z);return TN(L)&&te.length===0||(Y=x.props)!=null&&Y.i18nIsDynamicList?L:te},S=(x,M,z,L,te)=>{x.dummy?(x.children=M,z.push(j.cloneElement(x,{key:L},te?void 0:M))):z.push(...j.Children.map([x],Y=>{const J={...Y.props};return delete J.i18nIsDynamicList,j.createElement(Y.type,{...J,key:L,ref:Y.ref},te?null:M)}))},b=(x,M,z)=>{const L=jo(x);return jo(M).reduce((Y,J,O)=>{var C,D;const R=((D=(C=J.children)==null?void 0:C[0])==null?void 0:D.content)&&t.services.interpolator.interpolate(J.children[0].content,_,t.language);if(J.type==="tag"){let N=L[parseInt(J.name,10)];z.length===1&&!N&&(N=z[0][J.name]),N||(N={});const U=Object.keys(J.attrs).length!==0?wN({props:J.attrs},N):N,V=j.isValidElement(U),Le=V&&hg(J,!0)&&!J.voidElement,Pe=h&&Ta(U)&&U.dummy&&!V,Z=Ta(n)&&Object.hasOwnProperty.call(n,J.name);if(Xn(U)){const ie=t.services.interpolator.interpolate(U,_,t.language);Y.push(ie)}else if(hg(U)||Le){const ie=E(U,J,z);S(U,ie,Y,O)}else if(Pe){const ie=b(L,J.children,z);S(U,ie,Y,O)}else if(Number.isNaN(parseFloat(J.name)))if(Z){const ie=E(U,J,z);S(U,ie,Y,O,J.voidElement)}else if(i.transSupportBasicHtmlNodes&&u.indexOf(J.name)>-1)if(J.voidElement)Y.push(j.createElement(J.name,{key:`${J.name}-${O}`}));else{const ie=b(L,J.children,z);Y.push(j.createElement(J.name,{key:`${J.name}-${O}`},ie))}else if(J.voidElement)Y.push(`<${J.name} />`);else{const ie=b(L,J.children,z);Y.push(`<${J.name}>${ie}</${J.name}>`)}else if(Ta(U)&&!V){const ie=J.children[0]?R:null;ie&&Y.push(ie)}else S(U,R,Y,O,J.children.length!==1||!R)}else if(J.type==="text"){const N=i.transWrapTextNodes,U=o?i.unescape(t.services.interpolator.interpolate(J.content,_,t.language)):t.services.interpolator.interpolate(J.content,_,t.language);N?Y.push(j.createElement(N,{key:`${J.name}-${O}`},U)):Y.push(U)}return Y},[])},P=b([{dummy:!0,children:n||[]}],g,jo(n||[]));return fg(P[0])},hR=(n,e,t)=>{const i=n.key||e,a=j.cloneElement(n,{key:i});if(!a.props||!a.props.children||t.indexOf(`${e}/>`)<0&&t.indexOf(`${e} />`)<0)return a;function o(){return j.createElement(j.Fragment,null,a)}return j.createElement(o,{key:i})},bN=(n,e)=>n.map((t,i)=>hR(t,i,e)),AN=(n,e)=>{const t={};return Object.keys(n).forEach(i=>{Object.assign(t,{[i]:hR(n[i],i,e)})}),t},RN=(n,e,t,i)=>n?Array.isArray(n)?bN(n,e):Ta(n)?AN(n,e):(Ju(t,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:i}),null):null;function CN({children:n,count:e,parent:t,i18nKey:i,context:a,tOptions:o={},values:u,defaults:h,components:f,ns:m,i18n:g,t:_,shouldUnescape:E,...S}){var U,V,Le,Pe,Z,ie;const b=g||ev();if(!b)return Ju(b,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:i}),n;const P=_||b.t.bind(b)||(he=>he),x={...lR(),...(U=b.options)==null?void 0:U.react};let M=m||P.ns||((V=b.options)==null?void 0:V.defaultNS);M=Xn(M)?[M]:M||["translation"];const z=cR(n,x,b,i),L=h||z||x.transEmptyNodeValue||i,{hashTransKey:te}=x,Y=i||(te?te(z||L):z||L);(Pe=(Le=b.options)==null?void 0:Le.interpolation)!=null&&Pe.defaultVariables&&(u=u&&Object.keys(u).length>0?{...u,...b.options.interpolation.defaultVariables}:{...b.options.interpolation.defaultVariables});const J=u||e!==void 0&&!((ie=(Z=b.options)==null?void 0:Z.interpolation)!=null&&ie.alwaysFormat)||!n?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},O={...o,context:a||o.context,count:e,...u,...J,defaultValue:L,ns:M},R=Y?P(Y,O):L,C=RN(f,R,b,i),D=SN(C||n,R,b,x,O,E),N=t??x.defaultTransParent;return N?j.createElement(N,S,D):D}const IN={type:"3rdParty",init(n){_N(n.options.react),EN(n)}},fR=j.createContext();class xN{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function DN({children:n,count:e,parent:t,i18nKey:i,context:a,tOptions:o={},values:u,defaults:h,components:f,ns:m,i18n:g,t:_,shouldUnescape:E,...S}){var z;const{i18n:b,defaultNS:P}=j.useContext(fR)||{},x=g||b||ev(),M=_||(x==null?void 0:x.t.bind(x));return CN({children:n,count:e,parent:t,i18nKey:i,context:a,tOptions:o,values:u,defaults:h,components:f,ns:m||(M==null?void 0:M.ns)||P||((z=x==null?void 0:x.options)==null?void 0:z.defaultNS),i18n:x,t:_,shouldUnescape:E,...S})}const ON=(n,e)=>{const t=j.useRef();return j.useEffect(()=>{t.current=n},[n,e]),t.current},dR=(n,e,t,i)=>n.getFixedT(e,t,i),PN=(n,e,t,i)=>j.useCallback(dR(n,e,t,i),[n,e,t,i]),NN=(n,e={})=>{var te,Y,J,O;const{i18n:t}=e,{i18n:i,defaultNS:a}=j.useContext(fR)||{},o=t||i||ev();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new xN),!o){Ju(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(D,N)=>Xn(N)?N:Ta(N)&&Xn(N.defaultValue)?N.defaultValue:Array.isArray(D)?D[D.length-1]:D,C=[R,{},!1];return C.t=R,C.i18n={},C.ready=!1,C}(te=o.options.react)!=null&&te.wait&&Ju(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...lR(),...o.options.react,...e},{useSuspense:h,keyPrefix:f}=u;let m=a||((Y=o.options)==null?void 0:Y.defaultNS);m=Xn(m)?[m]:m||["translation"],(O=(J=o.reportNamespaces).addUsedNamespaces)==null||O.call(J,m);const g=(o.isInitialized||o.initializedStoreOnce)&&m.every(R=>pN(R,o,u)),_=PN(o,e.lng||null,u.nsMode==="fallback"?m:m[0],f),E=()=>_,S=()=>dR(o,e.lng||null,u.nsMode==="fallback"?m:m[0],f),[b,P]=j.useState(E);let x=m.join();e.lng&&(x=`${e.lng}${x}`);const M=ON(x),z=j.useRef(!0);j.useEffect(()=>{const{bindI18n:R,bindI18nStore:C}=u;z.current=!0,!g&&!h&&(e.lng?fw(o,e.lng,m,()=>{z.current&&P(S)}):Qg(o,m,()=>{z.current&&P(S)})),g&&M&&M!==x&&z.current&&P(S);const D=()=>{z.current&&P(S)};return R&&(o==null||o.on(R,D)),C&&(o==null||o.store.on(C,D)),()=>{z.current=!1,o&&(R==null||R.split(" ").forEach(N=>o.off(N,D))),C&&o&&C.split(" ").forEach(N=>o.store.off(N,D))}},[o,x]),j.useEffect(()=>{z.current&&g&&P(E)},[o,f,g]);const L=[b,o,g];if(L.t=b,L.i18n=o,L.ready=g,g||!g&&!h)return L;throw new Promise(R=>{e.lng?fw(o,e.lng,m,()=>R()):Qg(o,m,()=>R())})},MN=({show:n,onClose:e,children:t})=>n?$.createElement("div",{className:"modal-backdrop",onClick:e},$.createElement("div",{className:"modal-content",onClick:i=>i.stopPropagation()},t)):null,VN=()=>{};var dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},kN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},mR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,S=m&63;f||(S=64,u||(E=64)),i.push(t[g],t[_],t[E],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||_==null)throw new LN;const E=o<<2|h>>4;if(i.push(E),m!==64){const S=h<<4&240|m>>2;if(i.push(S),_!==64){const b=m<<6&192|_;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class LN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UN=function(n){const e=pR(n);return mR.encodeByteArray(e,!0)},Uf=function(n){return UN(n).replace(/\./g,"")},gR=function(n){try{return mR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=()=>BN().__FIREBASE_DEFAULTS__,FN=()=>{if(typeof process>"u"||typeof dw>"u")return;const n=dw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&gR(n[1]);return e&&JSON.parse(e)},wd=()=>{try{return VN()||jN()||FN()||zN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yR=n=>{var e,t;return(t=(e=wd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},HN=n=>{const e=yR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},vR=()=>{var n;return(n=wd())===null||n===void 0?void 0:n.config},_R=n=>{var e;return(e=wd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uf(JSON.stringify(t)),Uf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function KN(){var n;const e=(n=wd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ER(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WN(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XN(){return!KN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tv(){try{return typeof indexedDB=="object"}catch{return!1}}function nv(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function TR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="FirebaseError";class mi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ZN,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Is.prototype.create)}}class Is{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?JN(o,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new mi(a,h,i)}}function JN(n,e){return n.replace(eM,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const eM=/\{\$([^}]+)}/g;function tM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _s(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const o=n[a],u=e[a];if(pw(o)&&pw(u)){if(!_s(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function pw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Nu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function nM(n,e){const t=new iM(n,e);return t.subscribe.bind(t)}class iM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");rM(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=dg),a.error===void 0&&(a.error=dg),a.complete===void 0&&(a.complete=dg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=1e3,aM=2,oM=4*60*60*1e3,lM=.5;function mw(n,e=sM,t=aM){const i=e*Math.pow(t,n),a=Math.round(lM*i*(Math.random()-.5)*2);return Math.min(oM,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(n){return n&&n._delegate?n._delegate:n}class Mn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new qN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hM(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cM(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cM(n){return n===_a?void 0:n}function hM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const dM={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},pM=Ue.INFO,mM={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},gM=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=mM[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Sd=class{constructor(e){this.name=e,this._logLevel=pM,this._logHandler=gM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};const yM=(n,e)=>e.some(t=>n instanceof t);let gw,yw;function vM(){return gw||(gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _M(){return yw||(yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wR=new WeakMap,Xg=new WeakMap,SR=new WeakMap,pg=new WeakMap,iv=new WeakMap;function EM(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Sr(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&wR.set(t,n)}).catch(()=>{}),iv.set(e,n),e}function TM(n){if(Xg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Xg.set(n,e)}let Zg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||SR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wM(n){Zg=n(Zg)}function SM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(mg(this),e,...t);return SR.set(i,e.sort?e.sort():[e]),Sr(i)}:_M().includes(n)?function(...e){return n.apply(mg(this),e),Sr(wR.get(this))}:function(...e){return Sr(n.apply(mg(this),e))}}function bM(n){return typeof n=="function"?SM(n):(n instanceof IDBTransaction&&TM(n),yM(n,vM())?new Proxy(n,Zg):n)}function Sr(n){if(n instanceof IDBRequest)return EM(n);if(pg.has(n))return pg.get(n);const e=bM(n);return e!==n&&(pg.set(n,e),iv.set(e,n)),e}const mg=n=>iv.get(n);function bd(n,e,{blocked:t,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Sr(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Sr(u.result),f.oldVersion,f.newVersion,Sr(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}function gg(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",i=>e(i.oldVersion,i)),Sr(t).then(()=>{})}const AM=["get","getKey","getAll","getAllKeys","count"],RM=["put","add","delete","clear"],yg=new Map;function vw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yg.get(e))return yg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=RM.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||AM.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&f.done]))[0]};return yg.set(e,o),o}wM(n=>({...n,get:(e,t,i)=>vw(e,t)||n.get(e,t,i),has:(e,t)=>!!vw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IM(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function IM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jg="@firebase/app",_w="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new Sd("@firebase/app"),xM="@firebase/app-compat",DM="@firebase/analytics-compat",OM="@firebase/analytics",PM="@firebase/app-check-compat",NM="@firebase/app-check",MM="@firebase/auth",VM="@firebase/auth-compat",kM="@firebase/database",LM="@firebase/data-connect",UM="@firebase/database-compat",BM="@firebase/functions",jM="@firebase/functions-compat",FM="@firebase/installations",zM="@firebase/installations-compat",HM="@firebase/messaging",qM="@firebase/messaging-compat",$M="@firebase/performance",GM="@firebase/performance-compat",KM="@firebase/remote-config",YM="@firebase/remote-config-compat",QM="@firebase/storage",WM="@firebase/storage-compat",XM="@firebase/firestore",ZM="@firebase/vertexai",JM="@firebase/firestore-compat",eV="firebase",tV="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",nV={[Jg]:"fire-core",[xM]:"fire-core-compat",[OM]:"fire-analytics",[DM]:"fire-analytics-compat",[NM]:"fire-app-check",[PM]:"fire-app-check-compat",[MM]:"fire-auth",[VM]:"fire-auth-compat",[kM]:"fire-rtdb",[LM]:"fire-data-connect",[UM]:"fire-rtdb-compat",[BM]:"fire-fn",[jM]:"fire-fn-compat",[FM]:"fire-iid",[zM]:"fire-iid-compat",[HM]:"fire-fcm",[qM]:"fire-fcm-compat",[$M]:"fire-perf",[GM]:"fire-perf-compat",[KM]:"fire-rc",[YM]:"fire-rc-compat",[QM]:"fire-gcs",[WM]:"fire-gcs-compat",[XM]:"fire-fst",[JM]:"fire-fst-compat",[ZM]:"fire-vertex","fire-js":"fire-js",[eV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new Map,iV=new Map,ty=new Map;function Ew(n,e){try{n.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ei(n){const e=n.name;if(ty.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,n);for(const t of Bf.values())Ew(t,n);for(const t of iV.values())Ew(t,n);return!0}function xs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function On(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Is("app","Firebase",rV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=tV;function bR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ey,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw gs.create("bad-app-name",{appName:String(a)});if(t||(t=vR()),!t)throw gs.create("no-options");const o=Bf.get(a);if(o){if(_s(t,o.options)&&_s(i,o.config))return o;throw gs.create("duplicate-app",{appName:a})}const u=new fM(a);for(const f of ty.values())u.addComponent(f);const h=new sV(t,i,u);return Bf.set(a,h),h}function Ad(n=ey){const e=Bf.get(n);if(!e&&n===ey&&vR())return bR();if(!e)throw gs.create("no-app",{appName:n});return e}function En(n,e,t){var i;let a=(i=nV[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(h.join(" "));return}ei(new Mn(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="firebase-heartbeat-database",oV=1,ec="firebase-heartbeat-store";let vg=null;function AR(){return vg||(vg=bd(aV,oV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ec)}catch(t){console.warn(t)}}}}).catch(n=>{throw gs.create("idb-open",{originalErrorMessage:n.message})})),vg}async function lV(n){try{const t=(await AR()).transaction(ec),i=await t.objectStore(ec).get(RR(n));return await t.done,i}catch(e){if(e instanceof mi)Cr.warn(e.message);else{const t=gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(t.message)}}}async function Tw(n,e){try{const i=(await AR()).transaction(ec,"readwrite");await i.objectStore(ec).put(e,RR(n)),await i.done}catch(t){if(t instanceof mi)Cr.warn(t.message);else{const i=gs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Cr.warn(i.message)}}}function RR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=1024,cV=30;class hV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dV(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ww();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>cV){const u=pV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Cr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ww(),{heartbeatsToSend:i,unsentEntries:a}=fV(this._heartbeatsCache.heartbeats),o=Uf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Cr.warn(t),""}}}function ww(){return new Date().toISOString().substring(0,10)}function fV(n,e=uV){const t=[];let i=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Sw(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Sw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class dV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tv()?nv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Sw(n){return Uf(JSON.stringify({version:2,heartbeats:n})).length}function pV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(n){ei(new Mn("platform-logger",e=>new CM(e),"PRIVATE")),ei(new Mn("heartbeat",e=>new hV(e),"PRIVATE")),En(Jg,_w,n),En(Jg,_w,"esm2017"),En("fire-js","")}mV("");var gV="firebase",yV="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En(gV,yV,"app");function rv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function CR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vV=CR,IR=new Is("auth","Firebase",CR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Sd("@firebase/auth");function _V(n,...e){jf.logLevel<=Ue.WARN&&jf.warn(`Auth (${ul}): ${n}`,...e)}function Sf(n,...e){jf.logLevel<=Ue.ERROR&&jf.error(`Auth (${ul}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n,...e){throw av(n,...e)}function fi(n,...e){return av(n,...e)}function sv(n,e,t){const i=Object.assign(Object.assign({},vV()),{[e]:t});return new Is("auth","Firebase",i).create(e,{appName:n.name})}function br(n){return sv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EV(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&ti(n,"argument-error"),sv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function av(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return IR.create(n,...e)}function we(n,e,...t){if(!n)throw av(e,...t)}function _r(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sf(e),new Error(e)}function Ir(n,e){n||_r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function TV(){return bw()==="http:"||bw()==="https:"}function bw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TV()||ER()||"connection"in navigator)?navigator.onLine:!0}function SV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ir(t>e,"Short delay should be less than long delay!"),this.isMobile=GN()||QN()}get(){return wV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n,e){Ir(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RV=new bc(3e4,6e4);function Ds(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Mr(n,e,t,i,a={}){return DR(n,a,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=Sc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},o);return YN()||(m.referrerPolicy="no-referrer"),xR.fetch()(await OR(n,n.config.apiHost,t,h),m)})}async function DR(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},bV),e);try{const a=new IV(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw cf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw cf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw cf(n,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw sv(n,g,m);ti(n,g)}}catch(a){if(a instanceof mi)throw a;ti(n,"network-request-failed",{message:String(a)})}}async function Ac(n,e,t,i,a={}){const o=await Mr(n,e,t,i,a);return"mfaPendingCredential"in o&&ti(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function OR(n,e,t,i){const a=`${e}${t}?${i}`,o=n,u=o.config.emulator?ov(n.config,a):`${n.config.apiScheme}://${a}`;return AV.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function CV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(fi(this.auth,"network-request-failed")),RV.get())})}}function cf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=fi(n,e,i);return a.customData._tokenResponse=t,a}function Aw(n){return n!==void 0&&n.enterprise!==void 0}class xV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return CV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DV(n,e){return Mr(n,"GET","/v2/recaptchaConfig",Ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(n,e){return Mr(n,"POST","/v1/accounts:delete",e)}async function Ff(n,e){return Mr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PV(n,e=!1){const t=gt(n),i=await t.getIdToken(e),a=lv(i);we(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:i,authTime:ju(_g(a.auth_time)),issuedAtTime:ju(_g(a.iat)),expirationTime:ju(_g(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function _g(n){return Number(n)*1e3}function lv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=gR(t);return a?JSON.parse(a):(Sf("Failed to decode base64 JWT payload"),null)}catch(a){return Sf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Rw(n){const e=lv(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof mi&&NV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function NV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Wo(n,Ff(t,{idToken:i}));we(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?PR(o.providerUserInfo):[],h=kV(n.providerData,u),f=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=f?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new iy(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function VV(n){const e=gt(n);await zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kV(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function PR(n){return n.map(e=>{var{providerId:t}=e,i=rv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(n,e){const t=await DR(n,{},async()=>{const i=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await OR(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",xR.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UV(n,e){return Mr(n,"POST","/v2/accounts:revokeToken",Ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Rw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:o}=await LV(e,t);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:o}=t,u=new Go;return i&&(we(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(we(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(we(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,o=rv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return PV(this,e)}reload(){return VV(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await zf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await Wo(this,OV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,o,u,h,f,m,g;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,P=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,M=(m=t.createdAt)!==null&&m!==void 0?m:void 0,z=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:te,isAnonymous:Y,providerData:J,stsTokenManager:O}=t;we(L&&O,e,"internal-error");const R=Go.fromJSON(this.name,O);we(typeof L=="string",e,"internal-error"),cs(_,e.name),cs(E,e.name),we(typeof te=="boolean",e,"internal-error"),we(typeof Y=="boolean",e,"internal-error"),cs(S,e.name),cs(b,e.name),cs(P,e.name),cs(x,e.name),cs(M,e.name),cs(z,e.name);const C=new hi({uid:L,auth:e,email:E,emailVerified:te,displayName:_,isAnonymous:Y,photoURL:b,phoneNumber:S,tenantId:P,stsTokenManager:R,createdAt:M,lastLoginAt:z});return J&&Array.isArray(J)&&(C.providerData=J.map(D=>Object.assign({},D))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,t,i=!1){const a=new Go;a.updateFromServerResponse(t);const o=new hi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await zf(o),o}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];we(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?PR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new Go;h.updateFromIdToken(i);const f=new hi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new iy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new Map;function Er(n){Ir(n instanceof Function,"Expected a class definition");let e=Cw.get(n);return e?(Ir(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Cw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}NR.type="NONE";const Iw=NR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ko{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=bf(this.userKey,a.apiKey,o),this.fullPersistenceKey=bf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ff(this.auth,{idToken:e}).catch(()=>{});return t?hi._fromGetAccountInfoResponse(this.auth,t,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ko(Er(Iw),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Er(Iw);const u=bf(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const g=await m._get(u);if(g){let _;if(typeof g=="string"){const E=await Ff(e,{idToken:g}).catch(()=>{});if(!E)break;_=await hi._fromGetAccountInfoResponse(e,E,g)}else _=hi._fromJSON(e,g);m!==o&&(h=_),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ko(o,e,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Ko(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BR(e))return"Blackberry";if(jR(e))return"Webos";if(VR(e))return"Safari";if((e.includes("chrome/")||kR(e))&&!e.includes("edge/"))return"Chrome";if(UR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function MR(n=an()){return/firefox\//i.test(n)}function VR(n=an()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kR(n=an()){return/crios\//i.test(n)}function LR(n=an()){return/iemobile/i.test(n)}function UR(n=an()){return/android/i.test(n)}function BR(n=an()){return/blackberry/i.test(n)}function jR(n=an()){return/webos/i.test(n)}function uv(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BV(n=an()){var e;return uv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jV(){return WN()&&document.documentMode===10}function FR(n=an()){return uv(n)||UR(n)||jR(n)||BR(n)||/windows phone/i.test(n)||LR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n,e=[]){let t;switch(n){case"Browser":t=xw(an());break;case"Worker":t=`${xw(an())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ul}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(n,e={}){return Mr(n,"GET","/v2/passwordPolicy",Ds(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=6;class qV{constructor(e){var t,i,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:HV,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dw(this),this.idTokenSubscription=new Dw(this),this.beforeStateQueue=new FV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{var i,a,o;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ff(this,{idToken:e}),i=await hi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(On(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(br(this));const t=e?gt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zV(this),t=new qV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Is("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await UV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&_V(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Os(n){return gt(n)}class Dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=nM(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GV(n){Rd=n}function HR(n){return Rd.loadJS(n)}function KV(){return Rd.recaptchaEnterpriseScript}function YV(){return Rd.gapiScript}function QV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class WV{constructor(){this.enterprise=new XV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ZV="recaptcha-enterprise",qR="NO_RECAPTCHA";class JV{constructor(e){this.type=ZV,this.auth=Os(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{DV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new xV(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function a(o,u,h){const f=window.grecaptcha;Aw(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(qR)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WV().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!t&&Aw(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=KV();f.length!==0&&(f+=h),HR(f).then(()=>{a(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function Ow(n,e,t,i=!1,a=!1){const o=new JV(n);let u;if(a)u=qR;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ry(n,e,t,i,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ow(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Ow(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n,e){const t=xs(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(_s(o,e??{}))return a;ti(a,"already-initialized")}return t.initialize({options:e})}function t2(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Er);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function n2(n,e,t){const i=Os(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=$R(e),{host:u,port:h}=i2(e),f=h===null?"":`:${h}`,m={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(_s(m,i.config.emulator)&&_s(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,r2()}function $R(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function i2(n){const e=$R(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:Pw(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:Pw(u)}}}function Pw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function r2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function s2(n,e){return Mr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(n,e){return Ac(n,"POST","/v1/accounts:signInWithPassword",Ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(n,e){return Ac(n,"POST","/v1/accounts:signInWithEmailLink",Ds(n,e))}async function l2(n,e){return Ac(n,"POST","/v1/accounts:signInWithEmailLink",Ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends cv{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new tc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new tc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,t,"signInWithPassword",a2);case"emailLink":return o2(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,i,"signUpPassword",s2);case"emailLink":return l2(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n,e){return Ac(n,"POST","/v1/accounts:signInWithIdp",Ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="http://localhost";class Ia extends cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,o=rv(t,["providerId","signInMethod"]);if(!i||!a)return null;const u=new Ia(i,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Yo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:u2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h2(n){const e=Pu(Nu(n)).link,t=e?Pu(Nu(e)).deep_link_id:null,i=Pu(Nu(n)).deep_link_id;return(i?Pu(Nu(i)).link:null)||i||t||e||n}class hv{constructor(e){var t,i,a,o,u,h;const f=Pu(Nu(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(i=f.oobCode)!==null&&i!==void 0?i:null,_=c2((a=f.mode)!==null&&a!==void 0?a:null);we(m&&g&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=h2(e);try{return new hv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,t){return tc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=hv.parseLink(t);return we(i,"argument-error"),tc._fromEmailAndCode(e,i.code,i.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Rc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ia._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vr.credential(t,i)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Rc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Rc{constructor(){super("twitter.com")}static credential(e,t){return Ia._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ps.credential(t,i)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(n,e){return Ac(n,"POST","/v1/accounts:signUp",Ds(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const o=await hi._fromIdTokenResponse(e,i,a),u=Nw(i);return new xa({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Nw(i);return new xa({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Nw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends mi{constructor(e,t,i,a){var o;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Hf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Hf(e,t,i,a)}}function GR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hf._fromErrorAndOperation(n,o,e,i):o})}async function d2(n,e,t=!1){const i=await Wo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(n,e,t=!1){const{auth:i}=n;if(On(i.app))return Promise.reject(br(i));const a="reauthenticate";try{const o=await Wo(n,GR(i,a,e,n),t);we(o.idToken,i,"internal-error");const u=lv(o.idToken);we(u,i,"internal-error");const{sub:h}=u;return we(n.uid===h,i,"user-mismatch"),xa._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ti(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(n,e,t=!1){if(On(n.app))return Promise.reject(br(n));const i="signIn",a=await GR(n,i,e),o=await xa._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(o.user),o}async function m2(n,e){return KR(Os(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(n){const e=Os(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g2(n,e,t){if(On(n.app))return Promise.reject(br(n));const i=Os(n),u=await ry(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f2).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&YR(n),f}),h=await xa._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function y2(n,e,t){return On(n.app)?Promise.reject(br(n)):m2(gt(n),cl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&YR(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(n,e){return Mr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=gt(n),o={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Wo(i,v2(i.auth,o));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function E2(n,e,t,i){return gt(n).onIdTokenChanged(e,t,i)}function T2(n,e,t){return gt(n).beforeAuthStateChanged(e,t)}function w2(n){return gt(n).signOut()}const qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=1e3,b2=10;class WR extends QR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);jV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,b2):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WR.type="LOCAL";const A2=WR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR extends QR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}XR.type="SESSION";const ZR=XR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Cd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async m=>m(t.origin,o)),f=await R2(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const m=dv("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function I2(n){Vi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function x2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function O2(){return JR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="firebaseLocalStorageDb",P2=1,$f="firebaseLocalStorage",t1="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Id(n,e){return n.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function N2(){const n=indexedDB.deleteDatabase(e1);return new Cc(n).toPromise()}function sy(){const n=indexedDB.open(e1,P2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore($f,{keyPath:t1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains($f)?e(i):(i.close(),await N2(),e(await sy()))})})}async function Mw(n,e,t){const i=Id(n,!0).put({[t1]:e,value:t});return new Cc(i).toPromise()}async function M2(n,e){const t=Id(n,!1).get(e),i=await new Cc(t).toPromise();return i===void 0?null:i.value}function Vw(n,e){const t=Id(n,!0).delete(e);return new Cc(t).toPromise()}const V2=800,k2=3;class n1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>k2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cd._getInstance(O2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await x2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await Mw(e,qf,"1"),await Vw(e,qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Mw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>M2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Id(a,!1).getAll();return new Cc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n1.type="LOCAL";const L2=n1;new bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(n,e){return e?Er(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function U2(n){return KR(n.auth,new pv(n),n.bypassAuthState)}function B2(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),p2(t,new pv(n),n.bypassAuthState)}async function j2(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),d2(t,new pv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return j2;case"reauthViaPopup":case"reauthViaRedirect":return B2;default:ti(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new bc(2e3,1e4);async function z2(n,e,t){if(On(n.app))return Promise.reject(fi(n,"operation-not-supported-in-this-environment"));const i=Os(n);EV(n,e,fv);const a=i1(i,t);return new wa(i,"signInViaPopup",e,a).executeNotNull()}class wa extends r1{constructor(e,t,i,a,o){super(e,t,a,o),this.provider=i,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F2.get())};e()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="pendingRedirect",Af=new Map;class q2 extends r1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const i=await $2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $2(n,e){const t=Y2(e),i=K2(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function G2(n,e){Af.set(n._key(),e)}function K2(n){return Er(n._redirectPersistence)}function Y2(n){return bf(H2,n.config.apiKey,n.name)}async function Q2(n,e,t=!1){if(On(n.app))return Promise.reject(br(n));const i=Os(n),a=i1(i,e),u=await new q2(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=10*60*1e3;class X2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!s1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(fi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W2&&this.cachedEventUids.clear(),this.cachedEventUids.has(kw(e))}saveEventToCache(e){this.cachedEventUids.add(kw(e)),this.lastProcessedEventTime=Date.now()}}function kw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function s1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(n,e={}){return Mr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tk=/^https?/;async function nk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await J2(n);for(const t of e)try{if(ik(t))return}catch{}ti(n,"unauthorized-domain")}function ik(n){const e=ny(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!tk.test(t))return!1;if(ek.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new bc(3e4,6e4);function Lw(){const n=Vi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sk(n){return new Promise((e,t)=>{var i,a,o;function u(){Lw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lw(),t(fi(n,"network-request-failed"))},timeout:rk.get()})}if(!((a=(i=Vi().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Vi().gapi)===null||o===void 0)&&o.load)u();else{const h=QV("iframefcb");return Vi()[h]=()=>{gapi.load?u():t(fi(n,"network-request-failed"))},HR(`${YV()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function ak(n){return Rf=Rf||sk(n),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new bc(5e3,15e3),lk="__/auth/iframe",uk="emulator/auth/iframe",ck={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fk(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ov(e,uk):`https://${n.config.authDomain}/${lk}`,i={apiKey:e.apiKey,appName:n.name,v:ul},a=hk.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Sc(i).slice(1)}`}async function dk(n){const e=await ak(n),t=Vi().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:fk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ck,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const u=fi(n,"network-request-failed"),h=Vi().setTimeout(()=>{o(u)},ok.get());function f(){Vi().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mk=500,gk=600,yk="_blank",vk="http://localhost";class Uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _k(n,e,t,i=mk,a=gk){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},pk),{width:i.toString(),height:a.toString(),top:o,left:u}),m=an().toLowerCase();t&&(h=kR(m)?yk:t),MR(m)&&(e=e||vk,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[S,b])=>`${E}${S}=${b},`,"");if(BV(m)&&h!=="_self")return Ek(e||"",h),new Uw(null);const _=window.open(e||"",h,g);we(_,n,"popup-blocked");try{_.focus()}catch{}return new Uw(_)}function Ek(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="__/auth/handler",wk="emulator/auth/handler",Sk=encodeURIComponent("fac");async function Bw(n,e,t,i,a,o){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ul,eventId:a};if(e instanceof fv){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",tM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof Rc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),m=f?`#${Sk}=${encodeURIComponent(f)}`:"";return`${bk(n)}?${Sc(h).slice(1)}${m}`}function bk({config:n}){return n.emulator?ov(n,wk):`https://${n.authDomain}/${Tk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="webStorageSupport";class Ak{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZR,this._completeRedirectFn=Q2,this._overrideRedirectResult=G2}async _openPopup(e,t,i,a){var o;Ir((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Bw(e,t,i,ny(),a);return _k(e,u,dv())}async _openRedirect(e,t,i,a){await this._originValidation(e);const o=await Bw(e,t,i,ny(),a);return I2(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Ir(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await dk(e),i=new X2(e);return t.register("authEvent",a=>(we(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Eg,{type:Eg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Eg];u!==void 0&&t(!!u),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FR()||VR()||uv()}}const Rk=Ak;var jw="@firebase/auth",Fw="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xk(n){ei(new Mn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zR(n)},m=new $V(i,a,o,f);return t2(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ei(new Mn("auth-internal",e=>{const t=Os(e.getProvider("auth").getImmediate());return(i=>new Ck(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),En(jw,Fw,Ik(n)),En(jw,Fw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=5*60,Ok=_R("authIdTokenMaxAge")||Dk;let zw=null;const Pk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Ok)return;const a=t==null?void 0:t.token;zw!==a&&(zw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xd(n=Ad()){const e=xs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=e2(n,{popupRedirectResolver:Rk,persistence:[L2,A2,ZR]}),i=_R("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=Pk(o.toString());T2(t,u,()=>u(t.currentUser)),E2(t,h=>u(h))}}const a=yR("auth");return a&&n2(t,`http://${a}`),t}function Nk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}GV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const o=fi("internal-error");o.customData=a,t(o)},i.type="text/javascript",i.charset="UTF-8",Nk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xk("Browser");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,a1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function C(){}C.prototype=R.prototype,O.D=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(D,N,U){for(var V=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)V[Le-2]=arguments[Le];return R.prototype[N].apply(D,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,R,C){C||(C=0);var D=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)D[N]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(N=0;16>N;++N)D[N]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],N=O.g[2];var U=O.g[3],V=R+(U^C&(N^U))+D[0]+3614090360&4294967295;R=C+(V<<7&4294967295|V>>>25),V=U+(N^R&(C^N))+D[1]+3905402710&4294967295,U=R+(V<<12&4294967295|V>>>20),V=N+(C^U&(R^C))+D[2]+606105819&4294967295,N=U+(V<<17&4294967295|V>>>15),V=C+(R^N&(U^R))+D[3]+3250441966&4294967295,C=N+(V<<22&4294967295|V>>>10),V=R+(U^C&(N^U))+D[4]+4118548399&4294967295,R=C+(V<<7&4294967295|V>>>25),V=U+(N^R&(C^N))+D[5]+1200080426&4294967295,U=R+(V<<12&4294967295|V>>>20),V=N+(C^U&(R^C))+D[6]+2821735955&4294967295,N=U+(V<<17&4294967295|V>>>15),V=C+(R^N&(U^R))+D[7]+4249261313&4294967295,C=N+(V<<22&4294967295|V>>>10),V=R+(U^C&(N^U))+D[8]+1770035416&4294967295,R=C+(V<<7&4294967295|V>>>25),V=U+(N^R&(C^N))+D[9]+2336552879&4294967295,U=R+(V<<12&4294967295|V>>>20),V=N+(C^U&(R^C))+D[10]+4294925233&4294967295,N=U+(V<<17&4294967295|V>>>15),V=C+(R^N&(U^R))+D[11]+2304563134&4294967295,C=N+(V<<22&4294967295|V>>>10),V=R+(U^C&(N^U))+D[12]+1804603682&4294967295,R=C+(V<<7&4294967295|V>>>25),V=U+(N^R&(C^N))+D[13]+4254626195&4294967295,U=R+(V<<12&4294967295|V>>>20),V=N+(C^U&(R^C))+D[14]+2792965006&4294967295,N=U+(V<<17&4294967295|V>>>15),V=C+(R^N&(U^R))+D[15]+1236535329&4294967295,C=N+(V<<22&4294967295|V>>>10),V=R+(N^U&(C^N))+D[1]+4129170786&4294967295,R=C+(V<<5&4294967295|V>>>27),V=U+(C^N&(R^C))+D[6]+3225465664&4294967295,U=R+(V<<9&4294967295|V>>>23),V=N+(R^C&(U^R))+D[11]+643717713&4294967295,N=U+(V<<14&4294967295|V>>>18),V=C+(U^R&(N^U))+D[0]+3921069994&4294967295,C=N+(V<<20&4294967295|V>>>12),V=R+(N^U&(C^N))+D[5]+3593408605&4294967295,R=C+(V<<5&4294967295|V>>>27),V=U+(C^N&(R^C))+D[10]+38016083&4294967295,U=R+(V<<9&4294967295|V>>>23),V=N+(R^C&(U^R))+D[15]+3634488961&4294967295,N=U+(V<<14&4294967295|V>>>18),V=C+(U^R&(N^U))+D[4]+3889429448&4294967295,C=N+(V<<20&4294967295|V>>>12),V=R+(N^U&(C^N))+D[9]+568446438&4294967295,R=C+(V<<5&4294967295|V>>>27),V=U+(C^N&(R^C))+D[14]+3275163606&4294967295,U=R+(V<<9&4294967295|V>>>23),V=N+(R^C&(U^R))+D[3]+4107603335&4294967295,N=U+(V<<14&4294967295|V>>>18),V=C+(U^R&(N^U))+D[8]+1163531501&4294967295,C=N+(V<<20&4294967295|V>>>12),V=R+(N^U&(C^N))+D[13]+2850285829&4294967295,R=C+(V<<5&4294967295|V>>>27),V=U+(C^N&(R^C))+D[2]+4243563512&4294967295,U=R+(V<<9&4294967295|V>>>23),V=N+(R^C&(U^R))+D[7]+1735328473&4294967295,N=U+(V<<14&4294967295|V>>>18),V=C+(U^R&(N^U))+D[12]+2368359562&4294967295,C=N+(V<<20&4294967295|V>>>12),V=R+(C^N^U)+D[5]+4294588738&4294967295,R=C+(V<<4&4294967295|V>>>28),V=U+(R^C^N)+D[8]+2272392833&4294967295,U=R+(V<<11&4294967295|V>>>21),V=N+(U^R^C)+D[11]+1839030562&4294967295,N=U+(V<<16&4294967295|V>>>16),V=C+(N^U^R)+D[14]+4259657740&4294967295,C=N+(V<<23&4294967295|V>>>9),V=R+(C^N^U)+D[1]+2763975236&4294967295,R=C+(V<<4&4294967295|V>>>28),V=U+(R^C^N)+D[4]+1272893353&4294967295,U=R+(V<<11&4294967295|V>>>21),V=N+(U^R^C)+D[7]+4139469664&4294967295,N=U+(V<<16&4294967295|V>>>16),V=C+(N^U^R)+D[10]+3200236656&4294967295,C=N+(V<<23&4294967295|V>>>9),V=R+(C^N^U)+D[13]+681279174&4294967295,R=C+(V<<4&4294967295|V>>>28),V=U+(R^C^N)+D[0]+3936430074&4294967295,U=R+(V<<11&4294967295|V>>>21),V=N+(U^R^C)+D[3]+3572445317&4294967295,N=U+(V<<16&4294967295|V>>>16),V=C+(N^U^R)+D[6]+76029189&4294967295,C=N+(V<<23&4294967295|V>>>9),V=R+(C^N^U)+D[9]+3654602809&4294967295,R=C+(V<<4&4294967295|V>>>28),V=U+(R^C^N)+D[12]+3873151461&4294967295,U=R+(V<<11&4294967295|V>>>21),V=N+(U^R^C)+D[15]+530742520&4294967295,N=U+(V<<16&4294967295|V>>>16),V=C+(N^U^R)+D[2]+3299628645&4294967295,C=N+(V<<23&4294967295|V>>>9),V=R+(N^(C|~U))+D[0]+4096336452&4294967295,R=C+(V<<6&4294967295|V>>>26),V=U+(C^(R|~N))+D[7]+1126891415&4294967295,U=R+(V<<10&4294967295|V>>>22),V=N+(R^(U|~C))+D[14]+2878612391&4294967295,N=U+(V<<15&4294967295|V>>>17),V=C+(U^(N|~R))+D[5]+4237533241&4294967295,C=N+(V<<21&4294967295|V>>>11),V=R+(N^(C|~U))+D[12]+1700485571&4294967295,R=C+(V<<6&4294967295|V>>>26),V=U+(C^(R|~N))+D[3]+2399980690&4294967295,U=R+(V<<10&4294967295|V>>>22),V=N+(R^(U|~C))+D[10]+4293915773&4294967295,N=U+(V<<15&4294967295|V>>>17),V=C+(U^(N|~R))+D[1]+2240044497&4294967295,C=N+(V<<21&4294967295|V>>>11),V=R+(N^(C|~U))+D[8]+1873313359&4294967295,R=C+(V<<6&4294967295|V>>>26),V=U+(C^(R|~N))+D[15]+4264355552&4294967295,U=R+(V<<10&4294967295|V>>>22),V=N+(R^(U|~C))+D[6]+2734768916&4294967295,N=U+(V<<15&4294967295|V>>>17),V=C+(U^(N|~R))+D[13]+1309151649&4294967295,C=N+(V<<21&4294967295|V>>>11),V=R+(N^(C|~U))+D[4]+4149444226&4294967295,R=C+(V<<6&4294967295|V>>>26),V=U+(C^(R|~N))+D[11]+3174756917&4294967295,U=R+(V<<10&4294967295|V>>>22),V=N+(R^(U|~C))+D[2]+718787259&4294967295,N=U+(V<<15&4294967295|V>>>17),V=C+(U^(N|~R))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(N+(V<<21&4294967295|V>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+U&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var C=R-this.blockSize,D=this.B,N=this.h,U=0;U<R;){if(N==0)for(;U<=C;)a(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<R;)if(D[N++]=O.charCodeAt(U++),N==this.blockSize){a(this,D),N=0;break}}else for(;U<R;)if(D[N++]=O[U++],N==this.blockSize){a(this,D),N=0;break}}this.h=N,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var C=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=C&255,C/=256;for(this.u(O),O=Array(16),R=C=0;4>R;++R)for(var D=0;32>D;D+=8)O[C++]=this.g[R]>>>D&255;return O};function o(O,R){var C=h;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function u(O,R){this.h=R;for(var C=[],D=!0,N=O.length-1;0<=N;N--){var U=O[N]|0;D&&U==R||(C[N]=U,D=!1)}this.g=C}var h={};function f(O){return-128<=O&&128>O?o(O,function(R){return new u([R|0],0>R?-1:0)}):new u([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return x(m(-O));for(var R=[],C=1,D=0;O>=C;D++)R[D]=O/C|0,C*=4294967296;return new u(R,0)}function g(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return x(g(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(R,8)),D=_,N=0;N<O.length;N+=8){var U=Math.min(8,O.length-N),V=parseInt(O.substring(N,N+U),R);8>U?(U=m(Math.pow(R,U)),D=D.j(U).add(m(V))):(D=D.j(C),D=D.add(m(V)))}return D}var _=f(0),E=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(P(this))return-x(this).m();for(var O=0,R=1,C=0;C<this.g.length;C++){var D=this.i(C);O+=(0<=D?D:4294967296+D)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(P(this))return"-"+x(this).toString(O);for(var R=m(Math.pow(O,6)),C=this,D="";;){var N=te(C,R).g;C=M(C,N.j(R));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=N,b(C))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function b(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function P(O){return O.h==-1}n.l=function(O){return O=M(this,O),P(O)?-1:b(O)?0:1};function x(O){for(var R=O.g.length,C=[],D=0;D<R;D++)C[D]=~O.g[D];return new u(C,~O.h).add(E)}n.abs=function(){return P(this)?x(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],D=0,N=0;N<=R;N++){var U=D+(this.i(N)&65535)+(O.i(N)&65535),V=(U>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);D=V>>>16,U&=65535,V&=65535,C[N]=V<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function M(O,R){return O.add(x(R))}n.j=function(O){if(b(this)||b(O))return _;if(P(this))return P(O)?x(this).j(x(O)):x(x(this).j(O));if(P(O))return x(this.j(x(O)));if(0>this.l(S)&&0>O.l(S))return m(this.m()*O.m());for(var R=this.g.length+O.g.length,C=[],D=0;D<2*R;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<O.g.length;N++){var U=this.i(D)>>>16,V=this.i(D)&65535,Le=O.i(N)>>>16,Pe=O.i(N)&65535;C[2*D+2*N]+=V*Pe,z(C,2*D+2*N),C[2*D+2*N+1]+=U*Pe,z(C,2*D+2*N+1),C[2*D+2*N+1]+=V*Le,z(C,2*D+2*N+1),C[2*D+2*N+2]+=U*Le,z(C,2*D+2*N+2)}for(D=0;D<R;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=R;D<2*R;D++)C[D]=0;return new u(C,0)};function z(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function L(O,R){this.g=O,this.h=R}function te(O,R){if(b(R))throw Error("division by zero");if(b(O))return new L(_,_);if(P(O))return R=te(x(O),R),new L(x(R.g),x(R.h));if(P(R))return R=te(O,x(R)),new L(x(R.g),R.h);if(30<O.g.length){if(P(O)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var C=E,D=R;0>=D.l(O);)C=Y(C),D=Y(D);var N=J(C,1),U=J(D,1);for(D=J(D,2),C=J(C,2);!b(D);){var V=U.add(D);0>=V.l(O)&&(N=N.add(C),U=V),D=J(D,1),C=J(C,1)}return R=M(O,N.j(R)),new L(N,R)}for(N=_;0<=O.l(R);){for(C=Math.max(1,Math.floor(O.m()/R.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=m(C),V=U.j(R);P(V)||0<V.l(O);)C-=D,U=m(C),V=U.j(R);b(U)&&(U=E),N=N.add(U),O=M(O,V)}return new L(N,O)}n.A=function(O){return te(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)&O.i(D);return new u(C,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)|O.i(D);return new u(C,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)^O.i(D);return new u(C,this.h^O.h)};function Y(O){for(var R=O.g.length+1,C=[],D=0;D<R;D++)C[D]=O.i(D)<<1|O.i(D-1)>>>31;return new u(C,O.h)}function J(O,R){var C=R>>5;R%=32;for(var D=O.g.length-C,N=[],U=0;U<D;U++)N[U]=0<R?O.i(U+C)>>>R|O.i(U+C+1)<<32-R:O.i(U+C);return new u(N,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,a1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,ys=u}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o1,Mu,l1,Cf,ay,u1,c1,h1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof hf=="object"&&hf];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(d,v){if(v)e:{var T=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var q=d[I];if(!(q in T))break e;T=T[q]}d=d[d.length-1],I=T[d],v=v(I),v!=I&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var T=0,I=!1,q={next:function(){if(!I&&T<d.length){var X=T++;return{value:v(X,d[X]),done:!1}}return I=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(d){return d||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,T){return d.call.apply(d.bind,arguments)}function _(d,v,T){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,I),d.apply(v,q)}}return function(){return d.apply(v,arguments)}}function E(d,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function S(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function b(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(I,q,X){for(var ue=Array(arguments.length-2),je=2;je<arguments.length;je++)ue[je-2]=arguments[je];return v.prototype[q].apply(I,ue)}}function P(d){const v=d.length;if(0<v){const T=Array(v);for(let I=0;I<v;I++)T[I]=d[I];return T}return[]}function x(d,v){for(let T=1;T<arguments.length;T++){const I=arguments[T];if(f(I)){const q=d.length||0,X=I.length||0;d.length=q+X;for(let ue=0;ue<X;ue++)d[q+ue]=I[ue]}else d.push(I)}}class M{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function te(d){return te[" "](d),d}te[" "]=function(){};var Y=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function J(d,v,T){for(const I in d)v.call(T,d[I],I,d)}function O(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function R(d){const v={};for(const T in d)v[T]=d[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(d,v){let T,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(T in I)d[T]=I[T];for(let X=0;X<C.length;X++)T=C[X],Object.prototype.hasOwnProperty.call(I,T)&&(d[T]=I[T])}}function N(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function U(d){h.setTimeout(()=>{throw d},0)}function V(){var d=Te;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Le{constructor(){this.h=this.g=null}add(v,T){const I=Pe.get();I.set(v,T),this.h?this.h.next=I:this.g=I,this.h=I}}var Pe=new M(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,he=!1,Te=new Le,B=()=>{const d=h.Promise.resolve(void 0);ie=()=>{d.then(ae)}};var ae=()=>{for(var d;d=V();){try{d.h.call(d.g)}catch(T){U(T)}var v=Pe;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}he=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return d}();function Ne(d,v){if(le.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(Y){e:{try{te(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ne.aa.h.call(this)}}b(Ne,le);var Ae={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),it=0;function gi(d,v,T,I,q){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!I,this.ha=q,this.key=++it,this.da=this.fa=!1}function Vr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function $i(d){this.src=d,this.g={},this.h=0}$i.prototype.add=function(d,v,T,I,q){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var ue=ks(d,v,I,q);return-1<ue?(v=d[ue],T||(v.fa=!1)):(v=new gi(v,this.src,X,!!I,q),v.fa=T,d.push(v)),v};function Vs(d,v){var T=v.type;if(T in d.g){var I=d.g[T],q=Array.prototype.indexOf.call(I,v,void 0),X;(X=0<=q)&&Array.prototype.splice.call(I,q,1),X&&(Vr(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function ks(d,v,T,I){for(var q=0;q<d.length;++q){var X=d[q];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==I)return q}return-1}var Ls="closure_lm_"+(1e6*Math.random()|0),vl={};function Uc(d,v,T,I,q){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Uc(d,v[X],T,I,q);return null}return T=Bc(T),d&&d[Vt]?d.K(v,T,m(I)?!!I.capture:!1,q):Vn(d,v,T,!1,I,q)}function Vn(d,v,T,I,q,X){if(!v)throw Error("Invalid event type");var ue=m(q)?!!q.capture:!!q,je=Ba(d);if(je||(d[Ls]=je=new $i(d)),T=je.add(v,T,I,ue,X),T.proxy)return T;if(I=ip(),T.proxy=I,I.src=d,I.listener=T,d.addEventListener)ye||(q=ue),q===void 0&&(q=!1),d.addEventListener(v.toString(),I,q);else if(d.attachEvent)d.attachEvent(Us(v.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ip(){function d(T){return v.call(d.src,d.listener,T)}const v=rp;return d}function _l(d,v,T,I,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)_l(d,v[X],T,I,q);else I=m(I)?!!I.capture:!!I,T=Bc(T),d&&d[Vt]?(d=d.i,v=String(v).toString(),v in d.g&&(X=d.g[v],T=ks(X,T,I,q),-1<T&&(Vr(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete d.g[v],d.h--)))):d&&(d=Ba(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ks(v,T,I,q)),(T=-1<d?v[d]:null)&&Ua(T))}function Ua(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Vt])Vs(v.i,d);else{var T=d.type,I=d.proxy;v.removeEventListener?v.removeEventListener(T,I,d.capture):v.detachEvent?v.detachEvent(Us(T),I):v.addListener&&v.removeListener&&v.removeListener(I),(T=Ba(v))?(Vs(T,d),T.h==0&&(T.src=null,v[Ls]=null)):Vr(d)}}}function Us(d){return d in vl?vl[d]:vl[d]="on"+d}function rp(d,v){if(d.da)d=!0;else{v=new Ne(v,this);var T=d.listener,I=d.ha||d.src;d.fa&&Ua(d),d=T.call(I,v)}return d}function Ba(d){return d=d[Ls],d instanceof $i?d:null}var El="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bc(d){return typeof d=="function"?d:(d[El]||(d[El]=function(v){return d.handleEvent(v)}),d[El])}function ft(){ce.call(this),this.i=new $i(this),this.M=this,this.F=null}b(ft,ce),ft.prototype[Vt]=!0,ft.prototype.removeEventListener=function(d,v,T,I){_l(this,d,v,T,I)};function Ye(d,v){var T,I=d.F;if(I)for(T=[];I;I=I.F)T.push(I);if(d=d.M,I=v.type||v,typeof v=="string")v=new le(v,d);else if(v instanceof le)v.target=v.target||d;else{var q=v;v=new le(I,d),D(v,q)}if(q=!0,T)for(var X=T.length-1;0<=X;X--){var ue=v.g=T[X];q=wn(ue,I,!0,v)&&q}if(ue=v.g=d,q=wn(ue,I,!0,v)&&q,q=wn(ue,I,!1,v)&&q,T)for(X=0;X<T.length;X++)ue=v.g=T[X],q=wn(ue,I,!1,v)&&q}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],I=0;I<T.length;I++)Vr(T[I]);delete d.g[v],d.h--}}this.F=null},ft.prototype.K=function(d,v,T,I){return this.i.add(String(d),v,!1,T,I)},ft.prototype.L=function(d,v,T,I){return this.i.add(String(d),v,!0,T,I)};function wn(d,v,T,I){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,X=0;X<v.length;++X){var ue=v[X];if(ue&&!ue.da&&ue.capture==T){var je=ue.listener,xt=ue.ha||ue.src;ue.fa&&Vs(d.i,ue),q=je.call(xt,I)!==!1&&q}}return q&&!I.defaultPrevented}function Xt(d,v,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function jc(d){d.g=Xt(()=>{d.g=null,d.i&&(d.i=!1,jc(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class sp extends ce{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:jc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(d){ce.call(this),this.h=d,this.g={}}b(Bs,ce);var js=[];function Fs(d){J(d.g,function(v,T){this.g.hasOwnProperty(T)&&Ua(v)},d),d.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),Fs(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=h.JSON.stringify,ja=h.JSON.parse,zs=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Tl(){}Tl.prototype.h=null;function wl(d){return d.h||(d.h=d.i())}function Sl(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ki(){le.call(this,"d")}b(Ki,le);function bl(){le.call(this,"c")}b(bl,le);var yi={},Al=null;function kr(){return Al=Al||new ft}yi.La="serverreachability";function Fa(d){le.call(this,yi.La,d)}b(Fa,le);function Lr(d){const v=kr();Ye(v,new Fa(v))}yi.STAT_EVENT="statevent";function Fc(d,v){le.call(this,yi.STAT_EVENT,d),this.stat=v}b(Fc,le);function at(d){const v=kr();Ye(v,new Fc(v,d))}yi.Ma="timingevent";function It(d,v){le.call(this,yi.Ma,d),this.size=v}b(It,le);function wt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function Rl(d,v,T,I,q,X){d.info(function(){if(d.g)if(X)for(var ue="",je=X.split("&"),xt=0;xt<je.length;xt++){var Fe=je[xt].split("=");if(1<Fe.length){var Lt=Fe[0];Fe=Fe[1];var Dt=Lt.split("_");ue=2<=Dt.length&&Dt[1]=="type"?ue+(Lt+"="+Fe+"&"):ue+(Lt+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+v+`
`+T+`
`+ue})}function ap(d,v,T,I,q,X,ue){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+v+`
`+T+`
`+X+" "+ue})}function Ur(d,v,T,I){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Hs(d,T)+(I?" "+I:"")})}function zc(d,v){d.info(function(){return"TIMEOUT: "+v})}kn.prototype.info=function(){};function Hs(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var I=T[d];if(!(2>I.length)){var q=I[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<q.length;ue++)q[ue]=""}}}}return ni(T)}catch{return v}}var Br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vi;function _i(){}b(_i,Tl),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},vi=new _i;function ln(d,v,T,I){this.j=d,this.i=v,this.l=T,this.R=I||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var Cl={},za={};function ii(d,v,T){d.L=1,d.v=Ys(Sn(v)),d.m=T,d.P=!0,Qi(d,null)}function Qi(d,v){d.F=Date.now(),qs(d),d.A=Sn(d.v);var T=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),Nl(T.i,"t",I),d.C=0,T=d.j.J,d.h=new yt,d.g=rh(d.j,T?v:null,!d.m),0<d.O&&(d.M=new sp(E(d.Y,d,d.g),d.O)),v=d.U,T=d.g,I=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(js[0]=q.toString()),q=js);for(var X=0;X<q.length;X++){var ue=Uc(T,q[X],I||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Lr(),Rl(d.i,d.u,d.A,d.l,d.R,d.m)}ln.prototype.ca=function(d){d=d.target;const v=this.M;v&&jn(d)==3?v.j():this.Y(d)},ln.prototype.Y=function(d){try{if(d==this.g)e:{const Dt=jn(this.g);var v=this.g.Ba();const ir=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Wc(this.g)))){this.J||Dt!=4||v==7||(v==8||0>=ir?Lr(3):Lr(2)),jr(this);var T=this.g.Z();this.X=T;t:if(Hc(this)){var I=Wc(this.g);d="";var q=I.length,X=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),Ei(this);var ue="";break t}this.h.i=new h.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,d+=this.h.i.decode(I[v],{stream:!(X&&v==q-1)});I.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=T==200,ap(this.i,this.u,this.A,this.l,this.R,Dt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var je,xt=this.g;if((je=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(je)){var Fe=je;break t}}Fe=null}if(T=Fe)Ur(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$s(this,T);else{this.o=!1,this.s=3,at(12),zt(this),Ei(this);break e}}if(this.P){T=!0;let Ht;for(;!this.J&&this.C<ue.length;)if(Ht=qc(this,ue),Ht==za){Dt==4&&(this.s=4,at(14),T=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Cl){this.s=4,at(15),Ur(this.i,this.l,ue,"[Invalid Chunk]"),T=!1;break}else Ur(this.i,this.l,Ht,null),$s(this,Ht);if(Hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ue.length!=0||this.h.h||(this.s=1,at(16),T=!1),this.o=this.o&&T,!T)Ur(this.i,this.l,ue,"[Invalid Chunked Response]"),zt(this),Ei(this);else if(0<ue.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),na(Lt),Lt.M=!0,at(11))}}else Ur(this.i,this.l,ue,null),$s(this,ue);Dt==4&&zt(this),this.o&&!this.J&&(Dt==4?th(this.j,this):(this.o=!1,qs(this)))}else hp(this.g),T==400&&0<ue.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),zt(this),Ei(this)}}}catch{}finally{}};function Hc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function qc(d,v){var T=d.C,I=v.indexOf(`
`,T);return I==-1?za:(T=Number(v.substring(T,I)),isNaN(T)?Cl:(I+=1,I+T>v.length?za:(v=v.slice(I,I+T),d.C=I+T,v)))}ln.prototype.cancel=function(){this.J=!0,zt(this)};function qs(d){d.S=Date.now()+d.I,$c(d,d.I)}function $c(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=wt(E(d.ba,d),v)}function jr(d){d.B&&(h.clearTimeout(d.B),d.B=null)}ln.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(zc(this.i,this.A),this.L!=2&&(Lr(),at(17)),zt(this),this.s=2,Ei(this)):$c(this,this.S-d)};function Ei(d){d.j.G==0||d.J||th(d.j,d)}function zt(d){jr(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Fs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function $s(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||Il(T.h,d))){if(!d.K&&Il(T.h,d)&&T.G==3){try{var I=T.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)eo(T),Za(T);else break e;Ul(T),at(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=wt(E(T.Za,T),6e3));if(1>=qa(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else nr(T,11)}else if((d.K||T.g==d)&&eo(T),!z(v))for(q=T.Da.g.parse(v),v=0;v<q.length;v++){let Fe=q[v];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const Lt=Fe[3];Lt!=null&&(T.la=Lt,T.j.info("VER="+T.la));const Dt=Fe[4];Dt!=null&&(T.Aa=Dt,T.j.info("SVER="+T.Aa));const ir=Fe[5];ir!=null&&typeof ir=="number"&&0<ir&&(I=1.5*ir,T.L=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const Ht=d.g;if(Ht){const Ci=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var X=I.h;X.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&($a(X,X.h),X.h=null))}if(I.D){const jl=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(I.ya=jl,Xe(I.I,I.D,jl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),I=T;var ue=d;if(I.qa=ih(I,I.J?I.ia:null,I.W),ue.K){un(I.h,ue);var je=ue,xt=I.L;xt&&(je.I=xt),je.B&&(jr(je),qs(je)),I.g=ue}else Jc(I);0<T.i.length&&Ja(T)}else Fe[0]!="stop"&&Fe[0]!="close"||nr(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?nr(T,7):kl(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}Lr(4)}catch{}}var Gc=class{constructor(d,v){this.g=d,this.map=v}};function Wi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ha(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function qa(d){return d.h?1:d.g?d.g.size:0}function Il(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function $a(d,v){d.g?d.g.add(v):d.h=v}function un(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Wi.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return P(d.i)}function op(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],T=d.length,I=0;I<T;I++)v.push(d[I]);return v}v=[],T=0;for(I in d)v[T++]=d[I];return v}function Ga(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const I in d)v[T++]=I;return v}}}function Dl(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=Ga(d),I=op(d),q=I.length,X=0;X<q;X++)v.call(void 0,I[X],T&&T[X],d)}var Gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lp(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var I=d[T].indexOf("="),q=null;if(0<=I){var X=d[T].substring(0,I);q=d[T].substring(I+1)}else X=d[T];v(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function St(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof St){this.h=d.h,Ks(this,d.j),this.o=d.o,this.g=d.g,Fr(this,d.s),this.l=d.l;var v=d.i,T=new Zi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Xi(this,T),this.m=d.m}else d&&(v=String(d).match(Gs))?(this.h=!1,Ks(this,v[1]||"",!0),this.o=Ln(v[2]||""),this.g=Ln(v[3]||"",!0),Fr(this,v[4]),this.l=Ln(v[5]||"",!0),Xi(this,v[6]||"",!0),this.m=Ln(v[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}St.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Qs(v,Ol,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Qs(v,Ol,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Qs(T,T.charAt(0)=="/"?up:Pl,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Qs(T,Ka)),d.join("")};function Sn(d){return new St(d)}function Ks(d,v,T){d.j=T?Ln(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Fr(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Xi(d,v,T){v instanceof Zi?(d.i=v,Yc(d.i,d.h)):(T||(v=Qs(v,cp)),d.i=new Zi(v,d.h))}function Xe(d,v,T){d.i.set(v,T)}function Ys(d){return Xe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ln(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qs(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,Kc),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Kc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ol=/[#\/\?@]/g,Pl=/[#\?:]/g,up=/[#\?]/g,cp=/[#\?@]/g,Ka=/#/g;function Zi(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Un(d){d.g||(d.g=new Map,d.h=0,d.i&&lp(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Zi.prototype,n.add=function(d,v){Un(this),this.i=null,d=Ti(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function Ji(d,v){Un(d),v=Ti(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function er(d,v){return Un(d),v=Ti(d,v),d.g.has(v)}n.forEach=function(d,v){Un(this),this.g.forEach(function(T,I){T.forEach(function(q){d.call(v,q,I,this)},this)},this)},n.na=function(){Un(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let I=0;I<v.length;I++){const q=d[I];for(let X=0;X<q.length;X++)T.push(v[I])}return T},n.V=function(d){Un(this);let v=[];if(typeof d=="string")er(this,d)&&(v=v.concat(this.g.get(Ti(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},n.set=function(d,v){return Un(this),this.i=null,d=Ti(this,d),er(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Nl(d,v,T){Ji(d,v),0<T.length&&(d.i=null,d.g.set(Ti(d,v),P(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var I=v[T];const X=encodeURIComponent(String(I)),ue=this.V(I);for(I=0;I<ue.length;I++){var q=X;ue[I]!==""&&(q+="="+encodeURIComponent(String(ue[I]))),d.push(q)}}return this.i=d.join("&")};function Ti(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Yc(d,v){v&&!d.j&&(Un(d),d.i=null,d.g.forEach(function(T,I){var q=I.toLowerCase();I!=q&&(Ji(this,I),Nl(this,q,T))},d)),d.j=v}function Ws(d,v){const T=new kn;if(h.Image){const I=new Image;I.onload=S(Bn,T,"TestLoadImage: loaded",!0,v,I),I.onerror=S(Bn,T,"TestLoadImage: error",!1,v,I),I.onabort=S(Bn,T,"TestLoadImage: abort",!1,v,I),I.ontimeout=S(Bn,T,"TestLoadImage: timeout",!1,v,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else v(!1)}function ri(d,v){const T=new kn,I=new AbortController,q=setTimeout(()=>{I.abort(),Bn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:I.signal}).then(X=>{clearTimeout(q),X.ok?Bn(T,"TestPingServer: ok",!0,v):Bn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Bn(T,"TestPingServer: error",!1,v)})}function Bn(d,v,T,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(T)}catch{}}function Xs(){this.g=new zs}function wi(d,v,T){const I=T||"";try{Dl(d,function(q,X){let ue=q;m(q)&&(ue=ni(q)),v.push(I+X+"="+encodeURIComponent(ue))})}catch(q){throw v.push(I+"type="+encodeURIComponent("_badmap")),q}}function zr(d){this.l=d.Ub||null,this.j=d.eb||!1}b(zr,Tl),zr.prototype.g=function(){return new tr(this.l,this.j)},zr.prototype.i=function(d){return function(){return d}}({});function tr(d,v){ft.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(tr,ft),n=tr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,bi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ml(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ml(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Si(this):bi(this),this.readyState==3&&Ml(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Si(this))},n.Qa=function(d){this.g&&(this.response=d,Si(this))},n.ga=function(){this.g&&Si(this)};function Si(d){d.readyState=4,d.l=null,d.j=null,d.v=null,bi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function bi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Vl(d){let v="";return J(d,function(T,I){v+=I,v+=":",v+=T,v+=`\r
`}),v}function kt(d,v,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=Vl(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Xe(d,v,T))}function Ge(d){ft.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ge,ft);var Ya=/^https?$/i,Zs=["POST","PUT"];n=Ge.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vi.g(),this.v=this.o?wl(this.o):wl(vi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){Qc(this,X);return}if(d=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)T.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())T.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),q=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Zs,v,void 0))||I||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of T)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Qc(this,X)}};function Qc(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Qa(d),Ai(d)}function Qa(d){d.A||(d.A=!0,Ye(d,"complete"),Ye(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ye(this,"complete"),Ye(this,"abort"),Ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Wa(this):this.bb())},n.bb=function(){Wa(this)};function Wa(d){if(d.h&&typeof u<"u"&&(!d.v[1]||jn(d)!=4||d.Z()!=2)){if(d.u&&jn(d)==4)Xt(d.Ea,0,d);else if(Ye(d,"readystatechange"),jn(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var I;if(I=ue===0){var q=String(d.D).match(Gs)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),I=!Ya.test(q?q.toLowerCase():"")}T=I}if(T)Ye(d,"complete"),Ye(d,"success");else{d.m=6;try{var X=2<jn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",Qa(d)}}finally{Ai(d)}}}}function Ai(d,v){if(d.g){Js(d);const T=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ye(d,"ready");try{T.onreadystatechange=I}catch{}}}function Js(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function jn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ja(v)}};function Wc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function hp(d){const v={};d=(d.g&&2<=jn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(z(d[I]))continue;var T=N(d[I]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[q]||[];v[q]=X,X.push(T)}O(v,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function Xa(d){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,d),this.cb=ea("retryDelaySeedMs",1e4,d),this.Wa=ea("forwardChannelMaxRetries",2,d),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(d&&d.concurrentRequestLimit),this.Da=new Xs,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xa.prototype,n.la=8,n.G=1,n.connect=function(d,v,T,I){at(0),this.W=d,this.H=v||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.I=ih(this,null,this.W),Ja(this)};function kl(d){if(Xc(d),d.G==3){var v=d.U++,T=Sn(d.I);if(Xe(T,"SID",d.K),Xe(T,"RID",v),Xe(T,"TYPE","terminate"),ta(d,T),v=new ln(d,d.j,v),v.L=2,v.v=Ys(Sn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=rh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),qs(v)}nh(d)}function Za(d){d.g&&(na(d),d.g.cancel(),d.g=null)}function Xc(d){Za(d),d.u&&(h.clearTimeout(d.u),d.u=null),eo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Ja(d){if(!Ha(d.h)&&!d.s){d.s=!0;var v=d.Ga;ie||B(),he||(ie(),he=!0),Te.add(v,d),d.B=0}}function fp(d,v){return qa(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=wt(E(d.Ga,d,v),Bl(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new ln(this,this.j,d);let X=this.o;if(this.S&&(X?(X=R(X),D(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Zc(this,q,v),T=Sn(this.I),Xe(T,"RID",d),Xe(T,"CVER",22),this.D&&Xe(T,"X-HTTP-Session-Id",this.D),ta(this,T),X&&(this.O?v="headers="+encodeURIComponent(String(Vl(X)))+"&"+v:this.m&&kt(T,this.m,X)),$a(this.h,q),this.Ua&&Xe(T,"TYPE","init"),this.P?(Xe(T,"$req",v),Xe(T,"SID","null"),q.T=!0,ii(q,T,null)):ii(q,T,v),this.G=2}}else this.G==3&&(d?Ll(this,d):this.i.length==0||Ha(this.h)||Ll(this))};function Ll(d,v){var T;v?T=v.l:T=d.U++;const I=Sn(d.I);Xe(I,"SID",d.K),Xe(I,"RID",T),Xe(I,"AID",d.T),ta(d,I),d.m&&d.o&&kt(I,d.m,d.o),T=new ln(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Zc(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),$a(d.h,T),ii(T,I,v)}function ta(d,v){d.H&&J(d.H,function(T,I){Xe(v,I,T)}),d.l&&Dl({},function(T,I){Xe(v,I,T)})}function Zc(d,v,T){T=Math.min(d.i.length,T);var I=d.l?E(d.l.Na,d.l,d):null;e:{var q=d.i;let X=-1;for(;;){const ue=["count="+T];X==-1?0<T?(X=q[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let je=!0;for(let xt=0;xt<T;xt++){let Fe=q[xt].g;const Lt=q[xt].map;if(Fe-=X,0>Fe)X=Math.max(0,q[xt].g-100),je=!1;else try{wi(Lt,ue,"req"+Fe+"_")}catch{I&&I(Lt)}}if(je){I=ue.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,I}function Jc(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;ie||B(),he||(ie(),he=!0),Te.add(v,d),d.v=0}}function Ul(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=wt(E(d.Fa,d),Bl(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=wt(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Za(this),eh(this))};function na(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function eh(d){d.g=new ln(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Sn(d.qa);Xe(v,"RID","rpc"),Xe(v,"SID",d.K),Xe(v,"AID",d.T),Xe(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Xe(v,"TO",d.ja),Xe(v,"TYPE","xmlhttp"),ta(d,v),d.m&&d.o&&kt(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ys(Sn(v)),T.m=null,T.P=!0,Qi(T,d)}n.Za=function(){this.C!=null&&(this.C=null,Za(this),Ul(this),at(19))};function eo(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function th(d,v){var T=null;if(d.g==v){eo(d),na(d),d.g=null;var I=2}else if(Il(d.h,v))T=v.D,un(d.h,v),I=1;else return;if(d.G!=0){if(v.o)if(I==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var q=d.B;I=kr(),Ye(I,new It(I,T)),Ja(d)}else Jc(d);else if(q=v.s,q==3||q==0&&0<v.X||!(I==1&&fp(d,v)||I==2&&Ul(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),q){case 1:nr(d,5);break;case 4:nr(d,10);break;case 3:nr(d,6);break;default:nr(d,2)}}}function Bl(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function nr(d,v){if(d.j.info("Error code "+v),v==2){var T=E(d.fb,d),I=d.Xa;const q=!I;I=new St(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ks(I,"https"),Ys(I),q?Ws(I.toString(),T):ri(I.toString(),T)}else at(2);d.G=0,d.l&&d.l.sa(v),nh(d),Xc(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function nh(d){if(d.G=0,d.ka=[],d.l){const v=xl(d.h);(v.length!=0||d.i.length!=0)&&(x(d.ka,v),x(d.ka,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.ra()}}function ih(d,v,T){var I=T instanceof St?Sn(T):new St(T);if(I.g!="")v&&(I.g=v+"."+I.g),Fr(I,I.s);else{var q=h.location;I=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var X=new St(null);I&&Ks(X,I),v&&(X.g=v),q&&Fr(X,q),T&&(X.l=T),I=X}return T=d.D,v=d.ya,T&&v&&Xe(I,T,v),Xe(I,"VER",d.la),ta(d,I),I}function rh(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Ge(new zr({eb:T})):new Ge(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sh(){}n=sh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function to(){}to.prototype.g=function(d,v){return new cn(d,v)};function cn(d,v){ft.call(this),this.g=new Xa(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!z(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Ri(this)}b(cn,ft),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){kl(this.g)},cn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=ni(d),d=T);v.i.push(new Gc(v.Ya++,d)),v.G==3&&Ja(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,cn.aa.N.call(this)};function ah(d){Ki.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}b(ah,Ki);function oh(){bl.call(this),this.status=1}b(oh,bl);function Ri(d){this.g=d}b(Ri,sh),Ri.prototype.ua=function(){Ye(this.g,"a")},Ri.prototype.ta=function(d){Ye(this.g,new ah(d))},Ri.prototype.sa=function(d){Ye(this.g,new oh)},Ri.prototype.ra=function(){Ye(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,h1=function(){return new to},c1=function(){return kr()},u1=yi,ay={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,Cf=Br,Yi.COMPLETE="complete",l1=Yi,Sl.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Mu=Sl,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,o1=Ge}).apply(typeof hf<"u"?hf:typeof self<"u"?self:typeof window<"u"?window:{});const qw="@firebase/firestore",$w="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Sd("@firebase/firestore");function ko(){return Da.logLevel}function fe(n,...e){if(Da.logLevel<=Ue.DEBUG){const t=e.map(mv);Da.debug(`Firestore (${hl}): ${n}`,...t)}}function xr(n,...e){if(Da.logLevel<=Ue.ERROR){const t=e.map(mv);Da.error(`Firestore (${hl}): ${n}`,...t)}}function Xo(n,...e){if(Da.logLevel<=Ue.WARN){const t=e.map(mv);Da.warn(`Firestore (${hl}): ${n}`,...t)}}function mv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n="Unexpected state"){const e=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function Ke(n,e){n||be()}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class Vk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kk{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let i=this.i;const a=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let o=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ar,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ar)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string"),new f1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new nn(e)}}class Lk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Uk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Lk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bk{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,On(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0);const i=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const a=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Gw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new Gw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=jk(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<t&&(i+=e.charAt(a[o]%62))}return i}}function Oe(n,e){return n<e?-1:n>e?1:0}function oy(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Oe(i,a);{const o=d1(),u=Fk(o.encode(Kw(n,t)),o.encode(Kw(e,t)));return u!==0?u:Oe(i,a)}}t+=i>65535?2:1}return Oe(n.length,e.length)}function Kw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Fk(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Oe(n[t],e[t]);return Oe(n.length,e.length)}function Zo(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=-62135596800,Qw=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Qw);return new Nt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Yw)throw new de(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qw}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Nt(0,0))}static max(){return new Ce(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__name__";class Ni{constructor(e,t,i){t===void 0?t=0:t>e.length&&be(),i===void 0?i=e.length-t:i>e.length-t&&be(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const o=Ni.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Oe(e.length,t.length)}static compareSegments(e,t){const i=Ni.isNumericId(e),a=Ni.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Ni.extractNumericId(e).compare(Ni.extractNumericId(t)):oy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class st extends Ni{construct(e,t,i){return new st(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new st(t)}static emptyPath(){return new st([])}}const zk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ni{construct(e,t,i){return new Qt(e,t,i)}static isValidIdentifier(e){return zk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ww}static keyField(){return new Qt([Ww])}static fromServerFormat(e){const t=[];let i="",a=0;const o=()=>{if(i.length===0)throw new de(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(o(),a++)}if(o(),u)throw new de(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(st.fromString(e))}static fromName(e){return new ge(st.fromString(e).popFirst(5))}static empty(){return new ge(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function Hk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(i===1e9?new Nt(t+1,0):new Nt(t,i));return new Es(a,ge.empty(),e)}function qk(n){return new Es(n.readTime,n.key,nc)}class Es{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Es(Ce.min(),ge.empty(),nc)}static max(){return new Es(Ce.max(),ge.empty(),nc)}}function $k(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==Gk)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&t()},f=>i(f))}),u=!0,o===a&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(a=>a?se.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,o)=>{i.push(t.call(this,a,o))}),this.waitFor(i)}static mapArray(e,t){return new se((i,a)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;t(e[m]).next(g=>{u[m]=g,++h,h===o&&i(u)},g=>a(g))}})}static doWhile(e,t){return new se((i,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):i()};o()})}}function Yk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Dd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-1;function Od(n){return n==null}function Gf(n){return n===0&&1/n==-1/0}function Qk(n){return typeof n=="number"&&Number.isInteger(n)&&!Gf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="";function Wk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xw(e)),e=Xk(n.get(t),e);return Xw(e)}function Xk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case m1:t+="";break;default:t+=o}}return t}function Xw(n){return n+m1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ps(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,i,a,o){this.key=e,this.value=t,this.color=i??Yt.RED,this.left=a??Yt.EMPTY,this.right=o??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,o){return new Yt(e??this.key,t??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,i),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Yt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,i,a,o){return this}insert(e,t,i){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jw(this.data.getIterator())}getIteratorFrom(e){return new Jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class Jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new Mt(Qt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new y1("Invalid base64 string: "+o):o}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const Zk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=Zk.exec(n);if(Ke(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ws(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="server_timestamp",_1="__type__",E1="__previous_value__",T1="__local_write_time__";function yv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_1])===null||t===void 0?void 0:t.stringValue)===v1}function Pd(n){const e=n.mapValue.fields[E1];return yv(e)?Pd(e):e}function ic(n){const e=Ts(n.mapValue.fields[T1].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,i,a,o,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}const Kf="(default)";class rc{constructor(e,t){this.projectId=e,this.database=t||Kf}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="__type__",eL="__max__",df={mapValue:{}},S1="__vector__",Yf="value";function Ss(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yv(n)?4:nL(n)?9007199254740991:tL(n)?10:11:be()}function Hi(n,e){if(n===e)return!0;const t=Ss(n);if(t!==Ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ic(n).isEqual(ic(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ts(a.timestampValue),h=Ts(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return ws(a.bytesValue).isEqual(ws(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return Tt(a.geoPointValue.latitude)===Tt(o.geoPointValue.latitude)&&Tt(a.geoPointValue.longitude)===Tt(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Tt(a.integerValue)===Tt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Tt(a.doubleValue),h=Tt(o.doubleValue);return u===h?Gf(u)===Gf(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Zo(n.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Zw(u)!==Zw(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Hi(u[f],h[f])))return!1;return!0}(n,e);default:return be()}}function sc(n,e){return(n.values||[]).find(t=>Hi(t,e))!==void 0}function Jo(n,e){if(n===e)return 0;const t=Ss(n),i=Ss(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Tt(o.integerValue||o.doubleValue),f=Tt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return eS(n.timestampValue,e.timestampValue);case 4:return eS(ic(n),ic(e));case 5:return oy(n.stringValue,e.stringValue);case 6:return function(o,u){const h=ws(o),f=ws(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const g=Oe(h[m],f[m]);if(g!==0)return g}return Oe(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Oe(Tt(o.latitude),Tt(u.latitude));return h!==0?h:Oe(Tt(o.longitude),Tt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return tS(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,m,g;const _=o.fields||{},E=u.fields||{},S=(h=_[Yf])===null||h===void 0?void 0:h.arrayValue,b=(f=E[Yf])===null||f===void 0?void 0:f.arrayValue,P=Oe(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0);return P!==0?P:tS(S,b)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===df.mapValue&&u===df.mapValue)return 0;if(o===df.mapValue)return 1;if(u===df.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=u.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=oy(f[_],g[_]);if(E!==0)return E;const S=Jo(h[f[_]],m[g[_]]);if(S!==0)return S}return Oe(f.length,g.length)}(n.mapValue,e.mapValue);default:throw be()}}function eS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Ts(n),i=Ts(e),a=Oe(t.seconds,i.seconds);return a!==0?a:Oe(t.nanos,i.nanos)}function tS(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const o=Jo(t[a],i[a]);if(o)return o}return Oe(t.length,i.length)}function el(n){return ly(n)}function ly(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ts(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ws(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const o of t.values||[])a?a=!1:i+=",",i+=ly(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${ly(t.fields[u])}`;return a+"}"}(n.mapValue):be()}function If(n){switch(Ss(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pd(n);return e?16+If(e):16;case 5:return 2*n.stringValue.length;case 6:return ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,o)=>a+If(o),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ps(i.fields,(o,u)=>{a+=o.length+If(u)}),a}(n.mapValue);default:throw be()}}function nS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uy(n){return!!n&&"integerValue"in n}function vv(n){return!!n&&"arrayValue"in n}function iS(n){return!!n&&"nullValue"in n}function rS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xf(n){return!!n&&"mapValue"in n}function tL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[w1])===null||t===void 0?void 0:t.stringValue)===S1}function Fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ps(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Fu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!xf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(t)}setAll(e){let t=Qt.emptyPath(),i={},a=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,a),i={},a=[],t=h.popLast()}u?i[h.lastSegment()]=Fu(u):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,a)}delete(e){const t=this.field(e.popLast());xf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ps(t,(a,o)=>e[a]=o);for(const a of i)delete e[a]}clone(){return new _n(Fu(this.value))}}function b1(n){const e=[];return Ps(n.fields,(t,i)=>{const a=new Qt([t]);if(xf(i)){const o=b1(i.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,i,a,o,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new rn(e,0,Ce.min(),Ce.min(),Ce.min(),_n.empty(),0)}static newFoundDocument(e,t,i,a){return new rn(e,1,t,Ce.min(),i,a,0)}static newNoDocument(e,t){return new rn(e,2,t,Ce.min(),Ce.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Ce.min(),Ce.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.position=e,this.inclusive=t}}function sS(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?i=ge.comparator(ge.fromName(u.referenceValue),t.key):i=Jo(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function aS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t="asc"){this.field=e,this.dir=t}}function iL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{}class Ct extends A1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new sL(e,t,i):t==="array-contains"?new lL(e,i):t==="in"?new uL(e,i):t==="not-in"?new cL(e,i):t==="array-contains-any"?new hL(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new aL(e,i):new oL(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Jo(t,this.value)):t!==null&&Ss(this.value)===Ss(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends A1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new di(e,t)}matches(e){return R1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function R1(n){return n.op==="and"}function C1(n){return rL(n)&&R1(n)}function rL(n){for(const e of n.filters)if(e instanceof di)return!1;return!0}function cy(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+el(n.value);if(C1(n))return n.filters.map(e=>cy(e)).join(",");{const e=n.filters.map(t=>cy(t)).join(",");return`${n.op}(${e})`}}function I1(n,e){return n instanceof Ct?function(i,a){return a instanceof Ct&&i.op===a.op&&i.field.isEqual(a.field)&&Hi(i.value,a.value)}(n,e):n instanceof di?function(i,a){return a instanceof di&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((o,u,h)=>o&&I1(u,a.filters[h]),!0):!1}(n,e):void be()}function x1(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${el(t.value)}`}(n):n instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(x1).join(" ,")+"}"}(n):"Filter"}class sL extends Ct{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class aL extends Ct{constructor(e,t){super(e,"in",t),this.keys=D1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oL extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=D1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function D1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class lL extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vv(t)&&sc(t.arrayValue,this.value)}}class uL extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sc(this.value.arrayValue,t)}}class cL extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!sc(this.value.arrayValue,t)}}class hL extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>sc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,t=null,i=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function oS(n,e=null,t=[],i=[],a=null,o=null,u=null){return new fL(n,e,t,i,a,o,u)}function _v(n){const e=Ie(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>cy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Od(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>el(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>el(i)).join(",")),e.le=t}return e.le}function Ev(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!I1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aS(n.startAt,e.startAt)&&aS(n.endAt,e.endAt)}function hy(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t=null,i=[],a=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function dL(n,e,t,i,a,o,u,h){return new Ic(n,e,t,i,a,o,u,h)}function Tv(n){return new Ic(n)}function lS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function O1(n){return n.collectionGroup!==null}function zu(n){const e=Ie(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Mt(Qt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Wf(o,i))}),t.has(Qt.keyField().canonicalString())||e.he.push(new Wf(Qt.keyField(),i))}return e.he}function ki(n){const e=Ie(n);return e.Pe||(e.Pe=pL(e,zu(n))),e.Pe}function pL(n,e){if(n.limitType==="F")return oS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Wf(a.field,o)});const t=n.endAt?new Qf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Qf(n.startAt.position,n.startAt.inclusive):null;return oS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function fy(n,e){const t=n.filters.concat([e]);return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function dy(n,e,t){return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nd(n,e){return Ev(ki(n),ki(e))&&n.limitType===e.limitType}function P1(n){return`${_v(ki(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>x1(a)).join(", ")}]`),Od(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>el(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>el(a)).join(",")),`Target(${i})`}(ki(n))}; limitType=${n.limitType})`}function Md(n,e){return e.isFoundDocument()&&function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ge.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,a){for(const o of zu(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,h,f){const m=sS(u,h,f);return u.inclusive?m<=0:m<0}(i.startAt,zu(i),a)||i.endAt&&!function(u,h,f){const m=sS(u,h,f);return u.inclusive?m>=0:m>0}(i.endAt,zu(i),a))}(n,e)}function mL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function N1(n){return(e,t)=>{let i=!1;for(const a of zu(n)){const o=gL(a,e,t);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function gL(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Jo(f,m):be()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(t,i)=>{for(const[a,o]of i)e(a,o)})}isEmpty(){return g1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=new ht(ge.comparator);function Dr(){return yL}const M1=new ht(ge.comparator);function Vu(...n){let e=M1;for(const t of n)e=e.insert(t.key,t);return e}function V1(n){let e=M1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Sa(){return Hu()}function k1(){return Hu()}function Hu(){return new Ma(n=>n.toString(),(n,e)=>n.isEqual(e))}const vL=new ht(ge.comparator),_L=new Mt(ge.comparator);function Be(...n){let e=_L;for(const t of n)e=e.add(t);return e}const EL=new Mt(Oe);function TL(){return EL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(e)?"-0":e}}function L1(n){return{integerValue:""+n}}function wL(n,e){return Qk(e)?L1(e):wv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function SL(n,e,t){return n instanceof ac?function(a,o){const u={fields:{[_1]:{stringValue:v1},[T1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&yv(o)&&(o=Pd(o)),o&&(u.fields[E1]=o),{mapValue:u}}(t,e):n instanceof oc?B1(n,e):n instanceof lc?j1(n,e):function(a,o){const u=U1(a,o),h=uS(u)+uS(a.Ie);return uy(u)&&uy(a.Ie)?L1(h):wv(a.serializer,h)}(n,e)}function bL(n,e,t){return n instanceof oc?B1(n,e):n instanceof lc?j1(n,e):t}function U1(n,e){return n instanceof Xf?function(i){return uy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class ac extends Vd{}class oc extends Vd{constructor(e){super(),this.elements=e}}function B1(n,e){const t=F1(e);for(const i of n.elements)t.some(a=>Hi(a,i))||t.push(i);return{arrayValue:{values:t}}}class lc extends Vd{constructor(e){super(),this.elements=e}}function j1(n,e){let t=F1(e);for(const i of n.elements)t=t.filter(a=>!Hi(a,i));return{arrayValue:{values:t}}}class Xf extends Vd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function uS(n){return Tt(n.integerValue||n.doubleValue)}function F1(n){return vv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,t){this.field=e,this.transform=t}}function RL(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof oc&&a instanceof oc||i instanceof lc&&a instanceof lc?Zo(i.elements,a.elements,Hi):i instanceof Xf&&a instanceof Xf?Hi(i.Ie,a.Ie):i instanceof ac&&a instanceof ac}(n.transform,e.transform)}class CL{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kd{}function z1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sv(n.key,Zn.none()):new xc(n.key,n.data,Zn.none());{const t=n.data,i=_n.empty();let a=new Mt(Qt.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new Ns(n.key,i,new Pn(a.toArray()),Zn.none())}}function IL(n,e,t){n instanceof xc?function(a,o,u){const h=a.value.clone(),f=hS(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ns?function(a,o,u){if(!Df(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=hS(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(H1(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function qu(n,e,t,i){return n instanceof xc?function(o,u,h,f){if(!Df(o.precondition,u))return h;const m=o.value.clone(),g=fS(o.fieldTransforms,f,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ns?function(o,u,h,f){if(!Df(o.precondition,u))return h;const m=fS(o.fieldTransforms,f,u),g=u.data;return g.setAll(H1(o)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(o,u,h){return Df(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function xL(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),o=U1(i.transform,a||null);o!=null&&(t===null&&(t=_n.empty()),t.set(i.field,o))}return t||null}function cS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Zo(i,a,(o,u)=>RL(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xc extends kd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ns extends kd{constructor(e,t,i,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function H1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function hS(n,e,t){const i=new Map;Ke(n.length===t.length);for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);i.set(o.field,bL(u,h,t[a]))}return i}function fS(n,e,t){const i=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);i.set(a.field,SL(o,u,e))}return i}class Sv extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DL extends kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&IL(o,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=qu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=qu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=k1();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const f=z1(u,h);f!==null&&i.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(t,i)=>cS(t,i))&&Zo(this.baseMutations,e.baseMutations,(t,i)=>cS(t,i))}}class bv{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ke(e.mutations.length===i.length);let a=function(){return vL}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new bv(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,He;function ML(n){switch(n){case oe.OK:return be();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return be()}}function q1(n){if(n===void 0)return xr("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Rt.OK:return oe.OK;case Rt.CANCELLED:return oe.CANCELLED;case Rt.UNKNOWN:return oe.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return oe.INTERNAL;case Rt.UNAVAILABLE:return oe.UNAVAILABLE;case Rt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Rt.NOT_FOUND:return oe.NOT_FOUND;case Rt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Rt.ABORTED:return oe.ABORTED;case Rt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Rt.DATA_LOSS:return oe.DATA_LOSS;default:return be()}}(He=Rt||(Rt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new ys([4294967295,4294967295],0);function dS(n){const e=d1().encode(n),t=new a1;return t.update(e),new Uint8Array(t.digest())}function pS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ys([t,i],0),new ys([a,o],0)]}class Av{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ku(`Invalid padding: ${t}`);if(i<0)throw new ku(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ku(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ys.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(ys.fromNumber(i)));return a.compare(VL)===1&&(a=new ys([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=dS(e),[i,a]=pS(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(i,a,o);if(!this.Re(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Av(o,a,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=dS(e),[i,a]=pS(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(i,a,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,i,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ld(Ce.min(),a,new ht(Oe),Dr(),Be())}}class Dc{constructor(e,t,i,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Dc(i,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class $1{constructor(e,t){this.targetId=e,this.ge=t}}class G1{constructor(e,t,i=Wt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class mS{constructor(){this.pe=0,this.ye=gS(),this.we=Wt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Be(),t=Be(),i=Be();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:be()}}),new Dc(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=gS()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class kL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Dr(),this.$e=pf(),this.Ue=pf(),this.Ke=new ht(Oe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const o=a.target;if(hy(o))if(i===0){const u=new ge(o.path);this.ze(t,u,rn.newNoDocument(u,Ce.min()))}else Ke(i===1);else{const u=this.et(t);if(u!==i){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=ws(i).toUint8Array()}catch(f){if(f instanceof y1)return Xo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Av(u,a,o)}catch(f){return Xo(f instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&hy(h.target)){const f=new ge(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,rn.newNoDocument(f,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let i=Be();this.Ue.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const a=new Ld(e,t,this.Ke,this.Qe,i);return this.Qe=Dr(),this.$e=pf(),this.Ue=pf(),this.Ke=new ht(Oe),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new mS,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Mt(Oe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mt(Oe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function pf(){return new ht(ge.comparator)}function gS(){return new ht(ge.comparator)}const LL={asc:"ASCENDING",desc:"DESCENDING"},UL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BL={and:"AND",or:"OR"};class jL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function py(n,e){return n.useProto3Json||Od(e)?e:{value:e}}function Zf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FL(n,e){return Zf(n,e.toTimestamp())}function Li(n){return Ke(!!n),Ce.fromTimestamp(function(t){const i=Ts(t);return new Nt(i.seconds,i.nanos)}(n))}function Rv(n,e){return my(n,e).canonicalString()}function my(n,e){const t=function(a){return new st(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Y1(n){const e=st.fromString(n);return Ke(J1(e)),e}function gy(n,e){return Rv(n.databaseId,e.path)}function Tg(n,e){const t=Y1(e);if(t.get(1)!==n.databaseId.projectId)throw new de(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(W1(t))}function Q1(n,e){return Rv(n.databaseId,e)}function zL(n){const e=Y1(n);return e.length===4?st.emptyPath():W1(e)}function yy(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function W1(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function yS(n,e,t){return{name:gy(n,e),fields:t.value.mapValue.fields}}function HL(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,g){return m.useProto3Json?(Ke(g===void 0||typeof g=="string"),Wt.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Wt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const g=m.code===void 0?oe.UNKNOWN:q1(m.code);return new de(g,m.message||"")}(u);t=new G1(i,a,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Tg(n,i.document.name),o=Li(i.document.updateTime),u=i.document.createTime?Li(i.document.createTime):Ce.min(),h=new _n({mapValue:{fields:i.document.fields}}),f=rn.newFoundDocument(a,o,u,h),m=i.targetIds||[],g=i.removedTargetIds||[];t=new Of(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Tg(n,i.document),o=i.readTime?Li(i.readTime):Ce.min(),u=rn.newNoDocument(a,o),h=i.removedTargetIds||[];t=new Of([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Tg(n,i.document),o=i.removedTargetIds||[];t=new Of([],o,a,null)}else{if(!("filter"in e))return be();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new NL(a,o),h=i.targetId;t=new $1(h,u)}}return t}function qL(n,e){let t;if(e instanceof xc)t={update:yS(n,e.key,e.value)};else if(e instanceof Sv)t={delete:gy(n,e.key)};else if(e instanceof Ns)t={update:yS(n,e.key,e.data),updateMask:JL(e.fieldMask)};else{if(!(e instanceof DL))return be();t={verify:gy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof ac)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof oc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof lc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Xf)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw be()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:FL(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(n,e.precondition)),t}function $L(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(a,o){let u=a.updateTime?Li(a.updateTime):Li(o);return u.isEqual(Ce.min())&&(u=Li(o)),new CL(u,a.transformResults||[])}(t,e))):[]}function GL(n,e){return{documents:[Q1(n,e.path)]}}function KL(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Q1(n,a);const o=function(m){if(m.length!==0)return Z1(di.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(g=>function(E){return{field:Uo(E.field),direction:WL(E.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=py(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function YL(n){let e=zL(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ke(i===1);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const E=X1(_);return E instanceof di&&C1(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(E=>function(b){return new Wf(Bo(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Od(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(_){const E=!!_.before,S=_.values||[];return new Qf(S,E)}(t.startAt));let m=null;return t.endAt&&(m=function(_){const E=!_.before,S=_.values||[];return new Qf(S,E)}(t.endAt)),dL(e,a,u,o,h,"F",f,m)}function QL(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function X1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Bo(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Bo(t.unaryFilter.field);return Ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bo(t.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bo(t.unaryFilter.field);return Ct.create(u,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(Bo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(i=>X1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be()}function WL(n){return LL[n]}function XL(n){return UL[n]}function ZL(n){return BL[n]}function Uo(n){return{fieldPath:n.canonicalString()}}function Bo(n){return Qt.fromServerFormat(n.fieldPath)}function Z1(n){return n instanceof Ct?function(t){if(t.op==="=="){if(rS(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NAN"}};if(iS(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rS(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NAN"}};if(iS(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(t.field),op:XL(t.op),value:t.value}}}(n):n instanceof di?function(t){const i=t.getFilters().map(a=>Z1(a));return i.length===1?i[0]:{compositeFilter:{op:ZL(t.op),filters:i}}}(n):be()}function JL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function J1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t,i,a,o=Ce.min(),u=Ce.min(),h=Wt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.Tt=e}}function tU(n){const e=YL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.Tn=new iU}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Es.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class iU{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Mt(st.comparator),o=!a.has(i);return this.index[t]=a.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Mt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eC=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(eC,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new tl(0)}static Kn(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="LruGarbageCollector",rU=1048576;function ES([n,e],[t,i]){const a=Oe(n,t);return a===0?Oe(e,i):a}class sU{constructor(e){this.Hn=e,this.buffer=new Mt(ES),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ES(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aU{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(_S,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?fe(_S,"Ignoring IndexedDB error during garbage collection: ",t):await fl(t)}await this.er(3e5)})}}class oU{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Dd.ae);const i=new sU(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(vS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vS):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,o,u,h,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,t))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(m=Date.now(),ko()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function lU(n,e){return new oU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.changes=new Ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&qu(i.mutation,a,Pn.empty(),Nt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Be()){const a=Sa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(o=>{let u=Vu();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Sa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Be()))}populateOverlays(e,t,i){const a=[];return i.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,a){let o=Dr();const u=Hu(),h=function(){return Hu()}();return t.forEach((f,m)=>{const g=i.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Ns)?o=o.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),qu(g.mutation,m,g.mutation.getFieldMask(),Nt.now())):u.set(m.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,g)=>u.set(m,g)),t.forEach((m,g)=>{var _;return h.set(m,new cU(g,(_=u.get(m))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Hu();let a=new ht((u,h)=>u-h),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let g=i.get(f)||Pn.empty();g=h.applyToLocalView(m,g),i.set(f,g);const _=(a.get(h.batchId)||Be()).add(f);a=a.insert(h.batchId,_)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,g=f.value,_=k1();g.forEach(E=>{if(!o.has(E)){const S=z1(t.get(E),i.get(E));S!==null&&_.set(E,S),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):O1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-o.size):se.resolve(Sa());let h=nc,f=o;return u.next(m=>se.forEach(m,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?se.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,Be())).next(g=>({batchId:h,changes:V1(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let a=Vu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const o=t.collectionGroup;let u=Vu();return this.indexManager.getCollectionParents(e,o).next(h=>se.forEach(h,f=>{const m=function(_,E){return new Ic(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(g=>{g.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,a))).next(u=>{o.forEach((f,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,rn.newInvalidDocument(g)))});let h=Vu();return u.forEach((f,m)=>{const g=o.get(f);g!==void 0&&qu(g.mutation,m,Pn.empty(),Nt.now()),Md(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Li(a.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:tU(a.bundledQuery),readTime:Li(a.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.overlays=new ht(ge.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Sa();return se.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&i.set(a,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,o)=>{this.Et(e,t,o)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const a=Sa(),o=t.length+1,u=new ge(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let o=new ht((m,g)=>m-g);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let g=o.get(m.largestBatchId);g===null&&(g=Sa(),o=o.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Sa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,g)=>h.set(m,g)),!(h.size()>=a)););return se.resolve(h)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new PL(t,i));let o=this.Rr.get(t);o===void 0&&(o=Be(),this.Rr.set(t,o)),this.Rr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.Vr=new Mt(Ft.mr),this.gr=new Mt(Ft.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ft(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ft(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new ge(new st([])),i=new Ft(t,e),a=new Ft(t,e+1),o=[];return this.gr.forEachInRange([i,a],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ge(new st([])),i=new Ft(t,e),a=new Ft(t,e+1);let o=Be();return this.gr.forEachInRange([i,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Ft(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ft{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ge.comparator(e.key,t.key)||Oe(e.Cr,t.Cr)}static pr(e,t){return Oe(e.Cr,t.Cr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(Ft.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new OL(o,t,i,a);this.mutationQueue.push(u);for(const h of a)this.Mr=this.Mr.add(new Ft(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),o=a<0?0:a;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?gv:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ft(t,0),a=new Ft(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([i,a],u=>{const h=this.Or(u.Cr);o.push(h)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mt(Oe);return t.forEach(a=>{const o=new Ft(a,0),u=new Ft(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{i=i.add(h.Cr)})}),se.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let o=i;ge.isDocumentKey(o)||(o=o.child(""));const u=new Ft(new ge(o),0);let h=new Mt(Oe);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Cr)),!0)},u),se.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ke(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return se.forEach(t.mutations,a=>{const o=new Ft(a.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ft(t,0),a=this.Mr.firstAfterOrEqual(i);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.kr=e,this.docs=function(){return new ht(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),o=a?a.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let i=Dr();return t.forEach(a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():rn.newInvalidDocument(a))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let o=Dr();const u=t.path,h=new ge(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||$k(qk(g),i)<=0||(a.has(g.key)||Md(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,i,a){be()}qr(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new yU(this)}getSize(e){return se.resolve(this.size)}}class yU extends uU{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.persistence=e,this.Qr=new Ma(t=>_v(t),Ev),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Cv,this.targetCount=0,this.Kr=tl.Un()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let a=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),se.waitFor(o).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Dd(0),this.zr=!1,this.zr=!0,this.jr=new pU,this.referenceDelegate=e(this),this.Hr=new vU(this),this.indexManager=new nU,this.remoteDocumentCache=function(a){return new gU(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new eU(t),this.Yr=new fU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new mU(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const a=new _U(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,t){return se.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class _U extends Kk{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.ti=new Cv,this.ni=null}static ri(e){return new Iv(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,i=>{const a=ge.fromPath(i);return this.si(e,a).next(o=>{o||t.removeEntry(a,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Jf{constructor(e,t){this.persistence=e,this.oi=new Ma(i=>Wk(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=lU(this,t)}static ri(e,t){return new Jf(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(o=>o?se.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,t).next(h=>{h||(i++,o.removeEntry(u,Ce.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=If(e.data.value)),t}ar(e,t,i){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return se.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=Be(),a=Be();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new xv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return XN()?8:Yk(an())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,a,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new EU;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,i,a){return i.documentReadCount<this.es?(ko()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(ko()<=Ue.DEBUG&&fe("QueryEngine","Query:",Lo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(ko()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(t))):se.resolve())}rs(e,t){if(lS(t))return se.resolve(null);let i=ki(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=dy(t,null,"F"),i=ki(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=Be(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.cs(t,h);return this.ls(t,m,u,f.readTime)?this.rs(e,dy(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,i,a){return lS(t)||a.isEqual(Ce.min())?se.resolve(null):this.ns.getDocuments(e,i).next(o=>{const u=this.cs(t,o);return this.ls(t,u,i,a)?se.resolve(null):(ko()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Lo(t)),this.hs(e,u,t,Hk(a,nc)).next(h=>h))})}cs(e,t){let i=new Mt(N1(e));return t.forEach((a,o)=>{Md(e,o)&&(i=i.add(o))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,t,i){return ko()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.ns.getDocumentsMatchingQuery(e,t,Es.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="LocalStore",wU=3e8;class SU{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new ht(Oe),this.Is=new Ma(o=>_v(o),Ev),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hU(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function bU(n,e,t,i){return new SU(n,e,t,i)}async function nC(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(o=>(a=o,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=Be();for(const m of a){u.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of o){h.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function AU(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,m,g){const _=m.batch,E=_.keys();let S=se.resolve();return E.forEach(b=>{S=S.next(()=>g.getEntry(f,b)).next(P=>{const x=m.docVersions.get(b);Ke(x!==null),P.version.compareTo(x)<0&&(_.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),g.addEntry(P)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Be();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function iC(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function RU(n,e){const t=Ie(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const E=a.get(_);if(!E)return;h.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,_)));let S=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Wt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),a=a.insert(_,S),function(P,x,M){return P.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=wU?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(E,S,g)&&h.push(t.Hr.updateTargetData(o,S))});let f=Dr(),m=Be();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(CU(o,u,e.documentUpdates).next(g=>{f=g.Vs,m=g.fs})),!i.isEqual(Ce.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(g)}return se.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(t.Ts=a,o))}function CU(n,e,t){let i=Be(),a=Be();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let u=Dr();return t.forEach((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ce.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):fe(Dv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Vs:u,fs:a}})}function IU(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=gv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function xU(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(o=>o?(a=o,se.resolve(a)):t.Hr.allocateTargetId(i).next(u=>(a=new ms(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function vy(n,e,t){const i=Ie(n),a=i.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!dl(u))throw u;fe(Dv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function TS(n,e,t){const i=Ie(n);let a=Ce.min(),o=Be();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,g){const _=Ie(f),E=_.Is.get(g);return E!==void 0?se.resolve(_.Ts.get(E)):_.Hr.getTargetData(m,g)}(i,u,ki(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?a:Ce.min(),t?o:Be())).next(h=>(DU(i,mL(e),h),{documents:h,gs:o})))}function DU(n,e,t){let i=n.Es.get(e)||Ce.min();t.forEach((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Es.set(e,i)}class wS{constructor(){this.activeTargetIds=TL()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OU{constructor(){this.ho=new wS,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new wS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="ConnectivityMonitor";class bS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(SS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(SS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf=null;function _y(){return mf===null?mf=function(){return 268435456+Math.round(2147483648*Math.random())}():mf++,"0x"+mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="RestConnection",NU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MU{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Kf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,t,i,a,o){const u=_y(),h=this.bo(e,t.toUriEncodedString());fe(wg,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,o),this.vo(e,h,f,i).then(m=>(fe(wg,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Xo(wg,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",i),m})}Co(e,t,i,a,o,u){return this.So(e,t,i,a,o)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),i&&i.headers.forEach((a,o)=>e[o]=a)}bo(e,t){const i=NU[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class kU extends MU{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const o=_y();return new Promise((u,h)=>{const f=new o1;f.setWithCredentials(!0),f.listenOnce(l1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Cf.NO_ERROR:const g=f.getResponseJson();fe(en,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Cf.TIMEOUT:fe(en,`RPC '${e}' ${o} timed out`),h(new de(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const _=f.getStatus();if(fe(en,`RPC '${e}' ${o} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const b=function(x){const M=x.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(M)>=0?M:oe.UNKNOWN}(S.status);h(new de(b,S.message))}else h(new de(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new de(oe.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{fe(en,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(a);fe(en,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",m,i,15)})}Wo(e,t,i){const a=_y(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=h1(),h=c1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=o.join("");fe(en,`Creating RPC '${e}' stream ${a}: ${g}`,f);const _=u.createWebChannel(g,f);let E=!1,S=!1;const b=new VU({Fo:x=>{S?fe(en,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(E||(fe(en,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),fe(en,`RPC '${e}' stream ${a} sending:`,x),_.send(x))},Mo:()=>_.close()}),P=(x,M,z)=>{x.listen(M,L=>{try{z(L)}catch(te){setTimeout(()=>{throw te},0)}})};return P(_,Mu.EventType.OPEN,()=>{S||(fe(en,`RPC '${e}' stream ${a} transport opened.`),b.Qo())}),P(_,Mu.EventType.CLOSE,()=>{S||(S=!0,fe(en,`RPC '${e}' stream ${a} transport closed`),b.Uo())}),P(_,Mu.EventType.ERROR,x=>{S||(S=!0,Xo(en,`RPC '${e}' stream ${a} transport errored:`,x),b.Uo(new de(oe.UNAVAILABLE,"The operation could not be completed")))}),P(_,Mu.EventType.MESSAGE,x=>{var M;if(!S){const z=x.data[0];Ke(!!z);const L=z,te=(L==null?void 0:L.error)||((M=L[0])===null||M===void 0?void 0:M.error);if(te){fe(en,`RPC '${e}' stream ${a} received error:`,te);const Y=te.status;let J=function(C){const D=Rt[C];if(D!==void 0)return q1(D)}(Y),O=te.message;J===void 0&&(J=oe.INTERNAL,O="Unknown error status: "+Y+" with message "+te.message),S=!0,b.Uo(new de(J,O)),_.close()}else fe(en,`RPC '${e}' stream ${a} received:`,z),b.Ko(z)}}),P(h,u1.STAT_EVENT,x=>{x.stat===ay.PROXY?fe(en,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===ay.NOPROXY&&fe(en,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(n){return new jL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t,i=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="PersistentStream";class sC{constructor(e,t,i,a,o,u,h,f){this.Ti=e,this.n_=i,this.r_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new rC(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new de(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(AS,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(fe(AS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LU extends sC{constructor(e,t,i,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=HL(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ce.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Li(u.readTime):Ce.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=yy(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=hy(f)?{documents:GL(o,f)}:{query:KL(o,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=K1(o,u.resumeToken);const m=py(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=Zf(o,u.snapshotVersion.toTimestamp());const m=py(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=QL(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=yy(this.serializer),t.removeTarget=e,this.I_(t)}}class UU extends sC{constructor(e,t,i,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=$L(e.writeResults,e.commitTime),i=Li(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=yy(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>qL(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{}class jU extends BU{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new de(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,my(t,i),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(oe.UNKNOWN,o.toString())})}Co(e,t,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,my(t,i),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(oe.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class FU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(xr(t),this.N_=!1):fe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class zU{constructor(e,t,i,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{i.enqueueAndForget(async()=>{Va(this)&&(fe(Oa,"Restarting streams for network reachability change."),await async function(f){const m=Ie(f);m.W_.add(4),await Oc(m),m.j_.set("Unknown"),m.W_.delete(4),await Bd(m)}(this))})}),this.j_=new FU(i,a)}}async function Bd(n){if(Va(n))for(const e of n.G_)await e(!0)}async function Oc(n){for(const e of n.G_)await e(!1)}function aC(n,e){const t=Ie(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Mv(t)?Nv(t):pl(t).c_()&&Pv(t,e))}function Ov(n,e){const t=Ie(n),i=pl(t);t.K_.delete(e),i.c_()&&oC(t,e),t.K_.size===0&&(i.c_()?i.P_():Va(t)&&t.j_.set("Unknown"))}function Pv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(n).y_(e)}function oC(n,e){n.H_.Ne(e),pl(n).w_(e)}function Nv(n){n.H_=new kL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),pl(n).start(),n.j_.B_()}function Mv(n){return Va(n)&&!pl(n).u_()&&n.K_.size>0}function Va(n){return Ie(n).W_.size===0}function lC(n){n.H_=void 0}async function HU(n){n.j_.set("Online")}async function qU(n){n.K_.forEach((e,t)=>{Pv(n,e)})}async function $U(n,e){lC(n),Mv(n)?(n.j_.q_(e),Nv(n)):n.j_.set("Unknown")}async function GU(n,e,t){if(n.j_.set("Online"),e instanceof G1&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a.K_.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.K_.delete(h),a.H_.removeTarget(h))}(n,e)}catch(i){fe(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ed(n,i)}else if(e instanceof Of?n.H_.We(e):e instanceof $1?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const i=await iC(n.localStore);t.compareTo(i)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.K_.get(m);g&&o.K_.set(m,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const g=o.K_.get(f);if(!g)return;o.K_.set(f,g.withResumeToken(Wt.EMPTY_BYTE_STRING,g.snapshotVersion)),oC(o,f);const _=new ms(g.target,f,m,g.sequenceNumber);Pv(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){fe(Oa,"Failed to raise snapshot:",i),await ed(n,i)}}async function ed(n,e,t){if(!dl(e))throw e;n.W_.add(1),await Oc(n),n.j_.set("Offline"),t||(t=()=>iC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(Oa,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Bd(n)})}function uC(n,e){return e().catch(t=>ed(n,t,e))}async function jd(n){const e=Ie(n),t=bs(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:gv;for(;KU(e);)try{const a=await IU(e.localStore,i);if(a===null){e.U_.length===0&&t.P_();break}i=a.batchId,YU(e,a)}catch(a){await ed(e,a)}cC(e)&&hC(e)}function KU(n){return Va(n)&&n.U_.length<10}function YU(n,e){n.U_.push(e);const t=bs(n);t.c_()&&t.S_&&t.b_(e.mutations)}function cC(n){return Va(n)&&!bs(n).u_()&&n.U_.length>0}function hC(n){bs(n).start()}async function QU(n){bs(n).C_()}async function WU(n){const e=bs(n);for(const t of n.U_)e.b_(t.mutations)}async function XU(n,e,t){const i=n.U_.shift(),a=bv.from(i,e,t);await uC(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await jd(n)}async function ZU(n,e){e&&bs(n).S_&&await async function(i,a){if(function(u){return ML(u)&&u!==oe.ABORTED}(a.code)){const o=i.U_.shift();bs(i).h_(),await uC(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a)),await jd(i)}}(n,e),cC(n)&&hC(n)}async function RS(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),fe(Oa,"RemoteStore received new credentials");const i=Va(t);t.W_.add(3),await Oc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Bd(t)}async function JU(n,e){const t=Ie(n);e?(t.W_.delete(2),await Bd(t)):e||(t.W_.add(2),await Oc(t),t.j_.set("Unknown"))}function pl(n){return n.J_||(n.J_=function(t,i,a){const o=Ie(t);return o.M_(),new LU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:HU.bind(null,n),No:qU.bind(null,n),Lo:$U.bind(null,n),p_:GU.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Mv(n)?Nv(n):n.j_.set("Unknown")):(await n.J_.stop(),lC(n))})),n.J_}function bs(n){return n.Y_||(n.Y_=function(t,i,a){const o=Ie(t);return o.M_(),new UU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:QU.bind(null,n),Lo:ZU.bind(null,n),D_:WU.bind(null,n),v_:XU.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await jd(n)):(await n.Y_.stop(),n.U_.length>0&&(fe(Oa,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,t,i,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,o){const u=Date.now()+i,h=new Vv(e,t,u,a,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kv(n,e){if(xr("AsyncQueue",`${e}: ${n}`),dl(n))return new de(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=Vu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Qo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.Z_=new ht(ge.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class nl{constructor(e,t,i,a,o,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new nl(e,t,Qo.emptySet(t),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class t4{constructor(){this.queries=IS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=Ie(t),o=a.queries;a.queries=IS(),o.forEach((u,h)=>{for(const f of h.ta)f.onError(i)})})(this,new de(oe.ABORTED,"Firestore shutting down"))}}function IS(){return new Ma(n=>P1(n),Nd)}async function fC(n,e){const t=Ie(n);let i=3;const a=e.query;let o=t.queries.get(a);o?!o.na()&&e.ra()&&(i=2):(o=new e4,i=e.ra()?0:1);try{switch(i){case 0:o.ea=await t.onListen(a,!0);break;case 1:o.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=kv(u,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Lv(t)}async function dC(n,e){const t=Ie(n),i=e.query;let a=3;const o=t.queries.get(i);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function n4(n,e){const t=Ie(n);let i=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(a)&&(i=!0);u.ea=a}}i&&Lv(t)}function i4(n,e,t){const i=Ie(n),a=i.queries.get(e);if(a)for(const o of a.ta)o.onError(t);i.queries.delete(e)}function Lv(n){n.ia.forEach(e=>{e.next()})}var Ey,xS;(xS=Ey||(Ey={}))._a="default",xS.Cache="cache";class pC{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new nl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.key=e}}class gC{constructor(e){this.key=e}}class r4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Be(),this.mutatedKeys=Be(),this.ya=N1(e),this.wa=new Qo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new CS,a=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,_)=>{const E=a.get(g),S=Md(this.query,_)?_:null,b=!!E&&this.mutatedKeys.has(E.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;E&&S?E.data.isEqual(S.data)?b!==P&&(i.track({type:3,doc:S}),x=!0):this.va(E,S)||(i.track({type:2,doc:S}),x=!0,(f&&this.ya(S,f)>0||m&&this.ya(S,m)<0)&&(h=!0)):!E&&S?(i.track({type:0,doc:S}),x=!0):E&&!S&&(i.track({type:1,doc:E}),x=!0,(f||m)&&(h=!0)),x&&(S?(u=u.add(S),o=P?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{wa:u,Da:i,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,_)=>function(S,b){const P=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return P(S)-P(b)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(i),a=a!=null&&a;const h=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,m=f!==this.ga;return this.ga=f,u.length!==0||m?{snapshot:new nl(this.query,e.wa,o,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new CS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Be(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new gC(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new mC(i))}),t}Oa(e){this.fa=e.gs,this.pa=Be();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return nl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Uv="SyncEngine";class s4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class a4{constructor(e){this.key=e,this.Ba=!1}}class o4{constructor(e,t,i,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ma(h=>P1(h),Nd),this.qa=new Map,this.Qa=new Set,this.$a=new ht(ge.comparator),this.Ua=new Map,this.Ka=new Cv,this.Wa={},this.Ga=new Map,this.za=tl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function l4(n,e,t=!0){const i=wC(n);let a;const o=i.ka.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await yC(i,e,t,!0),a}async function u4(n,e){const t=wC(n);await yC(t,e,!0,!1)}async function yC(n,e,t,i){const a=await xU(n.localStore,ki(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await c4(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&aC(n.remoteStore,a),h}async function c4(n,e,t,i,a){n.Ha=(_,E,S)=>async function(P,x,M,z){let L=x.view.ba(M);L.ls&&(L=await TS(P.localStore,x.query,!1).then(({documents:O})=>x.view.ba(O,L)));const te=z&&z.targetChanges.get(x.targetId),Y=z&&z.targetMismatches.get(x.targetId)!=null,J=x.view.applyChanges(L,P.isPrimaryClient,te,Y);return OS(P,x.targetId,J.Ma),J.snapshot}(n,_,E,S);const o=await TS(n.localStore,e,!0),u=new r4(e,o.gs),h=u.ba(o.documents),f=Dc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=u.applyChanges(h,n.isPrimaryClient,f);OS(n,t,m.Ma);const g=new s4(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function h4(n,e,t){const i=Ie(n),a=i.ka.get(e),o=i.qa.get(a.targetId);if(o.length>1)return i.qa.set(a.targetId,o.filter(u=>!Nd(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await vy(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Ov(i.remoteStore,a.targetId),Ty(i,a.targetId)}).catch(fl)):(Ty(i,a.targetId),await vy(i.localStore,a.targetId,!0))}async function f4(n,e){const t=Ie(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ov(t.remoteStore,i.targetId))}async function d4(n,e,t){const i=E4(n);try{const a=await function(u,h){const f=Ie(u),m=Nt.now(),g=h.reduce((S,b)=>S.add(b.key),Be());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let b=Dr(),P=Be();return f.ds.getEntries(S,g).next(x=>{b=x,b.forEach((M,z)=>{z.isValidDocument()||(P=P.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,b)).next(x=>{_=x;const M=[];for(const z of h){const L=xL(z,_.get(z.key).overlayedDocument);L!=null&&M.push(new Ns(z.key,L,b1(L.value.mapValue),Zn.exists(!0)))}return f.mutationQueue.addMutationBatch(S,m,M,h)}).next(x=>{E=x;const M=x.applyToLocalDocumentSet(_,P);return f.documentOverlayCache.saveOverlays(S,x.batchId,M)})}).then(()=>({batchId:E.batchId,changes:V1(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,h,f){let m=u.Wa[u.currentUser.toKey()];m||(m=new ht(Oe)),m=m.insert(h,f),u.Wa[u.currentUser.toKey()]=m}(i,a.batchId,t),await Pc(i,a.changes),await jd(i.remoteStore)}catch(a){const o=kv(a,"Failed to persist write");t.reject(o)}}async function vC(n,e){const t=Ie(n);try{const i=await RU(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t.Ua.get(o);u&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?Ke(u.Ba):a.removedDocuments.size>0&&(Ke(u.Ba),u.Ba=!1))}),await Pc(t,i,e)}catch(i){await fl(i)}}function DS(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=Ie(u);f.onlineState=h;let m=!1;f.queries.forEach((g,_)=>{for(const E of _.ta)E.sa(h)&&(m=!0)}),m&&Lv(f)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function p4(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ua.get(e),o=a&&a.key;if(o){let u=new ht(ge.comparator);u=u.insert(o,rn.newNoDocument(o,Ce.min()));const h=Be().add(o),f=new Ld(Ce.min(),new Map,new ht(Oe),u,h);await vC(i,f),i.$a=i.$a.remove(o),i.Ua.delete(e),Bv(i)}else await vy(i.localStore,e,!1).then(()=>Ty(i,e,t)).catch(fl)}async function m4(n,e){const t=Ie(n),i=e.batch.batchId;try{const a=await AU(t.localStore,e);EC(t,i,null),_C(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Pc(t,a)}catch(a){await fl(a)}}async function g4(n,e,t){const i=Ie(n);try{const a=await function(u,h){const f=Ie(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return f.mutationQueue.lookupMutationBatch(m,h).next(_=>(Ke(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(m,_))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>f.localDocuments.getDocuments(m,g))})}(i.localStore,e);EC(i,e,t),_C(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Pc(i,a)}catch(a){await fl(a)}}function _C(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function EC(n,e,t){const i=Ie(n);let a=i.Wa[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Ty(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||TC(n,i)})}function TC(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ov(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Bv(n))}function OS(n,e,t){for(const i of t)i instanceof mC?(n.Ka.addReference(i.key,e),y4(n,i)):i instanceof gC?(fe(Uv,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||TC(n,i.key)):be()}function y4(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(fe(Uv,"New document in limbo: "+t),n.Qa.add(i),Bv(n))}function Bv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ge(st.fromString(e)),i=n.za.next();n.Ua.set(i,new a4(t)),n.$a=n.$a.insert(t,i),aC(n.remoteStore,new ms(ki(Tv(t.path)),i,"TargetPurposeLimboResolution",Dd.ae))}}async function Pc(n,e,t){const i=Ie(n),a=[],o=[],u=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{u.push(i.Ha(f,e,t).then(m=>{var g;if((m||t)&&i.isPrimaryClient){const _=m?!m.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){a.push(m);const _=xv.Yi(f.targetId,m);o.push(_)}}))}),await Promise.all(u),i.La.p_(a),await async function(f,m){const g=Ie(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>se.forEach(m,E=>se.forEach(E.Hi,S=>g.persistence.referenceDelegate.addReference(_,E.targetId,S)).next(()=>se.forEach(E.Ji,S=>g.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))}catch(_){if(!dl(_))throw _;fe(Dv,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const S=g.Ts.get(E),b=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(b);g.Ts=g.Ts.insert(E,P)}}}(i.localStore,o))}async function v4(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){fe(Uv,"User change. New user:",e.toKey());const i=await nC(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(f=>{f.reject(new de(oe.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pc(t,i.Rs)}}function _4(n,e){const t=Ie(n),i=t.Ua.get(e);if(i&&i.Ba)return Be().add(i.key);{let a=Be();const o=t.qa.get(e);if(!o)return a;for(const u of o){const h=t.ka.get(u);a=a.unionWith(h.view.Sa)}return a}}function wC(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p4.bind(null,e),e.La.p_=n4.bind(null,e.eventManager),e.La.Ja=i4.bind(null,e.eventManager),e}function E4(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g4.bind(null,e),e}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return bU(this.persistence,new TU,e.initialUser,this.serializer)}Xa(e){return new tC(Iv.ri,this.serializer)}Za(e){return new OU}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class T4 extends td{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ke(this.persistence.referenceDelegate instanceof Jf);const i=this.persistence.referenceDelegate.garbageCollector;return new aU(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new tC(i=>Jf.ri(i,t),this.serializer)}}class wy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=v4.bind(null,this.syncEngine),await JU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t4}()}createDatastore(e){const t=Ud(e.databaseInfo.databaseId),i=function(o){return new kU(o)}(e.databaseInfo);return function(o,u,h,f){return new jU(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,o,u,h){return new zU(i,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>DS(this.syncEngine,t,0),function(){return bS.D()?new bS:new PU}())}createSyncEngine(e,t){return function(a,o,u,h,f,m,g){const _=new o4(a,o,u,h,f,m);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Ie(a);fe(Oa,"RemoteStore shutting down."),o.W_.add(5),await Oc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wy.provider={build:()=>new wy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class w4{constructor(e,t,i,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=p1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{fe(As,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(fe(As,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=kv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function bg(n,e){n.asyncQueue.verifyOperationInProgress(),fe(As,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await nC(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function PS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await S4(n);fe(As,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>RS(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>RS(e.remoteStore,a)),n._onlineComponents=e}async function S4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(As,"Using user provided OfflineComponentProvider");try{await bg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await bg(n,new td)}}else fe(As,"Using default OfflineComponentProvider"),await bg(n,new T4(void 0));return n._offlineComponents}async function bC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(As,"Using user provided OnlineComponentProvider"),await PS(n,n._uninitializedComponentsProvider._online)):(fe(As,"Using default OnlineComponentProvider"),await PS(n,new wy))),n._onlineComponents}function b4(n){return bC(n).then(e=>e.syncEngine)}async function AC(n){const e=await bC(n),t=e.eventManager;return t.onListen=l4.bind(null,e.syncEngine),t.onUnlisten=h4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=u4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=f4.bind(null,e.syncEngine),t}function A4(n,e,t={}){const i=new Ar;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,m){const g=new SC({next:E=>{g.su(),u.enqueueAndForget(()=>dC(o,_));const S=E.docs.has(h);!S&&E.fromCache?m.reject(new de(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&f&&f.source==="server"?m.reject(new de(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new pC(Tv(h.path),g,{includeMetadataChanges:!0,Ta:!0});return fC(o,_)}(await AC(n),n.asyncQueue,e,t,i)),i.promise}function R4(n,e,t={}){const i=new Ar;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,m){const g=new SC({next:E=>{g.su(),u.enqueueAndForget(()=>dC(o,_)),E.fromCache&&f.source==="server"?m.reject(new de(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new pC(h,g,{includeMetadataChanges:!0,Ta:!0});return fC(o,_)}(await AC(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(n,e,t){if(!t)throw new de(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C4(n,e,t,i){if(e===!0&&i===!0)throw new de(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MS(n){if(!ge.isDocumentKey(n))throw new de(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VS(n){if(ge.isDocumentKey(n))throw new de(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be()}function pi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fd(n);throw new de(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="firestore.googleapis.com",kS=!0;class LS{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IC,this.ssl=kS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:kS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rU)throw new de(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Mk;switch(i.type){case"firstParty":return new Uk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=NS.get(t);i&&(fe("ComponentProvider","Removing Datastore"),NS.delete(t),i.terminate())}(this),Promise.resolve()}}function I4(n,e,t,i={}){var a;const o=(n=pi(n,zd))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==IC&&o.host!==h&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:i});if(!_s(f,u)&&(n._setSettings(f),i.mockUserToken)){let m,g;if(typeof i.mockUserToken=="string")m=i.mockUserToken,g=nn.MOCK_USER;else{m=$N(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new de(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new nn(_)}n._authCredentials=new Vk(new f1(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ml(this.firestore,e,this._query)}}class dn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class vs extends ml{constructor(e,t,i){super(e,t,Tv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ge(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function Pf(n,e,...t){if(n=gt(n),CC("collection","path",e),n instanceof zd){const i=st.fromString(e,...t);return VS(i),new vs(n,null,i)}{if(!(n instanceof dn||n instanceof vs))throw new de(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(st.fromString(e,...t));return VS(i),new vs(n.firestore,null,i)}}function Tr(n,e,...t){if(n=gt(n),arguments.length===1&&(e=p1.newId()),CC("doc","path",e),n instanceof zd){const i=st.fromString(e,...t);return MS(i),new dn(n,null,new ge(i))}{if(!(n instanceof dn||n instanceof vs))throw new de(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(st.fromString(e,...t));return MS(i),new dn(n.firestore,n instanceof vs?n.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="AsyncQueue";class BS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new rC(this,"async_queue_retry"),this.Su=()=>{const i=Sg();i&&fe(US,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Sg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Sg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ar;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!dl(e))throw e;fe(US,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw xr("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Vv.createAndSchedule(this,e,t,i,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ka extends zd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new BS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BS(e),this._firestoreClient=void 0,await e}}}function x4(n,e){const t=typeof n=="object"?n:Ad(),i=typeof n=="string"?n:Kf,a=xs(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=HN("firestore");o&&I4(a,...o)}return a}function jv(n){if(n._terminated)throw new de(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||D4(n),n._firestoreClient}function D4(n){var e,t,i;const a=n._freezeSettings(),o=function(h,f,m,g){return new Jk(h,f,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,RC(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new w4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new il(Wt.fromBase64String(e))}catch(t){throw new de(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new il(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=/^__.*__$/;class P4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}class xC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Hv{constructor(e,t,i,a,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return nd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(DC(this.Lu)&&O4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class N4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ud(e)}ju(e,t,i,a=!1){return new Hv({Lu:e,methodName:t,zu:i,path:Qt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $d(n){const e=n._freezeSettings(),t=Ud(n._databaseId);return new N4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OC(n,e,t,i,a,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,a);$v("Data must be an object, but it was:",u,i);const h=PC(i,u);let f,m;if(o.merge)f=new Pn(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const E=Sy(e,_,t);if(!u.contains(E))throw new de(oe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);MC(g,E)||g.push(E)}f=new Pn(g),m=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,m=u.fieldTransforms;return new P4(new _n(h),f,m)}class Gd extends qd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}class qv extends qd{_toFieldTransform(e){return new AL(e.path,new ac)}isEqual(e){return e instanceof qv}}function M4(n,e,t,i){const a=n.ju(1,e,t);$v("Data must be an object, but it was:",a,i);const o=[],u=_n.empty();Ps(i,(f,m)=>{const g=Gv(e,f,t);m=gt(m);const _=a.Uu(g);if(m instanceof Gd)o.push(g);else{const E=Nc(m,_);E!=null&&(o.push(g),u.set(g,E))}});const h=new Pn(o);return new xC(u,h,a.fieldTransforms)}function V4(n,e,t,i,a,o){const u=n.ju(1,e,t),h=[Sy(e,i,t)],f=[a];if(o.length%2!=0)throw new de(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(Sy(e,o[E])),f.push(o[E+1]);const m=[],g=_n.empty();for(let E=h.length-1;E>=0;--E)if(!MC(m,h[E])){const S=h[E];let b=f[E];b=gt(b);const P=u.Uu(S);if(b instanceof Gd)m.push(S);else{const x=Nc(b,P);x!=null&&(m.push(S),g.set(S,x))}}const _=new Pn(m);return new xC(g,_,u.fieldTransforms)}function k4(n,e,t,i=!1){return Nc(t,n.ju(i?4:3,e))}function Nc(n,e){if(NC(n=gt(n)))return $v("Unsupported field value:",e,n),PC(n,e);if(n instanceof qd)return function(i,a){if(!DC(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const o=[];let u=0;for(const h of i){let f=Nc(h,a.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(i,a){if((i=gt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wL(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Nt.fromDate(i);return{timestampValue:Zf(a.serializer,o)}}if(i instanceof Nt){const o=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zf(a.serializer,o)}}if(i instanceof Fv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof il)return{bytesValue:K1(a.serializer,i._byteString)};if(i instanceof dn){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Rv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof zv)return function(u,h){return{mapValue:{fields:{[w1]:{stringValue:S1},[Yf]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return wv(h.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Fd(i)}`)}(n,e)}function PC(n,e){const t={};return g1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(n,(i,a)=>{const o=Nc(a,e.qu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function NC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof Fv||n instanceof il||n instanceof dn||n instanceof qd||n instanceof zv)}function $v(n,e,t){if(!NC(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Fd(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Sy(n,e,t){if((e=gt(e))instanceof Hd)return e._internalPath;if(typeof e=="string")return Gv(n,e);throw nd("Field path arguments must be of type string or ",n,!1,void 0,t)}const L4=new RegExp("[~\\*/\\[\\]]");function Gv(n,e,t){if(e.search(L4)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hd(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nd(n,e,t,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${a}`),f+=")"),new de(oe.INVALID_ARGUMENT,h+n+f)}function MC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t,i,a,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class U4 extends VC{data(){return super.data()}}function Kv(n,e){return typeof e=="string"?Gv(n,e):e instanceof Hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{}class j4 extends Yv{}function kC(n,e,...t){let i=[];e instanceof Yv&&i.push(e),i=i.concat(t),function(o){const u=o.filter(f=>f instanceof Qv).length,h=o.filter(f=>f instanceof Kd).length;if(u>1||u>0&&h>0)throw new de(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Kd extends j4{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Kd(e,t,i)}_apply(e){const t=this._parse(e);return UC(e._query,t),new ml(e.firestore,e.converter,fy(e._query,t))}_parse(e){const t=$d(e.firestore);return function(o,u,h,f,m,g,_){let E;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){FS(_,g);const b=[];for(const P of _)b.push(jS(f,o,P));E={arrayValue:{values:b}}}else E=jS(f,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||FS(_,g),E=k4(h,u,_,g==="in"||g==="not-in");return Ct.create(m,g,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function LC(n,e,t){const i=e,a=Kv("where",n);return Kd._create(a,i,t)}class Qv extends Yv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const h=o.getFlattenedFilters();for(const f of h)UC(u,f),u=fy(u,f)}(e._query,t),new ml(e.firestore,e.converter,fy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jS(n,e,t){if(typeof(t=gt(t))=="string"){if(t==="")throw new de(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O1(e)&&t.indexOf("/")!==-1)throw new de(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(st.fromString(t));if(!ge.isDocumentKey(i))throw new de(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nS(n,new ge(i))}if(t instanceof dn)return nS(n,t._key);throw new de(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fd(t)}.`)}function FS(n,e){if(!Array.isArray(n)||n.length===0)throw new de(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UC(n,e){const t=function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class F4{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ps(e,(a,o)=>{i[a]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,a;const o=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Yf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>Tt(u.doubleValue));return new zv(o)}convertGeoPoint(e){return new Fv(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Pd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=Ts(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=st.fromString(e);Ke(J1(i));const a=new rc(i.get(1),i.get(3)),o=new ge(i.popFirst(5));return a.isEqual(t)||xr(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jC extends VC{constructor(e,t,i,a,o,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Kv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Nf extends jC{data(e={}){return super.data(e)}}class z4{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Lu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nf(this._firestore,this._userDataWriter,i.key,i,new Lu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new Nf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Lu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Nf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Lu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:H4(h.type),doc:f,oldIndex:m,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function H4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n){n=pi(n,dn);const e=pi(n.firestore,ka);return A4(jv(e),n._key).then(t=>$4(e,n,t))}class FC extends F4{constructor(e){super(),this.firestore=e}convertBytes(e){return new il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function zC(n){n=pi(n,ml);const e=pi(n.firestore,ka),t=jv(e),i=new FC(e);return B4(n._query),R4(t,n._query).then(a=>new z4(e,i,n,a))}function zS(n,e,t){n=pi(n,dn);const i=pi(n.firestore,ka),a=BC(n.converter,e,t);return Yd(i,[OC($d(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Zn.none())])}function HC(n,e,t,...i){n=pi(n,dn);const a=pi(n.firestore,ka),o=$d(a);let u;return u=typeof(e=gt(e))=="string"||e instanceof Hd?V4(o,"updateDoc",n._key,e,t,i):M4(o,"updateDoc",n._key,e),Yd(a,[u.toMutation(n._key,Zn.exists(!0))])}function q4(n){return Yd(pi(n.firestore,ka),[new Sv(n._key,Zn.none())])}function HS(n,e){const t=pi(n.firestore,ka),i=Tr(n),a=BC(n.converter,e);return Yd(t,[OC($d(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Zn.exists(!1))]).then(()=>i)}function Yd(n,e){return function(i,a){const o=new Ar;return i.asyncQueue.enqueueAndForget(async()=>d4(await b4(i),a,o)),o.promise}(jv(n),e)}function $4(n,e,t){const i=t.docs.get(e._key),a=new FC(n);return new jC(n,a,e._key,i,new Lu(t.hasPendingWrites,t.fromCache),e.converter)}function G4(){return new qv("serverTimestamp")}(function(e,t=!0){(function(a){hl=a})(ul),ei(new Mn("firestore",(i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new ka(new kk(i.getProvider("auth-internal")),new Bk(u,i.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(m.options.projectId,g)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),En(qw,$w,e),En(qw,$w,"esm2017")})();const qC="@firebase/installations",Wv="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=1e4,GC=`w:${Wv}`,KC="FIS_v2",K4="https://firebaseinstallations.googleapis.com/v1",Y4=60*60*1e3,Q4="installations",W4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new Is(Q4,W4,X4);function YC(n){return n instanceof mi&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC({projectId:n}){return`${K4}/projects/${n}/installations`}function WC(n){return{token:n.token,requestStatus:2,expiresIn:J4(n.expiresIn),creationTime:Date.now()}}async function XC(n,e){const i=(await e.json()).error;return Pa.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function ZC({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Z4(n,{refreshToken:e}){const t=ZC(n);return t.append("Authorization",e3(e)),t}async function JC(n){const e=await n();return e.status>=500&&e.status<600?n():e}function J4(n){return Number(n.replace("s","000"))}function e3(n){return`${KC} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=QC(n),a=ZC(n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={fid:t,authVersion:KC,appId:n.appId,sdkVersion:GC},h={method:"POST",headers:a,body:JSON.stringify(u)},f=await JC(()=>fetch(i,h));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:WC(m.authToken)}}else throw await XC("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=/^[cdef][\w-]{21}$/,Ay="";function r3(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=s3(n);return i3.test(t)?t:Ay}catch{return Ay}}function s3(n){return n3(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Map;function nI(n,e){const t=Qd(n);iI(t,e),a3(t,e)}function iI(n,e){const t=tI.get(n);if(t)for(const i of t)i(e)}function a3(n,e){const t=o3();t&&t.postMessage({key:n,fid:e}),l3()}let ba=null;function o3(){return!ba&&"BroadcastChannel"in self&&(ba=new BroadcastChannel("[Firebase] FID Change"),ba.onmessage=n=>{iI(n.data.key,n.data.fid)}),ba}function l3(){tI.size===0&&ba&&(ba.close(),ba=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="firebase-installations-database",c3=1,Na="firebase-installations-store";let Ag=null;function Xv(){return Ag||(Ag=bd(u3,c3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Na)}}})),Ag}async function id(n,e){const t=Qd(n),a=(await Xv()).transaction(Na,"readwrite"),o=a.objectStore(Na),u=await o.get(t);return await o.put(e,t),await a.done,(!u||u.fid!==e.fid)&&nI(n,e.fid),e}async function rI(n){const e=Qd(n),i=(await Xv()).transaction(Na,"readwrite");await i.objectStore(Na).delete(e),await i.done}async function Wd(n,e){const t=Qd(n),a=(await Xv()).transaction(Na,"readwrite"),o=a.objectStore(Na),u=await o.get(t),h=e(u);return h===void 0?await o.delete(t):await o.put(h,t),await a.done,h&&(!u||u.fid!==h.fid)&&nI(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(n){let e;const t=await Wd(n.appConfig,i=>{const a=h3(i),o=f3(n,a);return e=o.registrationPromise,o.installationEntry});return t.fid===Ay?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function h3(n){const e=n||{fid:r3(),registrationStatus:0};return sI(e)}function f3(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Pa.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=d3(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:p3(n)}:{installationEntry:e}}async function d3(n,e){try{const t=await t3(n,e);return id(n.appConfig,t)}catch(t){throw YC(t)&&t.customData.serverCode===409?await rI(n.appConfig):await id(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function p3(n){let e=await qS(n.appConfig);for(;e.registrationStatus===1;)await eI(100),e=await qS(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Zv(n);return i||t}return e}function qS(n){return Wd(n,e=>{if(!e)throw Pa.create("installation-not-found");return sI(e)})}function sI(n){return m3(n)?{fid:n.fid,registrationStatus:0}:n}function m3(n){return n.registrationStatus===1&&n.registrationTime+$C<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3({appConfig:n,heartbeatServiceProvider:e},t){const i=y3(n,t),a=Z4(n,t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={installation:{sdkVersion:GC,appId:n.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},f=await JC(()=>fetch(i,h));if(f.ok){const m=await f.json();return WC(m)}else throw await XC("Generate Auth Token",f)}function y3(n,{fid:e}){return`${QC(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jv(n,e=!1){let t;const i=await Wd(n.appConfig,o=>{if(!aI(o))throw Pa.create("not-registered");const u=o.authToken;if(!e&&E3(u))return o;if(u.requestStatus===1)return t=v3(n,e),o;{if(!navigator.onLine)throw Pa.create("app-offline");const h=w3(o);return t=_3(n,h),h}});return t?await t:i.authToken}async function v3(n,e){let t=await $S(n.appConfig);for(;t.authToken.requestStatus===1;)await eI(100),t=await $S(n.appConfig);const i=t.authToken;return i.requestStatus===0?Jv(n,e):i}function $S(n){return Wd(n,e=>{if(!aI(e))throw Pa.create("not-registered");const t=e.authToken;return S3(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function _3(n,e){try{const t=await g3(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await id(n.appConfig,i),t}catch(t){if(YC(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await rI(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await id(n.appConfig,i)}throw t}}function aI(n){return n!==void 0&&n.registrationStatus===2}function E3(n){return n.requestStatus===2&&!T3(n)}function T3(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Y4}function w3(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function S3(n){return n.requestStatus===1&&n.requestTime+$C<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(n){const e=n,{installationEntry:t,registrationPromise:i}=await Zv(e);return i?i.catch(console.error):Jv(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(n,e=!1){const t=n;return await R3(t),(await Jv(t,e)).token}async function R3(n){const{registrationPromise:e}=await Zv(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(n){if(!n||!n.options)throw Rg("App Configuration");if(!n.name)throw Rg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Rg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Rg(n){return Pa.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="installations",I3="installations-internal",x3=n=>{const e=n.getProvider("app").getImmediate(),t=C3(e),i=xs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},D3=n=>{const e=n.getProvider("app").getImmediate(),t=xs(e,oI).getImmediate();return{getId:()=>b3(t),getToken:a=>A3(t,a)}};function O3(){ei(new Mn(oI,x3,"PUBLIC")),ei(new Mn(I3,D3,"PRIVATE"))}O3();En(qC,Wv);En(qC,Wv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="/firebase-messaging-sw.js",N3="/firebase-cloud-messaging-push-scope",lI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",M3="https://fcmregistrations.googleapis.com/v1",uI="google.c.a.c_id",V3="google.c.a.c_l",k3="google.c.a.ts",L3="google.c.a.e",GS=1e4;var KS;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(KS||(KS={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var uc;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(uc||(uc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function U3(n){const e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),a=new Uint8Array(i.length);for(let o=0;o<i.length;++o)a[o]=i.charCodeAt(o);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="fcm_token_details_db",B3=5,YS="fcm_token_object_Store";async function j3(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(Cg))return null;let e=null;return(await bd(Cg,B3,{upgrade:async(i,a,o,u)=>{var h;if(a<2||!i.objectStoreNames.contains(YS))return;const f=u.objectStore(YS),m=await f.index("fcmSenderId").get(n);if(await f.clear(),!!m){if(a===2){const g=m;if(!g.auth||!g.p256dh||!g.endpoint)return;e={token:g.fcmToken,createTime:(h=g.createTime)!==null&&h!==void 0?h:Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:yr(g.vapidKey)}}}else if(a===3){const g=m;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:yr(g.auth),p256dh:yr(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:yr(g.vapidKey)}}}else if(a===4){const g=m;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:yr(g.auth),p256dh:yr(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:yr(g.vapidKey)}}}}}})).close(),await gg(Cg),await gg("fcm_vapid_details_db"),await gg("undefined"),F3(e)?e:null}function F3(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="firebase-messaging-database",H3=1,cc="firebase-messaging-store";let Ig=null;function cI(){return Ig||(Ig=bd(z3,H3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(cc)}}})),Ig}async function q3(n){const e=hI(n),i=await(await cI()).transaction(cc).objectStore(cc).get(e);if(i)return i;{const a=await j3(n.appConfig.senderId);if(a)return await e_(n,a),a}}async function e_(n,e){const t=hI(n),a=(await cI()).transaction(cc,"readwrite");return await a.objectStore(cc).put(e,t),await a.done,e}function hI({appConfig:n}){return n.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},pn=new Is("messaging","Messaging",$3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(n,e){const t=await n_(n),i=fI(e),a={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=await(await fetch(t_(n.appConfig),a)).json()}catch(u){throw pn.create("token-subscribe-failed",{errorInfo:u==null?void 0:u.toString()})}if(o.error){const u=o.error.message;throw pn.create("token-subscribe-failed",{errorInfo:u})}if(!o.token)throw pn.create("token-subscribe-no-token");return o.token}async function K3(n,e){const t=await n_(n),i=fI(e.subscriptionOptions),a={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=await(await fetch(`${t_(n.appConfig)}/${e.token}`,a)).json()}catch(u){throw pn.create("token-update-failed",{errorInfo:u==null?void 0:u.toString()})}if(o.error){const u=o.error.message;throw pn.create("token-update-failed",{errorInfo:u})}if(!o.token)throw pn.create("token-update-no-token");return o.token}async function Y3(n,e){const i={method:"DELETE",headers:await n_(n)};try{const o=await(await fetch(`${t_(n.appConfig)}/${e}`,i)).json();if(o.error){const u=o.error.message;throw pn.create("token-unsubscribe-failed",{errorInfo:u})}}catch(a){throw pn.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function t_({projectId:n}){return`${M3}/projects/${n}/registrations`}async function n_({appConfig:n,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function fI({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const a={web:{endpoint:t,auth:e,p256dh:n}};return i!==lI&&(a.web.applicationPubKey=i),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=7*24*60*60*1e3;async function W3(n){const e=await Z3(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:yr(e.getKey("auth")),p256dh:yr(e.getKey("p256dh"))},i=await q3(n.firebaseDependencies);if(i){if(J3(i.subscriptionOptions,t))return Date.now()>=i.createTime+Q3?X3(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{await Y3(n.firebaseDependencies,i.token)}catch(a){console.warn(a)}return QS(n.firebaseDependencies,t)}else return QS(n.firebaseDependencies,t)}async function X3(n,e){try{const t=await K3(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return await e_(n.firebaseDependencies,i),t}catch(t){throw t}}async function QS(n,e){const i={token:await G3(n,e),createTime:Date.now(),subscriptionOptions:e};return await e_(n,i),i.token}async function Z3(n,e){const t=await n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:U3(e)})}function J3(n,e){const t=e.vapidKey===n.vapidKey,i=e.endpoint===n.endpoint,a=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&i&&a&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return e6(e,n),t6(e,n),n6(e,n),e}function e6(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const a=e.notification.image;a&&(n.notification.image=a);const o=e.notification.icon;o&&(n.notification.icon=o)}function t6(n,e){e.data&&(n.data=e.data)}function n6(n,e){var t,i,a,o,u;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};const h=(a=(i=e.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&a!==void 0?a:(o=e.notification)===null||o===void 0?void 0:o.click_action;h&&(n.fcmOptions.link=h);const f=(u=e.fcmOptions)===null||u===void 0?void 0:u.analytics_label;f&&(n.fcmOptions.analyticsLabel=f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(n){return typeof n=="object"&&!!n&&uI in n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n){if(!n||!n.options)throw xg("App Configuration Object");if(!n.name)throw xg("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw xg(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function xg(n){return pn.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=r6(e);this.firebaseDependencies={app:e,appConfig:a,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(n){try{n.swRegistration=await navigator.serviceWorker.register(P3,{scope:N3}),n.swRegistration.update().catch(()=>{}),await o6(n.swRegistration)}catch(e){throw pn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function o6(n){return new Promise((e,t)=>{const i=setTimeout(()=>t(new Error(`Service worker not registered after ${GS} ms`)),GS),a=n.installing||n.waiting;n.active?(clearTimeout(i),e()):a?a.onstatechange=o=>{var u;((u=o.target)===null||u===void 0?void 0:u.state)==="activated"&&(a.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),t(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(n,e){if(!e&&!n.swRegistration&&await a6(n),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw pn.create("invalid-sw-registration");n.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=lI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(n,e){if(!navigator)throw pn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw pn.create("permission-blocked");return await u6(n,e==null?void 0:e.vapidKey),await l6(n,e==null?void 0:e.serviceWorkerRegistration),W3(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(n,e,t){const i=h6(e);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[uI],message_name:t[V3],message_time:t[k3],message_device_time:Math.floor(Date.now()/1e3)})}function h6(n){switch(n){case uc.NOTIFICATION_CLICKED:return"notification_open";case uc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===uc.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(WS(t)):n.onMessageHandler.next(WS(t)));const i=t.data;i6(i)&&i[L3]==="1"&&await c6(n,t.messageType,i)}const XS="@firebase/messaging",ZS="0.12.17";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=n=>{const e=new s6(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>f6(e,t)),e},p6=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>dI(e,i)}};function m6(){ei(new Mn("messaging",d6,"PUBLIC")),ei(new Mn("messaging-internal",p6,"PRIVATE")),En(XS,ZS),En(XS,ZS,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(){try{await nv()}catch{return!1}return typeof window<"u"&&tv()&&TR()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(n=Ad()){return g6().then(e=>{if(!e)throw pn.create("unsupported-browser")},e=>{throw pn.create("indexed-db-unsupported")}),xs(gt(n),"messaging").getImmediate()}async function v6(n,e){return n=gt(n),dI(n,e)}m6();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="analytics",_6="firebase_id",E6="origin",T6=60*1e3,w6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",i_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new Sd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Nn=new Is("analytics","Analytics",S6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(n){if(!n.startsWith(i_)){const e=Nn.create("invalid-gtag-resource",{gtagURL:n});return Tn.warn(e.message),""}return n}function pI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function A6(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function R6(n,e){const t=A6("firebase-js-sdk-policy",{createScriptURL:b6}),i=document.createElement("script"),a=`${i_}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function C6(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function I6(n,e,t,i,a,o){const u=i[a];try{if(u)await e[u];else{const f=(await pI(t)).find(m=>m.measurementId===a);f&&await e[f.appId]}}catch(h){Tn.error(h)}n("config",a,o)}async function x6(n,e,t,i,a){try{let o=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await pI(t);for(const f of u){const m=h.find(_=>_.measurementId===f),g=m&&e[m.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",i,a||{})}catch(o){Tn.error(o)}}function D6(n,e,t,i){async function a(o,...u){try{if(o==="event"){const[h,f]=u;await x6(n,e,t,h,f)}else if(o==="config"){const[h,f]=u;await I6(n,e,t,i,h,f)}else if(o==="consent"){const[h,f]=u;n("consent",h,f)}else if(o==="get"){const[h,f,m]=u;n("get",h,f,m)}else if(o==="set"){const[h]=u;n("set",h)}else n(o,...u)}catch(h){Tn.error(h)}}return a}function O6(n,e,t,i,a){let o=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=D6(o,n,e,t),{gtagCore:o,wrappedGtag:window[a]}}function P6(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(i_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=30,M6=1e3;class V6{constructor(e={},t=M6){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const mI=new V6;function k6(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function L6(n){var e;const{appId:t,apiKey:i}=n,a={method:"GET",headers:k6(i)},o=w6.replace("{app-id}",t),u=await fetch(o,a);if(u.status!==200&&u.status!==304){let h="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function U6(n,e=mI,t){const{appId:i,apiKey:a,measurementId:o}=n.options;if(!i)throw Nn.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:i};throw Nn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new F6;return setTimeout(async()=>{h.abort()},T6),gI({appId:i,apiKey:a,measurementId:o},u,h,e)}async function gI(n,{throttleEndTimeMillis:e,backoffCount:t},i,a=mI){var o;const{appId:u,measurementId:h}=n;try{await B6(i,e)}catch(f){if(h)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:h};throw f}try{const f=await L6(n);return a.deleteThrottleMetadata(u),f}catch(f){const m=f;if(!j6(m)){if(a.deleteThrottleMetadata(u),h)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:h};throw f}const g=Number((o=m==null?void 0:m.customData)===null||o===void 0?void 0:o.httpStatus)===503?mw(t,a.intervalMillis,N6):mw(t,a.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return a.setThrottleMetadata(u,_),Tn.debug(`Calling attemptFetch again in ${g} millis`),gI(n,_,i,a)}}function B6(n,e){return new Promise((t,i)=>{const a=Math.max(e-Date.now(),0),o=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(o),i(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j6(n){if(!(n instanceof mi)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class F6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function z6(n,e,t,i,a){if(a&&a.global){n("event",t,i);return}else{const o=await e,u=Object.assign(Object.assign({},i),{send_to:o});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(){if(tv())try{await nv()}catch(n){return Tn.warn(Nn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Tn.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function q6(n,e,t,i,a,o,u){var h;const f=U6(n);f.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Tn.error(S)),e.push(f);const m=H6().then(S=>{if(S)return i.getId()}),[g,_]=await Promise.all([f,m]);P6(o)||R6(o,g.measurementId),a("js",new Date);const E=(h=u==null?void 0:u.config)!==null&&h!==void 0?h:{};return E[E6]="firebase",E.update=!0,_!=null&&(E[_6]=_),a("config",g.measurementId,E),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.app=e}_delete(){return delete $u[this.app.options.appId],Promise.resolve()}}let $u={},JS=[];const eb={};let Dg="dataLayer",G6="gtag",tb,yI,nb=!1;function K6(){const n=[];if(ER()&&n.push("This is a browser extension environment."),TR()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),t=Nn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(t.message)}}function Y6(n,e,t){K6();const i=n.options.appId;if(!i)throw Nn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Nn.create("no-api-key");if($u[i]!=null)throw Nn.create("already-exists",{id:i});if(!nb){C6(Dg);const{wrappedGtag:o,gtagCore:u}=O6($u,JS,eb,Dg,G6);yI=o,tb=u,nb=!0}return $u[i]=q6(n,JS,eb,e,tb,Dg,t),new $6(n)}function Q6(n=Ad()){n=gt(n);const e=xs(n,rd);return e.isInitialized()?e.getImmediate():W6(n)}function W6(n,e={}){const t=xs(n,rd);if(t.isInitialized()){const a=t.getImmediate();if(_s(e,t.getOptions()))return a;throw Nn.create("already-initialized")}return t.initialize({options:e})}function X6(n,e,t,i){n=gt(n),z6(yI,$u[n.app.options.appId],e,t,i).catch(a=>Tn.error(a))}const ib="@firebase/analytics",rb="0.10.12";function Z6(){ei(new Mn(rd,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Y6(i,a,t)},"PUBLIC")),ei(new Mn("analytics-internal",n,"PRIVATE")),En(ib,rb),En(ib,rb,"esm2017");function n(e){try{const t=e.getProvider(rd).getImmediate();return{logEvent:(i,a,o)=>X6(t,i,a,o)}}catch(t){throw Nn.create("interop-component-reg-failed",{reason:t})}}}Z6();const J6={apiKey:"AIzaSyBEt1x4HJKJXLuoRj0SGDVfj6evFeWiV3M",authDomain:"maid-match-7e3c8.firebaseapp.com",projectId:"maid-match-7e3c8",storageBucket:"maid-match-7e3c8.appspot.com",messagingSenderId:"381944105516",appId:"1:381944105516:web:08b345c0b5237502709f89",measurementId:"G-33NWYCQ614"},Xd=bR(J6),Og=xd(Xd),Wn=x4(Xd),e9=y6(Xd);Q6(Xd);function vI({defaultView:n="signup"}){const[e,t]=j.useState(n==="signup"),[i,a]=j.useState({name:"",email:"",password:""}),o=Ed();j.useEffect(()=>{t(n==="signup")},[n]);const u=g=>{a({...i,[g.target.name]:g.target.value})},h=async g=>{g.preventDefault();try{const _=await g2(Og,i.email,i.password);await _2(_.user,{displayName:i.name}),o("/home")}catch(_){alert(_.message)}},f=async g=>{g.preventDefault();try{await y2(Og,i.email,i.password),o("/home")}catch(_){alert(_.message)}},m=async()=>{const g=new vr;try{const _=await z2(Og,g);o("/home")}catch(_){console.error("Google Sign-In Error:",_.message),alert(`Error: ${_.message}`)}};return $.createElement("div",{className:"login-container"},e?$.createElement("div",{className:"signup-form"},$.createElement("h1",null,"Create An Account"),$.createElement("div",{className:"social-icons"},$.createElement("a",{href:"#",className:"icon",onClick:m},$.createElement("i",{className:"bx bxl-google"})),$.createElement("a",{href:"#",className:"icon"},$.createElement("i",{className:"bx bxl-facebook"}))),$.createElement("div",{className:"form-message-container"},$.createElement("span",null,"Or use your email for registration")),$.createElement("form",{onSubmit:h},$.createElement("input",{type:"text",name:"name",placeholder:"Name",value:i.name,onChange:u,required:!0}),$.createElement("input",{type:"email",name:"email",placeholder:"Email",value:i.email,onChange:u,required:!0}),$.createElement("input",{type:"password",name:"password",placeholder:"Password",value:i.password,onChange:u,required:!0}),$.createElement("button",{type:"submit"},"Sign Up")),$.createElement("p",null,"Already have an account? ",$.createElement("a",{href:"#",onClick:g=>{g.preventDefault(),t(!1)}},"Sign In"))):$.createElement("div",{className:"login-form"},$.createElement("h1",null,"Sign In"),$.createElement("div",{className:"social-icons"},$.createElement("a",{href:"#",className:"icon",onClick:m},$.createElement("i",{className:"bx bxl-google"})),$.createElement("a",{href:"#",className:"icon"},$.createElement("i",{className:"bx bxl-facebook"}))),$.createElement("div",{className:"form-message-container"},$.createElement("span",null,"Or use your email and password")),$.createElement("form",{onSubmit:f},$.createElement("input",{type:"email",name:"email",placeholder:"Email",value:i.email,onChange:u,required:!0}),$.createElement("input",{type:"password",name:"password",placeholder:"Password",value:i.password,onChange:u,required:!0}),$.createElement("button",{type:"submit"},"Sign In"),$.createElement("a",{href:"#"},"Forgot Password?")),$.createElement("p",null,"Don't have an account? ",$.createElement("a",{href:"#",onClick:g=>{g.preventDefault(),t(!0)}},"Sign Up"))))}function t9(){const n=Ed(),{t:e,i18n:t}=NN(),[i,a]=j.useState(!1),[o,u]=j.useState(!1),h=()=>{t.changeLanguage(t.language==="en"?"es":"en")},f=(m="login")=>{u(m==="signup"),a(!0)};return $.createElement($.Fragment,null,$.createElement("div",{className:"landing-wrapper"},$.createElement("nav",{className:"navbar"},$.createElement("div",{className:"logo",onClick:()=>n("/")},$.createElement("img",{src:"/MATCHMAID.png",alt:"MatchMaid Logo",className:"logo-img"})),$.createElement("ul",{className:"nav-links"},$.createElement("li",null,e("products")),$.createElement("li",null,e("learn")),$.createElement("li",null,e("safety")),$.createElement("li",null,e("support")),$.createElement("li",null,e("download")),$.createElement("li",{style:{cursor:"pointer"},onClick:()=>n("/tinder-shuffle/review",{state:{maidId:"maid123"}})}," Reviews")),$.createElement("div",{className:"nav-actions"},$.createElement("button",{className:"language-btn",onClick:h}," ",e("language")),$.createElement("button",{className:"login-btn",onClick:()=>f("login")},e("login")))),$.createElement("div",{className:"hero"},$.createElement("div",{className:"hero-content"},$.createElement("h1",null,$.createElement(DN,{i18nKey:"headline"},"Swipe ",$.createElement("span",{className:"highlight"},"Right"),$.createElement("sup",null,""))),$.createElement("button",{className:"cta-button",onClick:()=>f("signup")},e("create_account"))))),$.createElement(MN,{show:i,onClose:()=>a(!1)},$.createElement(vI,{defaultView:o?"signup":"login"})))}var Pg={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function n9(){if(sb)return xu;sb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:o}}return xu.Fragment=e,xu.jsx=t,xu.jsxs=t,xu}var ab;function i9(){return ab||(ab=1,Pg.exports=n9()),Pg.exports}var Ry=i9();const _I=j.createContext({});function r_(n){const e=j.useRef(null);return e.current===null&&(e.current=n()),e.current}const s_=typeof window<"u",EI=s_?j.useLayoutEffect:j.useEffect,a_=j.createContext(null),o_=j.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function r9(n=!0){const e=j.useContext(a_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,o=j.useId();j.useEffect(()=>{if(n)return a(o)},[n]);const u=j.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,u]:[!0]}function l_(n,e){n.indexOf(e)===-1&&n.push(e)}function u_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let TI=()=>{};const Cy={useManualTiming:!1};function c_(n){let e;return()=>(e===void 0&&(e=n()),e)}const Jn=n=>n,hc=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class h_{constructor(){this.subscriptions=[]}add(e){return l_(this.subscriptions,e),()=>u_(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ui=n=>n*1e3,Bi=n=>n/1e3;function wI(n,e){return e?n*(1e3/e):0}const s9=c_(()=>window.ScrollTimeline!==void 0);class a9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(a=>{if(s9()&&a.attachTimeline)return a.attachTimeline(e);if(typeof t=="function")return t(a)});return()=>{i.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class o9 extends a9{then(e,t){return this.finished.finally(e).then(()=>{})}}const f_=n=>Array.isArray(n)&&typeof n[0]=="number",l9={};function u9(n,e){const t=c_(n);return()=>l9[e]??t()}const fc=u9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),SI=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)i+=n(o/(a-1))+", ";return`linear(${i.substring(0,i.length-2)})`},Uu=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Iy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uu([0,.65,.55,1]),circOut:Uu([.55,0,1,.45]),backIn:Uu([.31,.01,.66,-.59]),backOut:Uu([.33,1.53,.69,.99])};function bI(n,e){if(n)return typeof n=="function"&&fc()?SI(n,e):f_(n)?Uu(n):Array.isArray(n)?n.map(t=>bI(t,e)||Iy.easeOut):Iy[n]}function c9(n,e,t,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeInOut",times:f}={},m=void 0){const g={[e]:t};f&&(g.offset=f);const _=bI(h,a);return Array.isArray(_)&&(g.easing=_),n.animate(g,{delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal",pseudoElement:m})}function d_(n){return typeof n=="function"&&"applyToOptions"in n}function p_(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const sd=2e4;function m_(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<sd;)e+=t,i=n.next(e);return e>=sd?1/0:e}function h9(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(m_(i),sd);return{type:"keyframes",ease:o=>i.next(a*o).value/e,duration:Bi(a)}}function AI(n){return!!(typeof n=="function"&&fc()||!n||typeof n=="string"&&(n in Iy||fc())||f_(n)||Array.isArray(n)&&n.every(AI))}function ob(n,e){n.timeline=e,n.onfinish=null}const gf=["read","resolveKeyframes","update","preRender","render","postRender"];function f9(n,e){let t=new Set,i=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(m.schedule(g),n()),g(h)}const m={schedule:(g,_=!1,E=!1)=>{const b=E&&a?t:i;return _&&u.add(g),b.has(g)||b.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,a){o=!0;return}a=!0,[t,i]=[i,t],t.forEach(f),t.clear(),a=!1,o&&(o=!1,m.process(g))}};return m}const d9=40;function RI(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,u=gf.reduce((M,z)=>(M[z]=f9(o),M),{}),{read:h,resolveKeyframes:f,update:m,preRender:g,render:_,postRender:E}=u,S=()=>{const M=performance.now();t=!1,a.delta=i?1e3/60:Math.max(Math.min(M-a.timestamp,d9),1),a.timestamp=M,a.isProcessing=!0,h.process(a),f.process(a),m.process(a),g.process(a),_.process(a),E.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(S))},b=()=>{t=!0,i=!0,a.isProcessing||n(S)};return{schedule:gf.reduce((M,z)=>{const L=u[z];return M[z]=(te,Y=!1,J=!1)=>(t||b(),L.schedule(te,Y,J)),M},{}),cancel:M=>{for(let z=0;z<gf.length;z++)u[gf[z]].cancel(M)},state:a,steps:u}}const{schedule:g_}=RI(queueMicrotask,!1),{schedule:nt,cancel:Or,state:Kt,steps:Ng}=RI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let Mf;function p9(){Mf=void 0}const ji={now:()=>(Mf===void 0&&ji.set(Kt.isProcessing||Cy.useManualTiming?Kt.timestamp:performance.now()),Mf),set:n=>{Mf=n,queueMicrotask(p9)}},ci={x:!1,y:!1};function CI(){return ci.x||ci.y}function m9(n){return n==="x"||n==="y"?ci[n]?null:(ci[n]=!0,()=>{ci[n]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function g9(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=(t==null?void 0:t[n])??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function II(n,e){const t=g9(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function lb(n){return!(n.pointerType==="touch"||CI())}function y9(n,e,t={}){const[i,a,o]=II(n,t),u=h=>{if(!lb(h))return;const{target:f}=h,m=e(f,h);if(typeof m!="function"||!f)return;const g=_=>{lb(_)&&(m(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),o}const xI=(n,e)=>e?n===e?!0:xI(n,e.parentElement):!1,y_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,v9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _9(n){return v9.has(n.tagName)||n.tabIndex!==-1}const Bu=new WeakSet;function ub(n){return e=>{e.key==="Enter"&&n(e)}}function Mg(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const E9=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=ub(()=>{if(Bu.has(t))return;Mg(t,"down");const a=ub(()=>{Mg(t,"up")}),o=()=>Mg(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function cb(n){return y_(n)&&!CI()}function T9(n,e,t={}){const[i,a,o]=II(n,t),u=h=>{const f=h.currentTarget;if(!cb(h)||Bu.has(f))return;Bu.add(f);const m=e(f,h),g=(S,b)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),!(!cb(S)||!Bu.has(f))&&(Bu.delete(f),typeof m=="function"&&m(S,{success:b}))},_=S=>{g(S,f===window||f===document||t.useGlobalTarget||xI(f,S.target))},E=S=>{g(S,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),h instanceof HTMLElement&&(h.addEventListener("focus",m=>E9(m,a)),!_9(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}const hb=30,w9=n=>!isNaN(parseFloat(n)),Gu={current:void 0};class S9{constructor(e,t={}){this.version="12.7.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const o=ji.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ji.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=w9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new h_);const i=this.events[e].add(t);return e==="change"?()=>{i(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Gu.current&&Gu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ji.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hb)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,hb);return wI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rl(n,e){return new S9(n,e)}const DI=j.createContext({strict:!1}),fb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sl={};for(const n in fb)sl[n]={isEnabled:e=>fb[n].some(t=>!!e[t])};function b9(n){for(const e in n)sl[e]={...sl[e],...n[e]}}const A9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ad(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||A9.has(n)}let OI=n=>!ad(n);function R9(n){n&&(OI=e=>e.startsWith("on")?!ad(e):n(e))}try{R9(require("@emotion/is-prop-valid").default)}catch{}function C9(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(OI(a)||t===!0&&ad(a)||!e&&!ad(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}function I9(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const Zd=j.createContext({});function Jd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function dc(n){return typeof n=="string"||Array.isArray(n)}const v_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],__=["initial",...v_];function ep(n){return Jd(n.animate)||__.some(e=>dc(n[e]))}function PI(n){return!!(ep(n)||n.variants)}function x9(n,e){if(ep(n)){const{initial:t,animate:i}=n;return{initial:t===!1||dc(t)?t:void 0,animate:dc(i)?i:void 0}}return n.inherit!==!1?e:{}}function D9(n){const{initial:e,animate:t}=x9(n,j.useContext(Zd));return j.useMemo(()=>({initial:e,animate:t}),[db(e),db(t)])}function db(n){return Array.isArray(n)?n.join(" "):n}const O9=Symbol.for("motionComponentSymbol");function Fo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function P9(n,e,t){return j.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Fo(t)&&(t.current=i))},[e])}const E_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),N9="framerAppearId",NI="data-"+E_(N9),MI=j.createContext({});function M9(n,e,t,i,a){var P,x;const{visualElement:o}=j.useContext(Zd),u=j.useContext(DI),h=j.useContext(a_),f=j.useContext(o_).reducedMotion,m=j.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(n,{visualState:e,parent:o,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=m.current,_=j.useContext(MI);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&V9(m.current,t,a,_);const E=j.useRef(!1);j.useInsertionEffect(()=>{g&&E.current&&g.update(t,h)});const S=t[NI],b=j.useRef(!!S&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,S))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,S)));return EI(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g_.render(g.render),b.current&&g.animationState&&g.animationState.animateChanges())}),j.useEffect(()=>{g&&(!b.current&&g.animationState&&g.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,S)}),b.current=!1))}),g}function V9(n,e,t,i){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:m,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:VI(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&Fo(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:m})}function VI(n){if(n)return n.options.allowProjection!==!1?n.projection:VI(n.parent)}function k9({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:a}){n&&b9(n);function o(h,f){let m;const g={...j.useContext(o_),...h,layoutId:L9(h)},{isStatic:_}=g,E=D9(h),S=i(h,_);if(!_&&s_){U9();const b=B9(g);m=b.MeasureLayout,E.visualElement=M9(a,S,g,e,b.ProjectionNode)}return Ry.jsxs(Zd.Provider,{value:E,children:[m&&E.visualElement?Ry.jsx(m,{visualElement:E.visualElement,...g}):null,t(a,h,P9(S,E.visualElement,f),S,_,E.visualElement)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=j.forwardRef(o);return u[O9]=a,u}function L9({layoutId:n}){const e=j.useContext(_I).id;return e&&n!==void 0?e+"-"+n:n}function U9(n,e){j.useContext(DI).strict}function B9(n){const{drag:e,layout:t}=sl;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const kI=n=>e=>typeof e=="string"&&e.startsWith(n),T_=kI("--"),j9=kI("var(--"),w_=n=>j9(n)?F9.test(n.split("/*")[0].trim()):!1,F9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pc={};function z9(n){for(const e in n)pc[e]=n[e],T_(e)&&(pc[e].isCSSVariable=!0)}const gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],La=new Set(gl);function LI(n,{layout:e,layoutId:t}){return La.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!pc[n]||n==="opacity")}const sn=n=>!!(n&&n.getVelocity),UI=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Pr=(n,e,t)=>t>e?e:t<n?n:t,yl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},mc={...yl,transform:n=>Pr(0,1,n)},yf={...yl,default:1},Mc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),hs=Mc("deg"),Fi=Mc("%"),Ee=Mc("px"),H9=Mc("vh"),q9=Mc("vw"),pb={...Fi,parse:n=>Fi.parse(n)/100,transform:n=>Fi.transform(n*100)},$9={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},G9={rotate:hs,rotateX:hs,rotateY:hs,rotateZ:hs,scale:yf,scaleX:yf,scaleY:yf,scaleZ:yf,skew:hs,skewX:hs,skewY:hs,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:mc,originX:pb,originY:pb,originZ:Ee},mb={...yl,transform:Math.round},S_={...$9,...G9,zIndex:mb,size:Ee,fillOpacity:mc,strokeOpacity:mc,numOctaves:mb},K9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Y9=gl.length;function Q9(n,e,t){let i="",a=!0;for(let o=0;o<Y9;o++){const u=gl[o],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const m=UI(h,S_[u]);if(!f){a=!1;const g=K9[u]||u;i+=`${g}(${m}) `}t&&(e[u]=m)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function b_(n,e,t){const{style:i,vars:a,transformOrigin:o}=n;let u=!1,h=!1;for(const f in e){const m=e[f];if(La.has(f)){u=!0;continue}else if(T_(f)){a[f]=m;continue}else{const g=UI(m,S_[f]);f.startsWith("origin")?(h=!0,o[f]=g):i[f]=g}}if(e.transform||(u||t?i.transform=Q9(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:g=0}=o;i.transformOrigin=`${f} ${m} ${g}`}}const A_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BI(n,e,t){for(const i in e)!sn(e[i])&&!LI(i,t)&&(n[i]=e[i])}function W9({transformTemplate:n},e){return j.useMemo(()=>{const t=A_();return b_(t,e,n),Object.assign({},t.vars,t.style)},[e])}function X9(n,e){const t=n.style||{},i={};return BI(i,t,n),Object.assign(i,W9(n,e)),i}function Z9(n,e){const t={},i=X9(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const J9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function R_(n){return typeof n!="string"||n.includes("-")?!1:!!(J9.indexOf(n)>-1||/[A-Z]/u.test(n))}const eB={offset:"stroke-dashoffset",array:"stroke-dasharray"},tB={offset:"strokeDashoffset",array:"strokeDasharray"};function nB(n,e,t=1,i=0,a=!0){n.pathLength=1;const o=a?eB:tB;n[o.offset]=Ee.transform(-i);const u=Ee.transform(e),h=Ee.transform(t);n[o.array]=`${u} ${h}`}function gb(n,e,t){return typeof n=="string"?n:Ee.transform(e+t*n)}function iB(n,e,t){const i=gb(e,n.x,n.width),a=gb(t,n.y,n.height);return`${i} ${a}`}function C_(n,{attrX:e,attrY:t,attrScale:i,originX:a,originY:o,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...m},g,_){if(b_(n,m,_),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:S,dimensions:b}=n;E.transform&&(b&&(S.transform=E.transform),delete E.transform),b&&(a!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=iB(b,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),i!==void 0&&(E.scale=i),u!==void 0&&nB(E,u,h,f,!1)}const jI=()=>({...A_(),attrs:{}}),I_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function rB(n,e,t,i){const a=j.useMemo(()=>{const o=jI();return C_(o,e,I_(i),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};BI(o,n.style,n),a.style={...o,...a.style}}return a}function sB(n=!1){return(t,i,a,{latestValues:o},u)=>{const f=(R_(t)?rB:Z9)(i,o,u,t),m=C9(i,typeof t=="string",n),g=t!==j.Fragment?{...m,...f,ref:a}:{},{children:_}=i,E=j.useMemo(()=>sn(_)?_.get():_,[_]);return j.createElement(t,{...g,children:E})}}function yb(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function x_(n,e,t,i){if(typeof e=="function"){const[a,o]=yb(i);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=yb(i);e=e(t!==void 0?t:n.custom,a,o)}return e}const xy=n=>Array.isArray(n),aB=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),oB=n=>xy(n)?n[n.length-1]||0:n;function Vf(n){const e=sn(n)?n.get():n;return aB(e)?e.toValue():e}function lB({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,a,o){const u={latestValues:uB(i,a,o,n),renderState:e()};return t&&(u.onMount=h=>t({props:i,current:h,...u}),u.onUpdate=h=>t(h)),u}const FI=n=>(e,t)=>{const i=j.useContext(Zd),a=j.useContext(a_),o=()=>lB(n,e,i,a);return t?o():r_(o)};function uB(n,e,t,i){const a={},o=i(n,{});for(const E in o)a[E]=Vf(o[E]);let{initial:u,animate:h}=n;const f=ep(n),m=PI(n);e&&m&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const _=g?h:u;if(_&&typeof _!="boolean"&&!Jd(_)){const E=Array.isArray(_)?_:[_];for(let S=0;S<E.length;S++){const b=x_(n,E[S]);if(b){const{transitionEnd:P,transition:x,...M}=b;for(const z in M){let L=M[z];if(Array.isArray(L)){const te=g?L.length-1:0;L=L[te]}L!==null&&(a[z]=L)}for(const z in P)a[z]=P[z]}}}return a}function D_(n,e,t){var o;const{style:i}=n,a={};for(const u in i)(sn(i[u])||e.style&&sn(e.style[u])||LI(u,n)||((o=t==null?void 0:t.getValue(u))==null?void 0:o.liveStyle)!==void 0)&&(a[u]=i[u]);return a}const cB={useVisualState:FI({scrapeMotionValuesFromProps:D_,createRenderState:A_})};function zI(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function HI(n,{style:e,vars:t},i,a){Object.assign(n.style,e,a&&a.getProjectionStyles(i));for(const o in t)n.style.setProperty(o,t[o])}const qI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $I(n,e,t,i){HI(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(qI.has(a)?a:E_(a),e.attrs[a])}function GI(n,e,t){const i=D_(n,e,t);for(const a in n)if(sn(n[a])||sn(e[a])){const o=gl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=n[a]}return i}const vb=["x","y","width","height","cx","cy","r"],hB={useVisualState:FI({scrapeMotionValuesFromProps:GI,createRenderState:jI,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:a})=>{if(!t)return;let o=!!n.drag;if(!o){for(const h in a)if(La.has(h)){o=!0;break}}if(!o)return;let u=!e;if(e)for(let h=0;h<vb.length;h++){const f=vb[h];n[f]!==e[f]&&(u=!0)}u&&nt.read(()=>{zI(t,i),nt.render(()=>{C_(i,a,I_(t.tagName),n.transformTemplate),$I(t,i)})})}})};function fB(n,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...R_(i)?hB:cB,preloadedFeatures:n,useRender:sB(a),createVisualElement:e,Component:i};return k9(u)}}function gc(n,e,t){const i=n.getProps();return x_(i,e,t!==void 0?t:i.custom,n)}const KI=new Set(["width","height","top","left","right","bottom",...gl]);function dB(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,rl(t))}function pB(n,e){const t=gc(n,e);let{transitionEnd:i={},transition:a={},...o}=t||{};o={...o,...i};for(const u in o){const h=oB(o[u]);dB(n,u,h)}}function mB(n){return!!(sn(n)&&n.add)}function Dy(n,e){const t=n.getValue("willChange");if(mB(t))return t.add(e);if(!t&&Cy.WillChange){const i=new Cy.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function YI(n){return n.props[NI]}const QI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,gB=1e-7,yB=12;function vB(n,e,t,i,a){let o,u,h=0;do u=e+(t-e)/2,o=QI(u,i,a)-n,o>0?t=u:e=u;while(Math.abs(o)>gB&&++h<yB);return u}function Vc(n,e,t,i){if(n===e&&t===i)return Jn;const a=o=>vB(o,0,1,n,t);return o=>o===0||o===1?o:QI(a(o),e,i)}const WI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,XI=n=>e=>1-n(1-e),ZI=Vc(.33,1.53,.69,.99),O_=XI(ZI),JI=WI(O_),ex=n=>(n*=2)<1?.5*O_(n):.5*(2-Math.pow(2,-10*(n-1))),P_=n=>1-Math.sin(Math.acos(n)),tx=XI(P_),nx=WI(P_),ix=n=>/^0[^.\s]+$/u.test(n);function _B(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||ix(n):!0}const Ku=n=>Math.round(n*1e5)/1e5,N_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EB(n){return n==null}const TB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,M_=(n,e)=>t=>!!(typeof t=="string"&&TB.test(t)&&t.startsWith(n)||e&&!EB(t)&&Object.prototype.hasOwnProperty.call(t,e)),rx=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,o,u,h]=i.match(N_);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},wB=n=>Pr(0,255,n),Vg={...yl,transform:n=>Math.round(wB(n))},Aa={test:M_("rgb","red"),parse:rx("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Vg.transform(n)+", "+Vg.transform(e)+", "+Vg.transform(t)+", "+Ku(mc.transform(i))+")"};function SB(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Oy={test:M_("#"),parse:SB,transform:Aa.transform},zo={test:M_("hsl","hue"),parse:rx("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Fi.transform(Ku(e))+", "+Fi.transform(Ku(t))+", "+Ku(mc.transform(i))+")"},tn={test:n=>Aa.test(n)||Oy.test(n)||zo.test(n),parse:n=>Aa.test(n)?Aa.parse(n):zo.test(n)?zo.parse(n):Oy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Aa.transform(n):zo.transform(n)},bB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AB(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(N_))==null?void 0:e.length)||0)+(((t=n.match(bB))==null?void 0:t.length)||0)>0}const sx="number",ax="color",RB="var",CB="var(",_b="${}",IB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yc(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(IB,f=>(tn.test(f)?(i.color.push(o),a.push(ax),t.push(tn.parse(f))):f.startsWith(CB)?(i.var.push(o),a.push(RB),t.push(f)):(i.number.push(o),a.push(sx),t.push(parseFloat(f))),++o,_b)).split(_b);return{values:t,split:h,indexes:i,types:a}}function ox(n){return yc(n).values}function lx(n){const{split:e,types:t}=yc(n),i=e.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],a[u]!==void 0){const h=t[u];h===sx?o+=Ku(a[u]):h===ax?o+=tn.transform(a[u]):o+=a[u]}return o}}const xB=n=>typeof n=="number"?0:n;function DB(n){const e=ox(n);return lx(n)(e.map(xB))}const Rs={test:AB,parse:ox,createTransformer:lx,getAnimatableNone:DB},OB=new Set(["brightness","contrast","saturate","opacity"]);function PB(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(N_)||[];if(!i)return n;const a=t.replace(i,"");let o=OB.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+a+")"}const NB=/\b([a-z-]*)\(.*?\)/gu,Py={...Rs,getAnimatableNone:n=>{const e=n.match(NB);return e?e.map(PB).join(" "):n}},MB={...S_,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:Py,WebkitFilter:Py},ux=n=>MB[n];function cx(n,e){let t=ux(n);return t!==Py&&(t=Rs),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const VB=new Set(["auto","none","0"]);function kB(n,e,t){let i=0,a;for(;i<n.length&&!a;){const o=n[i];typeof o=="string"&&!VB.has(o)&&yc(o).values.length&&(a=n[i]),i++}if(a&&t)for(const o of e)n[o]=cx(t,a)}const Ra=n=>n*180/Math.PI,Ny=n=>{const e=Ra(Math.atan2(n[1],n[0]));return My(e)},LB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ny,rotateZ:Ny,skewX:n=>Ra(Math.atan(n[1])),skewY:n=>Ra(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},My=n=>(n=n%360,n<0&&(n+=360),n),Eb=Ny,Tb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),wb=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),UB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tb,scaleY:wb,scale:n=>(Tb(n)+wb(n))/2,rotateX:n=>My(Ra(Math.atan2(n[6],n[5]))),rotateY:n=>My(Ra(Math.atan2(-n[2],n[0]))),rotateZ:Eb,rotate:Eb,skewX:n=>Ra(Math.atan(n[4])),skewY:n=>Ra(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Sb(n){return n.includes("scale")?1:0}function Vy(n,e){if(!n||n==="none")return Sb(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=UB,a=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=LB,a=h}if(!a)return Sb(e);const o=i[e],u=a[1].split(",").map(jB);return typeof o=="function"?o(u):u[o]}const BB=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Vy(t,e)};function jB(n){return parseFloat(n.trim())}const bb=n=>n===yl||n===Ee,FB=new Set(["x","y","z"]),zB=gl.filter(n=>!FB.has(n));function HB(n){const e=[];return zB.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const al={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Vy(e,"x"),y:(n,{transform:e})=>Vy(e,"y")};al.translateX=al.x;al.translateY=al.y;const Ca=new Set;let ky=!1,Ly=!1;function hx(){if(Ly){const n=Array.from(Ca).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=HB(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([o,u])=>{var h;(h=i.getValue(o))==null||h.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ly=!1,ky=!1,Ca.forEach(n=>n.complete()),Ca.clear()}function fx(){Ca.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ly=!0)})}function qB(){fx(),hx()}class V_{constructor(e,t,i,a,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ca.add(this),ky||(ky=!0,nt.read(fx),nt.resolveKeyframes(hx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const u=a==null?void 0:a.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&t){const f=i.readValue(t,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),a&&u===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ca.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ca.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dx=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),$B=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GB(n){const e=$B.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function px(n,e,t=1){const[i,a]=GB(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return dx(u)?parseFloat(u):u}return w_(a)?px(a,e,t+1):a}const mx=n=>e=>e.test(n),KB={test:n=>n==="auto",parse:n=>n},gx=[yl,Ee,Fi,hs,q9,H9,KB],Ab=n=>gx.find(mx(n));class yx extends V_{constructor(e,t,i,a,o){super(e,t,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),w_(m))){const g=px(m,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!KI.has(i)||e.length!==2)return;const[a,o]=e,u=Ab(a),h=Ab(o);if(u!==h)if(bb(u)&&bb(h))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)_B(e[a])&&i.push(a);i.length&&kB(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=al[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=al[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const Rb=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Rs.test(n)||n==="0")&&!n.startsWith("url("));function YB(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function QB(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],u=Rb(a,e),h=Rb(o,e);return!u||!h?!1:YB(n)||(t==="spring"||d_(t))&&i}const WB=n=>n!==null;function tp(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(WB),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const XB=40;class vx{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ji.now(),this.options={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:o,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>XB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&qB(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ji.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:o,delay:u,onComplete:h,onUpdate:f,isGenerator:m}=this.options;if(!m&&!QB(e,i,a,o))if(u)this.options.duration=0;else{f&&f(tp(e,this.options,t)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ut=(n,e,t)=>n+(e-n)*t;function kg(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function ZB({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,o=0,u=0;if(!e)a=o=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;a=kg(f,h,n+1/3),o=kg(f,h,n),u=kg(f,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function od(n,e){return t=>t>0?e:n}const Lg=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},JB=[Oy,Aa,zo],ej=n=>JB.find(e=>e.test(n));function Cb(n){const e=ej(n);if(!e)return!1;let t=e.parse(n);return e===zo&&(t=ZB(t)),t}const Ib=(n,e)=>{const t=Cb(n),i=Cb(e);if(!t||!i)return od(n,e);const a={...t};return o=>(a.red=Lg(t.red,i.red,o),a.green=Lg(t.green,i.green,o),a.blue=Lg(t.blue,i.blue,o),a.alpha=ut(t.alpha,i.alpha,o),Aa.transform(a))},tj=(n,e)=>t=>e(n(t)),kc=(...n)=>n.reduce(tj),Uy=new Set(["none","hidden"]);function nj(n,e){return Uy.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function ij(n,e){return t=>ut(n,e,t)}function k_(n){return typeof n=="number"?ij:typeof n=="string"?w_(n)?od:tn.test(n)?Ib:aj:Array.isArray(n)?_x:typeof n=="object"?tn.test(n)?Ib:rj:od}function _x(n,e){const t=[...n],i=t.length,a=n.map((o,u)=>k_(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)t[u]=a[u](o);return t}}function rj(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=k_(n[a])(n[a],e[a]));return a=>{for(const o in i)t[o]=i[o](a);return t}}function sj(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],u=n.indexes[o][i[o]],h=n.values[u]??0;t[a]=h,i[o]++}return t}const aj=(n,e)=>{const t=Rs.createTransformer(e),i=yc(n),a=yc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Uy.has(n)&&!a.values.length||Uy.has(e)&&!i.values.length?nj(n,e):kc(_x(sj(i,a),a.values),t):od(n,e)};function Ex(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ut(n,e,t):k_(n)(n,e)}const oj=5;function Tx(n,e,t){const i=Math.max(e-oj,0);return wI(t-n(i),e-i)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xb=.001;function lj({duration:n=mt.duration,bounce:e=mt.bounce,velocity:t=mt.velocity,mass:i=mt.mass}){let a,o,u=1-e;u=Pr(mt.minDamping,mt.maxDamping,u),n=Pr(mt.minDuration,mt.maxDuration,Bi(n)),u<1?(a=m=>{const g=m*u,_=g*n,E=g-t,S=By(m,u),b=Math.exp(-_);return xb-E/S*b},o=m=>{const _=m*u*n,E=_*t+t,S=Math.pow(u,2)*Math.pow(m,2)*n,b=Math.exp(-_),P=By(Math.pow(m,2),u);return(-a(m)+xb>0?-1:1)*((E-S)*b)/P}):(a=m=>{const g=Math.exp(-m*n),_=(m-t)*n+1;return-.001+g*_},o=m=>{const g=Math.exp(-m*n),_=(t-m)*(n*n);return g*_});const h=5/n,f=cj(a,o,h);if(n=Ui(n),isNaN(f))return{stiffness:mt.stiffness,damping:mt.damping,duration:n};{const m=Math.pow(f,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:n}}}const uj=12;function cj(n,e,t){let i=t;for(let a=1;a<uj;a++)i=i-n(i)/e(i);return i}function By(n,e){return n*Math.sqrt(1-e*e)}const hj=["duration","bounce"],fj=["stiffness","damping","mass"];function Db(n,e){return e.some(t=>n[t]!==void 0)}function dj(n){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...n};if(!Db(n,fj)&&Db(n,hj))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,o=2*Pr(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:mt.mass,stiffness:a,damping:o}}else{const t=lj(n);e={...e,...t,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function ld(n=mt.visualDuration,e=mt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const o=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:m,mass:g,duration:_,velocity:E,isResolvedFromDuration:S}=dj({...t,velocity:-Bi(t.velocity||0)}),b=E||0,P=m/(2*Math.sqrt(f*g)),x=u-o,M=Bi(Math.sqrt(f/g)),z=Math.abs(x)<5;i||(i=z?mt.restSpeed.granular:mt.restSpeed.default),a||(a=z?mt.restDelta.granular:mt.restDelta.default);let L;if(P<1){const Y=By(M,P);L=J=>{const O=Math.exp(-P*M*J);return u-O*((b+P*M*x)/Y*Math.sin(Y*J)+x*Math.cos(Y*J))}}else if(P===1)L=Y=>u-Math.exp(-M*Y)*(x+(b+M*x)*Y);else{const Y=M*Math.sqrt(P*P-1);L=J=>{const O=Math.exp(-P*M*J),R=Math.min(Y*J,300);return u-O*((b+P*M*x)*Math.sinh(R)+Y*x*Math.cosh(R))/Y}}const te={calculatedDuration:S&&_||null,next:Y=>{const J=L(Y);if(S)h.done=Y>=_;else{let O=0;P<1&&(O=Y===0?Ui(b):Tx(L,Y,J));const R=Math.abs(O)<=i,C=Math.abs(u-J)<=a;h.done=R&&C}return h.value=h.done?u:J,h},toString:()=>{const Y=Math.min(m_(te),sd),J=SI(O=>te.next(Y*O).value,Y,30);return Y+"ms "+J},toTransition:()=>{}};return te}ld.applyToOptions=n=>{const e=h9(n,100,ld);return n.ease=fc()?e.ease:"easeOut",n.duration=Ui(e.duration),n.type="keyframes",n};function Ob({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:f,restDelta:m=.5,restSpeed:g}){const _=n[0],E={done:!1,value:_},S=R=>h!==void 0&&R<h||f!==void 0&&R>f,b=R=>h===void 0?f:f===void 0||Math.abs(h-R)<Math.abs(f-R)?h:f;let P=t*e;const x=_+P,M=u===void 0?x:u(x);M!==x&&(P=M-_);const z=R=>-P*Math.exp(-R/i),L=R=>M+z(R),te=R=>{const C=z(R),D=L(R);E.done=Math.abs(C)<=m,E.value=E.done?M:D};let Y,J;const O=R=>{S(E.value)&&(Y=R,J=ld({keyframes:[E.value,b(E.value)],velocity:Tx(L,R,E.value),damping:a,stiffness:o,restDelta:m,restSpeed:g}))};return O(0),{calculatedDuration:null,next:R=>{let C=!1;return!J&&Y===void 0&&(C=!0,te(R),O(R)),Y!==void 0&&R>=Y?J.next(R-Y):(!C&&te(R),E)}}}const pj=Vc(.42,0,1,1),mj=Vc(0,0,.58,1),wx=Vc(.42,0,.58,1),gj=n=>Array.isArray(n)&&typeof n[0]!="number",yj={linear:Jn,easeIn:pj,easeInOut:wx,easeOut:mj,circIn:P_,circInOut:nx,circOut:tx,backIn:O_,backInOut:JI,backOut:ZI,anticipate:ex},Pb=n=>{if(f_(n)){TI(n.length===4);const[e,t,i,a]=n;return Vc(e,t,i,a)}else if(typeof n=="string")return yj[n];return n};function vj(n,e,t){const i=[],a=t||Ex,o=n.length-1;for(let u=0;u<o;u++){let h=a(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Jn:e;h=kc(f,h)}i.push(h)}return i}function Sx(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const o=n.length;if(TI(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=vj(e,i,a),f=h.length,m=g=>{if(u&&g<n[0])return e[0];let _=0;if(f>1)for(;_<n.length-2&&!(g<n[_+1]);_++);const E=hc(n[_],n[_+1],g);return h[_](E)};return t?g=>m(Pr(n[0],n[o-1],g)):m}function _j(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=hc(0,e,i);n.push(ut(t,1,a))}}function Ej(n){const e=[0];return _j(e,n.length-1),e}function Tj(n,e){return n.map(t=>t*e)}function wj(n,e){return n.map(()=>e||wx).splice(0,n.length-1)}function ud({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=gj(i)?i.map(Pb):Pb(i),o={done:!1,value:e[0]},u=Tj(t&&t.length===e.length?t:Ej(e),n),h=Sx(u,e,{ease:Array.isArray(a)?a:wj(e,a)});return{calculatedDuration:n,next:f=>(o.value=h(f),o.done=f>=n,o)}}const Sj=n=>{const e=({timestamp:t})=>n(t);return{start:()=>nt.update(e,!0),stop:()=>Or(e),now:()=>Kt.isProcessing?Kt.timestamp:ji.now()}},bj={decay:Ob,inertia:Ob,tween:ud,keyframes:ud,spring:ld},Aj=n=>n/100;class L_ extends vx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:i,element:a,keyframes:o}=this.options,u=(a==null?void 0:a.KeyframeResolver)||V_,h=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(o,h,t,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=this.options,h=d_(t)?t:bj[t]||ud;let f,m;h!==ud&&typeof e[0]!="number"&&(f=kc(Aj,Ex(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});o==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=m_(g));const{calculatedDuration:_}=g,E=_+a,S=E*(i+1)-a;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:E,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:m,totalDuration:g,resolvedDuration:_}=i;if(this.startTime===null)return o.next(0);const{delay:E,repeat:S,repeatType:b,repeatDelay:P,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const M=this.currentTime-E*(this.speed>=0?1:-1),z=this.speed>=0?M<0:M>g;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let L=this.currentTime,te=o;if(S){const R=Math.min(this.currentTime,g)/_;let C=Math.floor(R),D=R%1;!D&&R>=1&&(D=1),D===1&&C--,C=Math.min(C,S+1),!!(C%2)&&(b==="reverse"?(D=1-D,P&&(D-=P/_)):b==="mirror"&&(te=u)),L=Pr(0,1,D)*_}const Y=z?{done:!1,value:f[0]}:te.next(L);h&&(Y.value=h(Y.value));let{done:J}=Y;!z&&m!==null&&(J=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return O&&a!==void 0&&(Y.value=tp(f,this.options,a)),x&&x(Y.value),O&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?Bi(e.calculatedDuration):0}get time(){return Bi(this.currentTime)}set time(e){e=Ui(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Bi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Sj,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const Rj=new Set(["opacity","clipPath","filter","transform"]),Cj=c_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cd=10,Ij=2e4;function xj(n){return d_(n.type)||n.type==="spring"||!AI(n.ease)}function Dj(n,e){const t=new L_({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const a=[];let o=0;for(;!i.done&&o<Ij;)i=t.sample(o),a.push(i.value),o+=cd;return{times:void 0,keyframes:a,duration:o-cd,ease:"linear"}}const bx={anticipate:ex,backInOut:JI,circInOut:nx};function Oj(n){return n in bx}class Nb extends vx{constructor(e){super(e);const{name:t,motionValue:i,element:a,keyframes:o}=this.options;this.resolver=new yx(o,(u,h)=>this.onKeyframesResolved(u,h),t,i,a),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:a,ease:o,type:u,motionValue:h,name:f,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof o=="string"&&fc()&&Oj(o)&&(o=bx[o]),xj(this.options)){const{onComplete:_,onUpdate:E,motionValue:S,element:b,...P}=this.options,x=Dj(e,P);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,a=x.times,o=x.ease,u="keyframes"}const g=c9(h.owner.current,f,e,{...this.options,duration:i,times:a,ease:o});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(ob(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;h.set(tp(e,this.options,t)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:a,type:u,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Bi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Bi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Ui(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Jn;const{animation:i}=t;ob(i,e)}return Jn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:a,type:o,ease:u,times:h}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:_,element:E,...S}=this.options,b=new L_({...S,keyframes:i,duration:a,type:o,ease:u,times:h,isGenerator:!0}),P=Ui(this.time);m.setWithVelocity(b.sample(P-cd).value,b.sample(P).value,cd)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:a,repeatType:o,damping:u,type:h}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return Cj()&&i&&Rj.has(i)&&(i!=="transform"||!m)&&!f&&!a&&o!=="mirror"&&u!==0&&h!=="inertia"}}const Pj={type:"spring",stiffness:500,damping:25,restSpeed:10},Nj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Mj={type:"keyframes",duration:.8},Vj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kj=(n,{keyframes:e})=>e.length>2?Mj:La.has(n)?n.startsWith("scale")?Nj(e[1]):Pj:Vj;function Lj({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const U_=(n,e,t,i={},a,o)=>u=>{const h=p_(i,n)||{},f=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ui(f);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:a};Lj(h)||(g={...g,...kj(n,g)}),g.duration&&(g.duration=Ui(g.duration)),g.repeatDelay&&(g.repeatDelay=Ui(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),g.allowFlatten=!h.type&&!h.ease,_&&!o&&e.get()!==void 0){const E=tp(g.keyframes,h);if(E!==void 0)return nt.update(()=>{g.onUpdate(E),g.onComplete()}),new o9([])}return!o&&Nb.supports(g)?new Nb(g):new L_(g)};function Uj({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function Ax(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(o=i);const f=[],m=a&&n.animationState&&n.animationState.getState()[a];for(const g in h){const _=n.getValue(g,n.latestValues[g]??null),E=h[g];if(E===void 0||m&&Uj(m,g))continue;const S={delay:t,...p_(o||{},g)};let b=!1;if(window.MotionHandoffAnimation){const x=YI(n);if(x){const M=window.MotionHandoffAnimation(x,g,nt);M!==null&&(S.startTime=M,b=!0)}}Dy(n,g),_.start(U_(g,_,E,n.shouldReduceMotion&&KI.has(g)?{type:!1}:S,n,b));const P=_.animation;P&&f.push(P)}return u&&Promise.all(f).then(()=>{nt.update(()=>{u&&pB(n,u)})}),f}function jy(n,e,t={}){var f;const i=gc(n,e,t.type==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const o=i?()=>Promise.all(Ax(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=a;return Bj(n,e,g+m,_,E,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,g]=h==="beforeChildren"?[o,u]:[u,o];return m().then(()=>g())}else return Promise.all([o(),u(t.delay)])}function Bj(n,e,t=0,i=0,a=1,o){const u=[],h=(n.variantChildren.size-1)*i,f=a===1?(m=0)=>m*i:(m=0)=>h-m*i;return Array.from(n.variantChildren).sort(jj).forEach((m,g)=>{m.notify("AnimationStart",e),u.push(jy(m,e,{...o,delay:t+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function jj(n,e){return n.sortNodePosition(e)}function Fj(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(o=>jy(n,o,t));i=Promise.all(a)}else if(typeof e=="string")i=jy(n,e,t);else{const a=typeof e=="function"?gc(n,e,t.custom):e;i=Promise.all(Ax(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function Rx(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const zj=__.length;function Cx(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Cx(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<zj;t++){const i=__[t],a=n.props[i];(dc(a)||a===!1)&&(e[i]=a)}return e}const Hj=[...v_].reverse(),qj=v_.length;function $j(n){return e=>Promise.all(e.map(({animation:t,options:i})=>Fj(n,t,i)))}function Gj(n){let e=$j(n),t=Mb(),i=!0;const a=f=>(m,g)=>{var E;const _=gc(n,g,f==="exit"?(E=n.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:S,transitionEnd:b,...P}=_;m={...m,...P,...b}}return m};function o(f){e=f(n)}function u(f){const{props:m}=n,g=Cx(n.parent)||{},_=[],E=new Set;let S={},b=1/0;for(let x=0;x<qj;x++){const M=Hj[x],z=t[M],L=m[M]!==void 0?m[M]:g[M],te=dc(L),Y=M===f?z.isActive:null;Y===!1&&(b=x);let J=L===g[M]&&L!==m[M]&&te;if(J&&i&&n.manuallyAnimateOnMount&&(J=!1),z.protectedKeys={...S},!z.isActive&&Y===null||!L&&!z.prevProp||Jd(L)||typeof L=="boolean")continue;const O=Kj(z.prevProp,L);let R=O||M===f&&z.isActive&&!J&&te||x>b&&te,C=!1;const D=Array.isArray(L)?L:[L];let N=D.reduce(a(M),{});Y===!1&&(N={});const{prevResolvedValues:U={}}=z,V={...U,...N},Le=ie=>{R=!0,E.has(ie)&&(C=!0,E.delete(ie)),z.needsAnimating[ie]=!0;const he=n.getValue(ie);he&&(he.liveStyle=!1)};for(const ie in V){const he=N[ie],Te=U[ie];if(S.hasOwnProperty(ie))continue;let B=!1;xy(he)&&xy(Te)?B=!Rx(he,Te):B=he!==Te,B?he!=null?Le(ie):E.add(ie):he!==void 0&&E.has(ie)?Le(ie):z.protectedKeys[ie]=!0}z.prevProp=L,z.prevResolvedValues=N,z.isActive&&(S={...S,...N}),i&&n.blockInitialAnimation&&(R=!1),R&&(!(J&&O)||C)&&_.push(...D.map(ie=>({animation:ie,options:{type:M}})))}if(E.size){const x={};if(typeof m.initial!="boolean"){const M=gc(n,Array.isArray(m.initial)?m.initial[0]:m.initial);M&&M.transition&&(x.transition=M.transition)}E.forEach(M=>{const z=n.getBaseTarget(M),L=n.getValue(M);L&&(L.liveStyle=!0),x[M]=z??null}),_.push({animation:x})}let P=!!_.length;return i&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(_):Promise.resolve()}function h(f,m){var _;if(t[f].isActive===m)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(E=>{var S;return(S=E.animationState)==null?void 0:S.setActive(f,m)}),t[f].isActive=m;const g=u(f);for(const E in t)t[E].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=Mb(),i=!0}}}function Kj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Rx(e,n):!1}function va(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mb(){return{animate:va(!0),whileInView:va(),whileHover:va(),whileTap:va(),whileDrag:va(),whileFocus:va(),exit:va()}}class Ms{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Yj extends Ms{constructor(e){super(e),e.animationState||(e.animationState=Gj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Qj=0;class Wj extends Ms{constructor(){super(...arguments),this.id=Qj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Xj={animation:{Feature:Yj},exit:{Feature:Wj}};function vc(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Lc(n){return{point:{x:n.pageX,y:n.pageY}}}const Zj=n=>e=>y_(e)&&n(e,Lc(e));function Yu(n,e,t,i){return vc(n,e,Zj(t),i)}function Ix({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Jj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function eF(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const xx=1e-4,tF=1-xx,nF=1+xx,Dx=.01,iF=0-Dx,rF=0+Dx;function fn(n){return n.max-n.min}function sF(n,e,t){return Math.abs(n-e)<=t}function Vb(n,e,t,i=.5){n.origin=i,n.originPoint=ut(e.min,e.max,n.origin),n.scale=fn(t)/fn(e),n.translate=ut(t.min,t.max,n.origin)-n.originPoint,(n.scale>=tF&&n.scale<=nF||isNaN(n.scale))&&(n.scale=1),(n.translate>=iF&&n.translate<=rF||isNaN(n.translate))&&(n.translate=0)}function Qu(n,e,t,i){Vb(n.x,e.x,t.x,i?i.originX:void 0),Vb(n.y,e.y,t.y,i?i.originY:void 0)}function kb(n,e,t){n.min=t.min+e.min,n.max=n.min+fn(e)}function aF(n,e,t){kb(n.x,e.x,t.x),kb(n.y,e.y,t.y)}function Lb(n,e,t){n.min=e.min-t.min,n.max=n.min+fn(e)}function Wu(n,e,t){Lb(n.x,e.x,t.x),Lb(n.y,e.y,t.y)}const Ub=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:Ub(),y:Ub()}),Bb=()=>({min:0,max:0}),Et=()=>({x:Bb(),y:Bb()});function Qn(n){return[n("x"),n("y")]}function Ug(n){return n===void 0||n===1}function Fy({scale:n,scaleX:e,scaleY:t}){return!Ug(n)||!Ug(e)||!Ug(t)}function Ea(n){return Fy(n)||Ox(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Ox(n){return jb(n.x)||jb(n.y)}function jb(n){return n&&n!=="0%"}function hd(n,e,t){const i=n-t,a=e*i;return t+a}function Fb(n,e,t,i,a){return a!==void 0&&(n=hd(n,a,i)),hd(n,t,i)+e}function zy(n,e=0,t=1,i,a){n.min=Fb(n.min,e,t,i,a),n.max=Fb(n.max,e,t,i,a)}function Px(n,{x:e,y:t}){zy(n.x,e.translate,e.scale,e.originPoint),zy(n.y,t.translate,t.scale,t.originPoint)}const zb=.999999999999,Hb=1.0000000000001;function oF(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,u;for(let h=0;h<a;h++){o=t[h],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&$o(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Px(n,u)),i&&Ea(o.latestValues)&&$o(n,o.latestValues))}e.x<Hb&&e.x>zb&&(e.x=1),e.y<Hb&&e.y>zb&&(e.y=1)}function qo(n,e){n.min=n.min+e,n.max=n.max+e}function qb(n,e,t,i,a=.5){const o=ut(n.min,n.max,a);zy(n,e,t,o,i)}function $o(n,e){qb(n.x,e.x,e.scaleX,e.scale,e.originX),qb(n.y,e.y,e.scaleY,e.scale,e.originY)}function Nx(n,e){return Ix(eF(n.getBoundingClientRect(),e))}function lF(n,e,t){const i=Nx(n,t),{scroll:a}=e;return a&&(qo(i.x,a.offset.x),qo(i.y,a.offset.y)),i}const Mx=({current:n})=>n?n.ownerDocument.defaultView:null,$b=(n,e)=>Math.abs(n-e);function uF(n,e){const t=$b(n.x,e.x),i=$b(n.y,e.y);return Math.sqrt(t**2+i**2)}class Vx{constructor(e,t,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=jg(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=uF(_.offset,{x:0,y:0})>=3;if(!E&&!S)return;const{point:b}=_,{timestamp:P}=Kt;this.history.push({...b,timestamp:P});const{onStart:x,onMove:M}=this.handlers;E||(x&&x(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Bg(E,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:S,onSessionEnd:b,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=jg(_.type==="pointercancel"?this.lastMoveEventInfo:Bg(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,x),b&&b(_,x)},!y_(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.contextWindow=a||window;const u=Lc(e),h=Bg(u,this.transformPagePoint),{point:f}=h,{timestamp:m}=Kt;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=t;g&&g(e,jg(h,this.history)),this.removeListeners=kc(Yu(this.contextWindow,"pointermove",this.handlePointerMove),Yu(this.contextWindow,"pointerup",this.handlePointerUp),Yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Or(this.updatePoint)}}function Bg(n,e){return e?{point:e(n.point)}:n}function Gb(n,e){return{x:n.x-e.x,y:n.y-e.y}}function jg({point:n},e){return{point:n,delta:Gb(n,kx(e)),offset:Gb(n,cF(e)),velocity:hF(e,.1)}}function cF(n){return n[0]}function kx(n){return n[n.length-1]}function hF(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=kx(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>Ui(e)));)t--;if(!i)return{x:0,y:0};const o=Bi(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function fF(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?ut(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?ut(t,n,i.max):Math.min(n,t)),n}function Kb(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function dF(n,{top:e,left:t,bottom:i,right:a}){return{x:Kb(n.x,t,a),y:Kb(n.y,e,i)}}function Yb(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function pF(n,e){return{x:Yb(n.x,e.x),y:Yb(n.y,e.y)}}function mF(n,e){let t=.5;const i=fn(n),a=fn(e);return a>i?t=hc(e.min,e.max-i,n.min):i>a&&(t=hc(n.min,n.max-a,e.min)),Pr(0,1,t)}function gF(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Hy=.35;function yF(n=Hy){return n===!1?n=0:n===!0&&(n=Hy),{x:Qb(n,"left","right"),y:Qb(n,"top","bottom")}}function Qb(n,e,t){return{min:Wb(n,e),max:Wb(n,t)}}function Wb(n,e){return typeof n=="number"?n:n[e]||0}const vF=new WeakMap;class _F{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Lc(g).point)},o=(g,_)=>{const{drag:E,dragPropagation:S,onDragStart:b}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m9(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(x=>{let M=this.getAxisMotionValue(x).get()||0;if(Fi.test(M)){const{projection:z}=this.visualElement;if(z&&z.layout){const L=z.layout.layoutBox[x];L&&(M=fn(L)*(parseFloat(M)/100))}}this.originPoint[x]=M}),b&&nt.postRender(()=>b(g,_)),Dy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},u=(g,_)=>{const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:b,onDrag:P}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:x}=_;if(S&&this.currentDirection===null){this.currentDirection=EF(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",_.point,x),this.updateAxis("y",_.point,x),this.visualElement.render(),P&&P(g,_)},h=(g,_)=>this.stop(g,_),f=()=>Qn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)==null?void 0:_.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Vx(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Mx(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&nt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!vf(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=fF(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;e&&Fo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=dF(i.layoutBox,e):this.constraints=!1,this.elastic=yF(t),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Qn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=gF(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Fo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=lF(i,a.root,this.visualElement.getTransformPagePoint());let u=pF(a.layout.layoutBox,o);if(t){const h=t(Jj(u));this.hasMutatedConstraints=!!h,h&&(u=Ix(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=Qn(g=>{if(!vf(g,t,this.currentDirection))return;let _=f&&f[g]||{};u&&(_={min:0,max:0});const E=a?200:1e6,S=a?40:1e7,b={type:"inertia",velocity:i?e[g]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(g,b)});return Promise.all(m).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Dy(this.visualElement,e),i.start(U_(e,i,0,t,this.visualElement,!1))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Qn(t=>{const{drag:i}=this.getProps();if(!vf(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[t];o.set(e[t]-ut(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Fo(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=mF({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Qn(u=>{if(!vf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];h.set(ut(f,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;vF.set(this.visualElement,this);const e=this.visualElement.current,t=Yu(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Fo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),nt.read(i);const u=vc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Qn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=Hy,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function vf(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function EF(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class TF extends Ms{constructor(e){super(e),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new _F(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xb=n=>(e,t)=>{n&&nt.postRender(()=>n(e,t))};class wF extends Ms{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(e){this.session=new Vx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Xb(e),onStart:Xb(t),onMove:i,onEnd:(o,u)=>{delete this.session,a&&nt.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Yu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zb(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Du={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ee.test(n))n=parseFloat(n);else return n;const t=Zb(n,e.target.x),i=Zb(n,e.target.y);return`${t}% ${i}%`}},SF={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=Rs.parse(n);if(a.length>5)return i;const o=Rs.createTransformer(n),u=typeof a[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;a[0+u]/=h,a[1+u]/=f;const m=ut(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),o(a)}};class bF extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=e;z9(AF),o&&(t.group&&t.group.add(o),i&&i.register&&a&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||nt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),g_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Lx(n){const[e,t]=r9(),i=j.useContext(_I);return Ry.jsx(bF,{...n,layoutGroup:i,switchLayoutGroup:j.useContext(MI),isPresent:e,safeToRemove:t})}const AF={borderRadius:{...Du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Du,borderTopRightRadius:Du,borderBottomLeftRadius:Du,borderBottomRightRadius:Du,boxShadow:SF};function RF(n,e,t){const i=sn(n)?n:rl(n);return i.start(U_("",i,e,t)),i.animation}function CF(n){return n instanceof SVGElement&&n.tagName!=="svg"}const IF=(n,e)=>n.depth-e.depth;class xF{constructor(){this.children=[],this.isDirty=!1}add(e){l_(this.children,e),this.isDirty=!0}remove(e){u_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IF),this.isDirty=!1,this.children.forEach(e)}}function DF(n,e){const t=ji.now(),i=({timestamp:a})=>{const o=a-t;o>=e&&(Or(i),n(o-e))};return nt.read(i,!0),()=>Or(i)}const Ux=["TopLeft","TopRight","BottomLeft","BottomRight"],OF=Ux.length,Jb=n=>typeof n=="string"?parseFloat(n):n,eA=n=>typeof n=="number"||Ee.test(n);function PF(n,e,t,i,a,o){a?(n.opacity=ut(0,t.opacity??1,NF(i)),n.opacityExit=ut(e.opacity??1,0,MF(i))):o&&(n.opacity=ut(e.opacity??1,t.opacity??1,i));for(let u=0;u<OF;u++){const h=`border${Ux[u]}Radius`;let f=tA(e,h),m=tA(t,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||eA(f)===eA(m)?(n[h]=Math.max(ut(Jb(f),Jb(m),i),0),(Fi.test(m)||Fi.test(f))&&(n[h]+="%")):n[h]=m}(e.rotate||t.rotate)&&(n.rotate=ut(e.rotate||0,t.rotate||0,i))}function tA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const NF=Bx(0,.5,tx),MF=Bx(.5,.95,Jn);function Bx(n,e,t){return i=>i<n?0:i>e?1:t(hc(n,e,i))}function nA(n,e){n.min=e.min,n.max=e.max}function Yn(n,e){nA(n.x,e.x),nA(n.y,e.y)}function iA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function rA(n,e,t,i,a){return n-=e,n=hd(n,1/t,i),a!==void 0&&(n=hd(n,1/a,i)),n}function VF(n,e=0,t=1,i=.5,a,o=n,u=n){if(Fi.test(e)&&(e=parseFloat(e),e=ut(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=ut(o.min,o.max,i);n===o&&(h-=e),n.min=rA(n.min,e,t,h,a),n.max=rA(n.max,e,t,h,a)}function sA(n,e,[t,i,a],o,u){VF(n,e[t],e[i],e[a],e.scale,o,u)}const kF=["x","scaleX","originX"],LF=["y","scaleY","originY"];function aA(n,e,t,i){sA(n.x,e,kF,t?t.x:void 0,i?i.x:void 0),sA(n.y,e,LF,t?t.y:void 0,i?i.y:void 0)}function oA(n){return n.translate===0&&n.scale===1}function jx(n){return oA(n.x)&&oA(n.y)}function lA(n,e){return n.min===e.min&&n.max===e.max}function UF(n,e){return lA(n.x,e.x)&&lA(n.y,e.y)}function uA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Fx(n,e){return uA(n.x,e.x)&&uA(n.y,e.y)}function cA(n){return fn(n.x)/fn(n.y)}function hA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class BF{constructor(){this.members=[]}add(e){l_(this.members,e),e.scheduleRender()}remove(e){if(u_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jF(n,e,t){let i="";const a=n.x.translate/e.x,o=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:g,rotateX:_,rotateY:E,skewX:S,skewY:b}=t;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),_&&(i+=`rotateX(${_}deg) `),E&&(i+=`rotateY(${E}deg) `),S&&(i+=`skewX(${S}deg) `),b&&(i+=`skewY(${b}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Fg=["","X","Y","Z"],FF={visibility:"hidden"},fA=1e3;let zF=0;function zg(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function zx(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=YI(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",nt,!(a||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&zx(i)}function Hx({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=zF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($F),this.nodes.forEach(WF),this.nodes.forEach(XF),this.nodes.forEach(GF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new xF)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new h_),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=CF(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||f)&&(this.isLayoutDirty=!0),n){let _;const E=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=DF(E,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(pA))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||nz,{onLayoutAnimationStart:x,onLayoutAnimationComplete:M}=g.getProps(),z=!this.targetLayout||!Fx(this.targetLayout,b),L=!E&&S;if(this.options.layoutRoot||this.resumeFrom||L||E&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,L);const te={...p_(P,"layout"),onPlay:x,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(te.delay=0,te.type=!1),this.startAnimation(te)}else E||pA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZF),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dA);return}this.isUpdating||this.nodes.forEach(YF),this.isUpdating=!1,this.nodes.forEach(QF),this.nodes.forEach(HF),this.nodes.forEach(qF),this.clearAllSnapshots();const h=ji.now();Kt.delta=Pr(0,1e3/60,h-Kt.timestamp),Kt.timestamp=h,Kt.isProcessing=!0,Ng.update.process(Kt),Ng.preRender.process(Kt),Ng.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,g_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KF),this.sharedNodes.forEach(JF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!jx(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&(h||Ea(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),iz(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return Et();const h=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(rz))){const{scroll:g}=this.root;g&&(qo(h.x,g.offset.x),qo(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=Et();if(Yn(h,u),(f=this.scroll)!=null&&f.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Yn(h,u),qo(h.x,_.offset.x),qo(h.y,_.offset.y))}return h}applyTransform(u,h=!1){const f=Et();Yn(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&$o(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ea(g.latestValues)&&$o(f,g.latestValues)}return Ea(this.latestValues)&&$o(f,this.latestValues),f}removeTransform(u){const h=Et();Yn(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Ea(m.latestValues))continue;Fy(m.latestValues)&&m.updateSnapshot();const g=Et(),_=m.measurePageBox();Yn(g,_),aA(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ea(this.latestValues)&&aA(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Wu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),Px(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Wu(this.relativeTargetOrigin,this.target,S.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fy(this.parent.latestValues)||Ox(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Yn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;oF(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Et());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iA(this.prevProjectionDelta.x,this.projectionDelta.x),iA(this.prevProjectionDelta.y,this.projectionDelta.y)),Qu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!hA(this.projectionDelta.x,this.prevProjectionDelta.x)||!hA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(u,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},_=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Et(),S=f?f.source:void 0,b=this.layout?this.layout.source:void 0,P=S!==b,x=this.getStack(),M=!x||x.members.length<=1,z=!!(P&&!M&&this.options.crossfade===!0&&!this.path.some(tz));this.animationProgress=0;let L;this.mixTargetDelta=te=>{const Y=te/1e3;mA(_.x,u.x,Y),mA(_.y,u.y,Y),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ez(this.relativeTarget,this.relativeTargetOrigin,E,Y),L&&UF(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Et()),Yn(L,this.relativeTarget)),P&&(this.animationValues=g,PF(g,m,this.latestValues,Y,z,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{kf.hasAnimatedSinceResize=!0,this.currentAnimation=RF(0,fA,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=u;if(!(!h||!f||!m)){if(this!==u&&this.layout&&m&&qx(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Et();const _=fn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=fn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Yn(h,f),$o(h,g),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new BF),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&zg("z",u,m,this.animationValues);for(let g=0;g<Fg.length;g++)zg(`rotate${Fg[g]}`,u,m,this.animationValues),zg(`skew${Fg[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return FF;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Vf(u==null?void 0:u.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Vf(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),h.transform=jF(this.projectionDeltaWithTransform,this.treeScale,g),f&&(h.transform=f(g,h.transform));const{x:_,y:E}=this.projectionDelta;h.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,m.animationValues?h.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in pc){if(g[S]===void 0)continue;const{correct:b,applyTo:P,isCSSVariable:x}=pc[S],M=h.transform==="none"?g[S]:b(g[S],m);if(P){const z=P.length;for(let L=0;L<z;L++)h[P[L]]=M}else x?this.options.visualElement.renderState.vars[S]=M:h[S]=M}return this.options.layoutId&&(h.pointerEvents=m===this?Vf(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(dA),this.root.sharedNodes.clear()}}}function HF(n){n.updateLayout()}function qF(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=n.layout,{animationType:o}=n.options,u=e.source!==n.layout.source;o==="size"?Qn(_=>{const E=u?e.measuredBox[_]:e.layoutBox[_],S=fn(E);E.min=i[_].min,E.max=E.min+S}):qx(o,e.layoutBox,i)&&Qn(_=>{const E=u?e.measuredBox[_]:e.layoutBox[_],S=fn(i[_]);E.max=E.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+S)});const h=Ho();Qu(h,i,e.layoutBox);const f=Ho();u?Qu(f,n.applyTransform(a,!0),e.measuredBox):Qu(f,i,e.layoutBox);const m=!jx(h);let g=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:S}=_;if(E&&S){const b=Et();Wu(b,e.layoutBox,E.layoutBox);const P=Et();Wu(P,i,S.layoutBox),Fx(b,P)||(g=!0),_.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=b,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function $F(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function GF(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function KF(n){n.clearSnapshot()}function dA(n){n.clearMeasurements()}function YF(n){n.isLayoutDirty=!1}function QF(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function pA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function WF(n){n.resolveTargetDelta()}function XF(n){n.calcProjection()}function ZF(n){n.resetSkewAndRotation()}function JF(n){n.removeLeadSnapshot()}function mA(n,e,t){n.translate=ut(e.translate,0,t),n.scale=ut(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function gA(n,e,t,i){n.min=ut(e.min,t.min,i),n.max=ut(e.max,t.max,i)}function ez(n,e,t,i){gA(n.x,e.x,t.x,i),gA(n.y,e.y,t.y,i)}function tz(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const nz={duration:.45,ease:[.4,0,.1,1]},yA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),vA=yA("applewebkit/")&&!yA("chrome/")?Math.round:Jn;function _A(n){n.min=vA(n.min),n.max=vA(n.max)}function iz(n){_A(n.x),_A(n.y)}function qx(n,e,t){return n==="position"||n==="preserve-aspect"&&!sF(cA(e),cA(t),.2)}function rz(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const sz=Hx({attachResizeListener:(n,e)=>vc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hg={current:void 0},$x=Hx({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Hg.current){const n=new sz({});n.mount(window),n.setOptions({layoutScroll:!0}),Hg.current=n}return Hg.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),az={pan:{Feature:wF},drag:{Feature:TF,ProjectionNode:$x,MeasureLayout:Lx}};function EA(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=i[a];o&&nt.postRender(()=>o(e,Lc(e)))}class oz extends Ms{mount(){const{current:e}=this.node;e&&(this.unmount=y9(e,(t,i)=>(EA(this.node,i,"Start"),a=>EA(this.node,a,"End"))))}unmount(){}}class lz extends Ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kc(vc(this.node.current,"focus",()=>this.onFocus()),vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TA(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=i[a];o&&nt.postRender(()=>o(e,Lc(e)))}class uz extends Ms{mount(){const{current:e}=this.node;e&&(this.unmount=T9(e,(t,i)=>(TA(this.node,i,"Start"),(a,{success:o})=>TA(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qy=new WeakMap,qg=new WeakMap,cz=n=>{const e=qy.get(n.target);e&&e(n)},hz=n=>{n.forEach(cz)};function fz({root:n,...e}){const t=n||document;qg.has(t)||qg.set(t,{});const i=qg.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(hz,{root:n,...e})),i[a]}function dz(n,e,t){const i=fz(e);return qy.set(n,t),i.observe(n),()=>{qy.delete(n),i.unobserve(n)}}const pz={some:0,all:1};class mz extends Ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:o}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:pz[a]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=m?g:_;E&&E(f)};return dz(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(gz(e,t))&&this.startObserver()}unmount(){}}function gz({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const yz={inView:{Feature:mz},tap:{Feature:uz},focus:{Feature:lz},hover:{Feature:oz}},vz={layout:{ProjectionNode:$x,MeasureLayout:Lx}},$y={current:null},Gx={current:!1};function _z(){if(Gx.current=!0,!!s_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>$y.current=n.matches;n.addListener(e),e()}else $y.current=!1}const Ez=[...gx,tn,Rs],Tz=n=>Ez.find(mx(n)),wz=new WeakMap;function Sz(n,e,t){for(const i in e){const a=e[i],o=t[i];if(sn(a))n.addValue(i,a);else if(sn(o))n.addValue(i,rl(a,{owner:n}));else if(o!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,rl(u!==void 0?u:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const wA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bz{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=V_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=ji.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,nt.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=ep(t),this.isVariantNode=PI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const S in E){const b=E[S];f[S]!==void 0&&sn(b)&&b.set(f[S],!1)}}mount(e){this.current=e,wz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),Gx.current||_z(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$y.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Or(this.notifyUpdate),Or(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=La.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&nt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sl){const t=sl[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<wA.length;i++){const a=wA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Sz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=rl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(dx(i)||ix(i))?i=parseFloat(i):!Tz(i)&&Rs.test(t)&&(i=cx(e,t)),this.setBaseTarget(e,sn(i)?i.get():i)),sn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const u=x_(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);u&&(i=u[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!sn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new h_),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Kx extends bz{constructor(){super(...arguments),this.KeyframeResolver=yx}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Az(n){return window.getComputedStyle(n)}class Rz extends Kx{constructor(){super(...arguments),this.type="html",this.renderInstance=HI}readValueFromInstance(e,t){if(La.has(t))return BB(e,t);{const i=Az(e),a=(T_(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Nx(e,t)}build(e,t,i){b_(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return D_(e,t,i)}}class Cz extends Kx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&zI(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(La.has(t)){const i=ux(t);return i&&i.default||0}return t=qI.has(t)?t:E_(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return GI(e,t,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&nt.postRender(this.updateDimensions)}build(e,t,i){C_(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,a){$I(e,t,i,a)}mount(e){this.isSVGTag=I_(e.tagName),super.mount(e)}}const Iz=(n,e)=>R_(n)?new Cz(e):new Rz(e,{allowProjection:n!==j.Fragment}),xz=fB({...Xj,...yz,...az,...vz},Iz),Dz=I9(xz);function Yx(n){const e=r_(()=>rl(n)),{isStatic:t}=j.useContext(o_);if(t){const[,i]=j.useState(n);j.useEffect(()=>e.on("change",i),[])}return e}function Qx(n,e){const t=Yx(e()),i=()=>t.set(e());return i(),EI(()=>{const a=()=>nt.preRender(i,!1,!0),o=n.map(u=>u.on("change",a));return()=>{o.forEach(u=>u()),Or(i)}}),t}const Oz=n=>n&&typeof n=="object"&&n.mix,Pz=n=>Oz(n)?n.mix:void 0;function Nz(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],a=n[1+t],o=n[2+t],u=n[3+t],h=Sx(a,o,{mixer:Pz(o[0]),...u});return e?h(i):h}function Mz(n){Gu.current=[],n();const e=Qx(Gu.current,n);return Gu.current=void 0,e}function $g(n,e,t,i){if(typeof n=="function")return Mz(n);const a=typeof e=="function"?e:Nz(e,t,i);return Array.isArray(n)?SA(n,a):SA([n],([o])=>a(o))}function SA(n,e){const t=r_(()=>[]);return Qx(n,()=>{t.length=0;const i=n.length;for(let a=0;a<i;a++)t[a]=n[a].get();return e(t)})}var Wx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bA=$.createContext&&$.createContext(Wx),Vz=["attr","size","title"];function kz(n,e){if(n==null)return{};var t=Lz(n,e),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)i=o[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Lz(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function fd(){return fd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fd.apply(this,arguments)}function AA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function dd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AA(Object(t),!0).forEach(function(i){Uz(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AA(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Uz(n,e,t){return e=Bz(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bz(n){var e=jz(n,"string");return typeof e=="symbol"?e:e+""}function jz(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Xx(n){return n&&n.map((e,t)=>$.createElement(e.tag,dd({key:t},e.attr),Xx(e.child)))}function Zx(n){return e=>$.createElement(Fz,fd({attr:dd({},n.attr)},e),Xx(n.child))}function Fz(n){var e=t=>{var{attr:i,size:a,title:o}=n,u=kz(n,Vz),h=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),$.createElement("svg",fd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:f,style:dd(dd({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&$.createElement("title",null,o),n.children)};return bA!==void 0?$.createElement(bA.Consumer,null,t=>e(t)):e(Wx)}function pd(n){return Zx({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function Jx(n){return Zx({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function zz(){const n=xd(),e=Ed(),[t,i]=j.useState(null),[a,o]=j.useState(!1),[u,h]=j.useState(""),[f,m]=j.useState(20),[g,_]=j.useState(50),[E,S]=j.useState(""),[b,P]=j.useState({pets:!1,kitchen:!1,outdoors:!1,bathroom:!1}),x=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[M,z]=j.useState({Mon:{active:!1,start:"08:00",end:"16:00"},Tue:{active:!1,start:"08:00",end:"16:00"},Wed:{active:!1,start:"08:00",end:"16:00"},Thu:{active:!1,start:"08:00",end:"16:00"},Fri:{active:!1,start:"08:00",end:"16:00"},Sat:{active:!1,start:"08:00",end:"16:00"},Sun:{active:!1,start:"08:00",end:"16:00"}});j.useEffect(()=>{const C=n.onAuthStateChanged(async D=>{if(i(D),D)try{const N=await v6(e9,{vapidKey:"BOQSMeBPVm8y6nubk3l76nYInIX162YY5jCto9PHALX6vygSIPHLP8riMvbm0jj9eGXnajA4dN-DIvmTfgmbCWc"});console.log(" FCM Token:",N),await zS(Tr(Wn,"profiles",D.uid),{fcmToken:N},{merge:!0})}catch(N){console.error(" Error getting FCM token:",N)}});return()=>C()},[]),j.useEffect(()=>{a&&t&&(async()=>{if(!t)return;const D=Tr(Wn,"profiles",t.uid),N=await by(D);if(N.exists()){const U=N.data();h(U.name||""),m(U.pay||20),_(U.range||50),P(U.specs||b),z(U.schedule||M),S(U.languages||"")}})()},[a,t]);const L=async()=>{if(!t){alert("You're not logged in!");return}try{console.log("Saving profile for user:",t.uid),await zS(Tr(Wn,"profiles",t.uid),{name:u,pay:f,range:g,specs:b,schedule:M,languages:E},{merge:!0}),alert("Profile saved!")}catch(C){console.error("Error saving profile:",C),alert(`Failed to save profile: ${C.message}`)}},te=async()=>{if(!t)return alert("User not logged in");try{const C=await by(Tr(Wn,"profiles",t.uid));C.exists()?console.log(" Profile data loaded from Firestore:",C.data()):console.log(" No profile found for this user.")}catch(C){console.error("Error checking profile:",C)}},Y=async()=>{try{await w2(n),e("/")}catch(C){console.error("Logout error:",C),alert("Failed to log out.")}},J=C=>{P(D=>({...D,[C]:!D[C]}))},O=C=>{z(D=>({...D,[C]:{...D[C],active:!D[C].active}}))},R=(C,D,N)=>{z(U=>({...U,[C]:{...U[C],[D]:N}}))};return $.createElement($.Fragment,null,$.createElement(Jx,{onClick:()=>o(!a),size:32,style:{cursor:"pointer",position:"fixed",top:"1rem",left:"1rem",zIndex:1100,color:a?"#04AA6D":"#ccc"},title:a?"Close Profile":"Open Profile"}),$.createElement("div",{className:`profile-panel ${a?"open":""}`},$.createElement("h2",null,"Your Maid Profile"),$.createElement("p",null,$.createElement("strong",null,"Name:")),$.createElement("input",{type:"text",value:u,onChange:C=>h(C.target.value)}),$.createElement("p",null,$.createElement("strong",null,"Hourly Pay ($):")),$.createElement("input",{type:"number",value:f,onChange:C=>m(Number(C.target.value))}),$.createElement("p",null,$.createElement("strong",null,"Work Range (mi):")),$.createElement("div",{className:"slidecontainer"},$.createElement("input",{type:"range",min:"1",max:"100",value:g,className:"slider",onChange:C=>_(Number(C.target.value))}),$.createElement("p",null,g," mi")),$.createElement("p",null,$.createElement("strong",null,"Weekly Availability:")),x.map(C=>$.createElement("div",{key:C,style:{marginBottom:"1rem"}},$.createElement("button",{className:`spec-pill ${M[C].active?"active":""}`,onClick:()=>O(C)},C),M[C].active&&$.createElement($.Fragment,null,$.createElement("label",{style:{marginLeft:"0.5rem"}},"Start:",$.createElement("input",{type:"time",value:M[C].start,onChange:D=>R(C,"start",D.target.value)})),$.createElement("label",{style:{marginLeft:"1rem"}},"End:",$.createElement("input",{type:"time",value:M[C].end,onChange:D=>R(C,"end",D.target.value)}))))),$.createElement("p",null,$.createElement("strong",null,"Work Specifications:")),Object.keys(b).map(C=>$.createElement("button",{key:C,className:`spec-pill ${b[C]?"active":""}`,onClick:()=>J(C)},C.charAt(0).toUpperCase()+C.slice(1))),$.createElement("p",null,$.createElement("strong",null,"Languages Spoken (optional):")),$.createElement("input",{type:"text",placeholder:"e.g. English, Spanish, Tagalog",value:E,onChange:C=>S(C.target.value)}),$.createElement("br",null),$.createElement("br",null),$.createElement("button",{onClick:L},"Save Profile"),$.createElement("button",{style:{marginLeft:"1rem"},onClick:te}," Check Profile in Console"),$.createElement("br",null),$.createElement("br",null),$.createElement("button",{onClick:Y,style:{backgroundColor:"#dc2626",color:"white",padding:"0.5rem 1rem",borderRadius:"0.25rem"}},"Log Out")))}const Hz=[{id:1,url:"https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=2370&auto=format&fit=crop"},{id:2,url:"https://images.unsplash.com/photo-1512374382149-233c42b6a83b?q=80&w=2235&auto=format&fit=crop"},{id:3,url:"https://images.unsplash.com/photo-1539185441755-769473a23570?q=80&w=2342&auto=format&fit=crop"}];function qz({id:n,url:e,setCards:t,cards:i}){const a=Yx(0),o=$g(a,[-150,150],[-18,18]),u=$g(a,[-150,0,150],[0,1,0]),h=n===i[i.length-1].id,f=h?0:n%2?6:-6,m=$g(o,_=>`${_+f}deg`),g=()=>{Math.abs(a.get())>100&&t(_=>_.filter(E=>E.id!==n))};return $.createElement(Dz.img,{src:e,alt:"maid card",className:"card",style:{x:a,rotate:m,opacity:u,boxShadow:h?"0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.5)":void 0},animate:{scale:h?1:.98},drag:h?"x":!1,dragConstraints:{left:0,right:0},onDragEnd:g})}function $z(){const[n,e]=j.useState(Hz),[t,i]=j.useState(!1);return $.createElement("div",{className:"tinderCards__cardContainer"},$.createElement(Jx,{onClick:()=>i(!t),size:32,style:{cursor:"pointer",position:"fixed",top:"1rem",left:"1rem",zIndex:1100,color:t?"#04AA6D":"#ccc"},title:t?"Close Profile":"Open Profile"}),$.createElement(zz,{open:t}),n.map(a=>$.createElement(qz,{key:a.id,...a,setCards:e,cards:n})))}const Gz=()=>{var z;const n=Cs(),t=xd().currentUser,i=((z=n.state)==null?void 0:z.maidId)||"maid123",a=(t==null?void 0:t.uid)||"user456",o=(t==null?void 0:t.displayName)||"Test User",[u,h]=j.useState([]),[f,m]=j.useState({rating:0,text:""}),[g,_]=j.useState(null),[E,S]=j.useState(null);j.useEffect(()=>{b()},[]);const b=async()=>{try{const L=kC(Pf(Wn,"reviews"),LC("maidId","==",i)),Y=(await zC(L)).docs.map(J=>({id:J.id,...J.data(),replyDraft:J.data().reply||""}));h(Y)}catch(L){console.error("Failed to fetch reviews:",L.message)}},P=async()=>{try{await HS(Pf(Wn,"reviews"),{userId:a,name:o,rating:f.rating,text:f.text,maidId:i,timestamp:G4()}),alert(" Review submitted!");const L=Tr(Wn,"profiles",i),te=await by(L);if(te.exists()){const J=te.data().fcmToken;J?(await fetch("https://us-central1-maid-match-7e3c8.cloudfunctions.net/sendNotification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:J,title:"New Review Received!",body:`${o} left you a review!`,icon:"https://yourwebsite.com/maid-icon.png",badge:1,vibrate:[100,200,300],click_action:"https://yourwebsite.com/"})}),console.log(" Notification sent to Maid!")):console.warn(" Maid does not have an FCM token.")}m({rating:0,text:""}),S(null),b()}catch(L){console.error("Error submitting review:",L),alert("Failed to submit review.")}},x=L=>{m({rating:L.rating,text:L.text}),S(L.id)},M=async L=>{const te=prompt("Why are you reporting this review?");if(te)try{await HS(Pf(Wn,"reports"),{reviewId:L,maidId:i,reportedBy:a,reason:te,timestamp:new Date().toISOString()}),alert("Report submitted. Thank you.")}catch(Y){console.error("Report failed:",Y.message)}};return $.createElement("div",{style:li.container},$.createElement("h2",{style:li.heading},"Rate Your Experience"),u.map(L=>{const te=L.maidId===(t==null?void 0:t.uid),Y=L.userId===a;return $.createElement("div",{key:L.id,style:li.reviewCard},$.createElement("div",{style:li.starRow},[...Array(5)].map((J,O)=>$.createElement(pd,{key:O,size:20,color:O<L.rating?"#ff6363":"#ddd"}))),$.createElement("p",null,L.text),L.reply&&$.createElement("div",{style:{marginTop:"0.5rem",fontStyle:"italic",color:"#00bfa5"}},$.createElement("strong",null,"Reply from Maid:")," ",L.reply),te&&$.createElement("div",{style:{marginTop:"0.5rem"}},$.createElement("input",{type:"text",placeholder:"Reply to this review...",value:L.replyDraft,onChange:J=>{const O=u.map(R=>R.id===L.id?{...R,replyDraft:J.target.value}:R);h(O)},style:{padding:"0.4rem",width:"80%"}}),$.createElement("button",{onClick:async()=>{const J=u.find(O=>O.id===L.id).replyDraft;await HC(Tr(Wn,"reviews",L.id),{reply:J}),b(),setTimeout(()=>{alert(" Reply saved successfully!")},300)},style:{marginLeft:"0.5rem",padding:"0.4rem 1rem",backgroundColor:"#04AA6D",color:"white",border:"none",borderRadius:"5px"}},"Save")),Y&&$.createElement("div",{style:li.actionRow},$.createElement("button",{style:li.edit,onClick:()=>x(L)},"Edit"),$.createElement("button",{style:li.report,onClick:()=>M(L.id)},"Report")))}),$.createElement("div",{style:li.formCard},$.createElement("h3",{style:{marginBottom:8,color:E?"#000":"#42f5e9"}},E?"Edit Your Review":"Add a Review"),$.createElement("div",{style:li.starRow},[...Array(5)].map((L,te)=>{const Y=te+1;return $.createElement("label",{key:te},$.createElement("input",{type:"radio",style:{display:"none"},value:Y,onClick:()=>m({...f,rating:Y})}),$.createElement(pd,{size:28,color:Y<=(g||f.rating)?"#ff6363":"#ddd",onMouseEnter:()=>_(Y),onMouseLeave:()=>_(null),style:{cursor:"pointer",transition:"0.2s"}}))})),$.createElement("textarea",{placeholder:"Say something about your experience...",style:li.textarea,value:f.text,onChange:L=>m({...f,text:L.target.value})}),$.createElement("button",{style:li.submitBtn,onClick:P},E?"Update Review":"Submit Review")))},li={container:{maxWidth:600,margin:"0 auto",padding:20,fontFamily:"'Helvetica Neue', sans-serif",backgroundColor:"#f9fbfd",minHeight:"100vh",position:"relative",zIndex:20},heading:{fontSize:"2rem",fontWeight:"bold",textAlign:"center",color:"#002B5B",marginBottom:24},reviewCard:{background:"black",padding:16,borderRadius:12,marginBottom:16,boxShadow:"0 4px 10px rgba(0,0,0,0.06)",borderLeft:"4px solid #007bff",color:"white"},formCard:{background:"#eaf6ff",padding:20,borderRadius:12,boxShadow:"0 4px 10px rgba(0,0,0,0.08)",marginTop:30},textarea:{width:"100%",minHeight:60,padding:8,borderRadius:6,border:"1px solid #ccc",marginTop:10},starRow:{display:"flex",gap:6,marginBottom:10},submitBtn:{background:"#007bff",color:"#fff",padding:"10px 16px",border:"none",borderRadius:6,cursor:"pointer",marginTop:10,fontWeight:"bold"},edit:{color:"#007bff",cursor:"pointer"},report:{color:"#e63946",cursor:"pointer",marginLeft:10},actionRow:{display:"flex",justifyContent:"flex-end",marginTop:6}},Kz=()=>{const e=xd().currentUser,[t,i]=j.useState([]),[a,o]=j.useState(null),[u,h]=j.useState({text:"",rating:0});j.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const E=kC(Pf(Wn,"reviews"),LC("userId","==",e.uid)),b=(await zC(E)).docs.map(P=>({id:P.id,...P.data()}));i(b)}catch(E){console.error("Error fetching your reviews:",E.message)}},m=E=>{o(E.id),h({text:E.text,rating:E.rating})},g=async()=>{try{await HC(Tr(Wn,"reviews",a),{text:u.text,rating:u.rating}),alert("Review updated!"),o(null),f()}catch(E){alert("Failed to update review."),console.error(E.message)}},_=async E=>{if(window.confirm("Delete this review?"))try{await q4(Tr(Wn,"reviews",E)),alert("Review deleted!"),f()}catch(S){alert("Failed to delete review."),console.error(S.message)}};return $.createElement("div",{style:ui.container},$.createElement("h2",{style:ui.heading},"My Reviews"),t.length===0?$.createElement("p",null,"You havent written any reviews yet."):t.map(E=>$.createElement("div",{key:E.id,style:ui.card},a===E.id?$.createElement($.Fragment,null,$.createElement("textarea",{value:u.text,onChange:S=>h({...u,text:S.target.value}),style:ui.textarea}),$.createElement("div",{style:ui.starRow},[1,2,3,4,5].map(S=>$.createElement(pd,{key:S,size:24,color:u.rating>=S?"#ffc107":"#ddd",onClick:()=>h({...u,rating:S}),style:{cursor:"pointer"}}))),$.createElement("button",{onClick:g,style:ui.saveBtn},"Save"),$.createElement("button",{onClick:()=>o(null),style:ui.cancelBtn},"Cancel")):$.createElement($.Fragment,null,$.createElement("div",{style:ui.starRow},[1,2,3,4,5].map(S=>$.createElement(pd,{key:S,size:20,color:E.rating>=S?"#ffc107":"#ddd"}))),$.createElement("p",null,E.text),$.createElement("div",{style:ui.actionRow},$.createElement("button",{onClick:()=>m(E),style:ui.editBtn},"Edit"),$.createElement("button",{onClick:()=>_(E.id),style:ui.deleteBtn},"Delete"))))))},ui={container:{maxWidth:600,margin:"0 auto",padding:20,fontFamily:"Arial, sans-serif"},heading:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:24,color:"#333"},card:{background:"#f9f9f9",borderRadius:10,padding:16,marginBottom:20,boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},textarea:{width:"100%",height:60,padding:8,fontSize:14,borderRadius:6,border:"1px solid #ccc"},starRow:{display:"flex",gap:4,marginBottom:8},actionRow:{marginTop:10,display:"flex",gap:10},saveBtn:{backgroundColor:"#4caf50",color:"white",border:"none",padding:"8px 16px",borderRadius:5,cursor:"pointer"},cancelBtn:{backgroundColor:"#aaa",color:"white",border:"none",padding:"8px 16px",borderRadius:5,cursor:"pointer"},editBtn:{backgroundColor:"#2196f3",color:"white",border:"none",padding:"6px 12px",borderRadius:5,cursor:"pointer"},deleteBtn:{backgroundColor:"#f44336",color:"white",border:"none",padding:"6px 12px",borderRadius:5,cursor:"pointer"}};function Yz(){return $.createElement(WP,null,$.createElement(CP,null,$.createElement(Vo,{path:"/",element:$.createElement(t9,null)}),$.createElement(Vo,{path:"/signup",element:$.createElement(vI,null)}),$.createElement(Vo,{path:"/home",element:$.createElement($z,null)}),$.createElement(Vo,{path:"/tinder-shuffle/review",element:$.createElement(Gz,null)}),$.createElement(Vo,{path:"/my-reviews",element:$.createElement(Kz,null)})))}const Re=n=>typeof n=="string",Ou=()=>{let n,e;const t=new Promise((i,a)=>{n=i,e=a});return t.resolve=n,t.reject=e,t},RA=n=>n==null?"":""+n,Qz=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},Wz=/###/g,CA=n=>n&&n.indexOf("###")>-1?n.replace(Wz,"."):n,IA=n=>!n||Re(n),Xu=(n,e,t)=>{const i=Re(e)?e.split("."):e;let a=0;for(;a<i.length-1;){if(IA(n))return{};const o=CA(i[a]);!n[o]&&t&&(n[o]=new t),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={},++a}return IA(n)?{}:{obj:n,k:CA(i[a])}},xA=(n,e,t)=>{const{obj:i,k:a}=Xu(n,e,Object);if(i!==void 0||e.length===1){i[a]=t;return}let o=e[e.length-1],u=e.slice(0,e.length-1),h=Xu(n,u,Object);for(;h.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),h=Xu(n,u,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${o}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${o}`]=t},Xz=(n,e,t,i)=>{const{obj:a,k:o}=Xu(n,e,Object);a[o]=a[o]||[],a[o].push(t)},md=(n,e)=>{const{obj:t,k:i}=Xu(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},Zz=(n,e,t)=>{const i=md(n,t);return i!==void 0?i:md(e,t)},eD=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?Re(n[i])||n[i]instanceof String||Re(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):eD(n[i],e[i],t):n[i]=e[i]);return n},Oo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Jz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const e5=n=>Re(n)?n.replace(/[&<>"'\/]/g,e=>Jz[e]):n;class t5{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const n5=[" ",",","?","!",";"],i5=new t5(20),r5=(n,e,t)=>{e=e||"",t=t||"";const i=n5.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(i.length===0)return!0;const a=i5.getRegExp(`(${i.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(n);if(!o){const u=n.indexOf(t);u>0&&!a.test(n.substring(0,u))&&(o=!0)}return o},Gy=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let a=n;for(let o=0;o<i.length;){if(!a||typeof a!="object")return;let u,h="";for(let f=o;f<i.length;++f)if(f!==o&&(h+=t),h+=i[f],u=a[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<i.length-1)continue;o+=f-o+1;break}a=u}return a},gd=n=>n==null?void 0:n.replace("_","-"),s5={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,i;(i=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||i.call(t,console,e)}};class yd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||s5,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,a){return a&&!this.debug?null:(Re(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new yd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new yd(this.logger,e)}}var Mi=new yd;class np{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const a=this.observers[i].get(t)||0;this.observers[i].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(u=>{let[h,f]=u;for(let m=0;m<f;m++)h(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[h,f]=u;for(let m=0;m<f;m++)h.apply(h,[e,...i])})}}class DA extends np{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){var m,g;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,t],i&&(Array.isArray(i)?h.push(...i):Re(i)&&o?h.push(...i.split(o)):h.push(i)));const f=md(this.data,h);return!f&&!t&&!i&&e.indexOf(".")>-1&&(e=h[0],t=h[1],i=h.slice(2).join(".")),f||!u||!Re(i)?f:Gy((g=(m=this.data)==null?void 0:m[e])==null?void 0:g[t],i,o)}addResource(e,t,i,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let h=[e,t];i&&(h=h.concat(u?i.split(u):i)),e.indexOf(".")>-1&&(h=e.split("."),a=t,t=h[1]),this.addNamespaces(t),xA(this.data,h,a),o.silent||this.emit("added",e,t,i,a)}addResources(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in i)(Re(i[o])||Array.isArray(i[o]))&&this.addResource(e,t,o,i[o],{silent:!0});a.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,a,o){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},h=[e,t];e.indexOf(".")>-1&&(h=e.split("."),a=i,i=t,t=h[1]),this.addNamespaces(t);let f=md(this.data,h)||{};u.skipCopy||(i=JSON.parse(JSON.stringify(i))),a?eD(f,i,o):f={...f,...i},xA(this.data,h,f),u.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var tD={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,a){return n.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,t,i,a))??e}),e}};const OA={},PA=n=>!Re(n)&&typeof n!="boolean"&&typeof n!="number";class vd extends np{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Qz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Mi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const u=i&&e.indexOf(i)>-1,h=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!r5(e,i,a);if(u&&!h){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Re(o)?[o]:o};const m=e.split(i);(i!==a||i===a&&this.options.ns.indexOf(m[0])>-1)&&(o=m.shift()),e=m.join(a)}return{key:e,namespaces:Re(o)?[o]:o}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:u,namespaces:h}=this.extractFromKey(e[e.length-1],t),f=h[h.length-1],m=t.lng||this.language,g=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((m==null?void 0:m.toLowerCase())==="cimode"){if(g){const N=t.nsSeparator||this.options.nsSeparator;return a?{res:`${f}${N}${u}`,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:`${f}${N}${u}`}return a?{res:u,usedKey:u,exactUsedKey:u,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(t)}:u}const _=this.resolve(e,t);let E=_==null?void 0:_.res;const S=(_==null?void 0:_.usedKey)||u,b=(_==null?void 0:_.exactUsedKey)||u,P=["[object Number]","[object Function]","[object RegExp]"],x=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,M=!this.i18nFormat||this.i18nFormat.handleAsObject,z=t.count!==void 0&&!Re(t.count),L=vd.hasDefaultValue(t),te=z?this.pluralResolver.getSuffix(m,t.count,t):"",Y=t.ordinal&&z?this.pluralResolver.getSuffix(m,t.count,{ordinal:!1}):"",J=z&&!t.ordinal&&t.count===0,O=J&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${te}`]||t[`defaultValue${Y}`]||t.defaultValue;let R=E;M&&!E&&L&&(R=O);const C=PA(R),D=Object.prototype.toString.apply(R);if(M&&R&&C&&P.indexOf(D)<0&&!(Re(x)&&Array.isArray(R))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,R,{...t,ns:h}):`key '${u} (${this.language})' returned an object instead of string.`;return a?(_.res=N,_.usedParams=this.getUsedParamsDetails(t),_):N}if(o){const N=Array.isArray(R),U=N?[]:{},V=N?b:S;for(const Le in R)if(Object.prototype.hasOwnProperty.call(R,Le)){const Pe=`${V}${o}${Le}`;L&&!E?U[Le]=this.translate(Pe,{...t,defaultValue:PA(O)?O[Le]:void 0,joinArrays:!1,ns:h}):U[Le]=this.translate(Pe,{...t,joinArrays:!1,ns:h}),U[Le]===Pe&&(U[Le]=R[Le])}E=U}}else if(M&&Re(x)&&Array.isArray(E))E=E.join(x),E&&(E=this.extendTranslation(E,e,t,i));else{let N=!1,U=!1;!this.isValidLookup(E)&&L&&(N=!0,E=O),this.isValidLookup(E)||(U=!0,E=u);const Le=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&U?void 0:E,Pe=L&&O!==E&&this.options.updateMissing;if(U||N||Pe){if(this.logger.log(Pe?"updateKey":"missingKey",m,f,u,Pe?O:E),o){const Te=this.resolve(u,{...t,keySeparator:!1});Te&&Te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Z=[];const ie=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ie&&ie[0])for(let Te=0;Te<ie.length;Te++)Z.push(ie[Te]);else this.options.saveMissingTo==="all"?Z=this.languageUtils.toResolveHierarchy(t.lng||this.language):Z.push(t.lng||this.language);const he=(Te,B,ae)=>{var le;const ce=L&&ae!==E?ae:Le;this.options.missingKeyHandler?this.options.missingKeyHandler(Te,f,B,ce,Pe,t):(le=this.backendConnector)!=null&&le.saveMissing&&this.backendConnector.saveMissing(Te,f,B,ce,Pe,t),this.emit("missingKey",Te,f,B,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?Z.forEach(Te=>{const B=this.pluralResolver.getSuffixes(Te,t);J&&t[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(ae=>{he([Te],u+ae,t[`defaultValue${ae}`]||O)})}):he(Z,u,O))}E=this.extendTranslation(E,e,t,_,i),U&&E===u&&this.options.appendNamespaceToMissingKey&&(E=`${f}:${u}`),(U||N)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}:${u}`:u,N?E:void 0))}return a?(_.res=E,_.usedParams=this.getUsedParamsDetails(t),_):E}extendTranslation(e,t,i,a,o){var m,g;var u=this;if((m=this.i18nFormat)!=null&&m.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const _=Re(e)&&(((g=i==null?void 0:i.interpolation)==null?void 0:g.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let E;if(_){const b=e.match(this.interpolator.nestingRegexp);E=b&&b.length}let S=i.replace&&!Re(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),e=this.interpolator.interpolate(e,S,i.lng||this.language||a.usedLng,i),_){const b=e.match(this.interpolator.nestingRegexp),P=b&&b.length;E<P&&(i.nest=!1)}!i.lng&&a&&a.res&&(i.lng=this.language||a.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var b=arguments.length,P=new Array(b),x=0;x<b;x++)P[x]=arguments[x];return(o==null?void 0:o[0])===P[0]&&!i.context?(u.logger.warn(`It seems you are nesting recursively key: ${P[0]} in key: ${t[0]}`),null):u.translate(...P,t)},i)),i.interpolation&&this.interpolator.reset()}const h=i.postProcess||this.options.postProcess,f=Re(h)?[h]:h;return e!=null&&(f!=null&&f.length)&&i.applyPostProcessor!==!1&&(e=tD.handle(f,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,a,o,u,h;return Re(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(i))return;const m=this.extractFromKey(f,t),g=m.key;a=g;let _=m.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const E=t.count!==void 0&&!Re(t.count),S=E&&!t.ordinal&&t.count===0,b=t.context!==void 0&&(Re(t.context)||typeof t.context=="number")&&t.context!=="",P=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);_.forEach(x=>{var M,z;this.isValidLookup(i)||(h=x,!OA[`${P[0]}-${x}`]&&((M=this.utils)!=null&&M.hasLoadedNamespace)&&!((z=this.utils)!=null&&z.hasLoadedNamespace(h))&&(OA[`${P[0]}-${x}`]=!0,this.logger.warn(`key "${a}" for languages "${P.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),P.forEach(L=>{var J;if(this.isValidLookup(i))return;u=L;const te=[g];if((J=this.i18nFormat)!=null&&J.addLookupKeys)this.i18nFormat.addLookupKeys(te,g,L,x,t);else{let O;E&&(O=this.pluralResolver.getSuffix(L,t.count,t));const R=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(te.push(g+O),t.ordinal&&O.indexOf(C)===0&&te.push(g+O.replace(C,this.options.pluralSeparator)),S&&te.push(g+R)),b){const D=`${g}${this.options.contextSeparator}${t.context}`;te.push(D),E&&(te.push(D+O),t.ordinal&&O.indexOf(C)===0&&te.push(D+O.replace(C,this.options.pluralSeparator)),S&&te.push(D+R))}}let Y;for(;Y=te.pop();)this.isValidLookup(i)||(o=Y,i=this.getResource(L,x,Y,t))}))})}),{res:i,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){var o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,i,a):this.resourceStore.getResource(e,t,i,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Re(e.replace);let a=i?e.replace:e;if(i&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!i){a={...a};for(const o of t)delete a[o]}return a}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class NA{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Mi.create("languageUtils")}getScriptPartFromCode(e){if(e=gd(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=gd(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Re(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const a=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Re(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Re(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Re(e)&&o(this.formatLanguageCode(e)),i.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const MA={zero:0,one:1,two:2,few:3,many:4,other:5},VA={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class a5{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Mi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=gd(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:i,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(i,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),VA;if(!e.match(/-|_/))return VA;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[o]=u,u}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(a=>`${t}${a}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((a,o)=>MA[a]-MA[o]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,i);return a?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const kA=function(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=Zz(n,e,t);return!o&&a&&Re(t)&&(o=Gy(n,t,i),o===void 0&&(o=Gy(e,t,i))),o},Gg=n=>n.replace(/\$/g,"$$$$");class o5{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Mi.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:h,suffixEscaped:f,formatSeparator:m,unescapeSuffix:g,unescapePrefix:_,nestingPrefix:E,nestingPrefixEscaped:S,nestingSuffix:b,nestingSuffixEscaped:P,nestingOptionsSeparator:x,maxReplaces:M,alwaysFormat:z}=e.interpolation;this.escape=t!==void 0?t:e5,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?Oo(o):u||"{{",this.suffix=h?Oo(h):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=g?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=E?Oo(E):S||Oo("$t("),this.nestingSuffix=b?Oo(b):P||Oo(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=M||1e3,this.alwaysFormat=z!==void 0?z:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>(t==null?void 0:t.source)===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,a){var S;let o,u,h;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=b=>{if(b.indexOf(this.formatSeparator)<0){const z=kA(t,f,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(z,void 0,i,{...a,...t,interpolationkey:b}):z}const P=b.split(this.formatSeparator),x=P.shift().trim(),M=P.join(this.formatSeparator).trim();return this.format(kA(t,f,x,this.options.keySeparator,this.options.ignoreJSONStructure),M,i,{...a,...t,interpolationkey:x})};this.resetRegExp();const g=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,_=((S=a==null?void 0:a.interpolation)==null?void 0:S.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Gg(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Gg(this.escape(b)):Gg(b)}].forEach(b=>{for(h=0;o=b.regex.exec(e);){const P=o[1].trim();if(u=m(P),u===void 0)if(typeof g=="function"){const M=g(e,o,a);u=Re(M)?M:""}else if(a&&Object.prototype.hasOwnProperty.call(a,P))u="";else if(_){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${P} for interpolating ${e}`),u="";else!Re(u)&&!this.useRawValueToEscape&&(u=RA(u));const x=b.safeValue(u);if(e=e.replace(o[0],x),_?(b.regex.lastIndex+=u.length,b.regex.lastIndex-=o[0].length):b.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,u;const h=(f,m)=>{const g=this.nestingOptionsSeparator;if(f.indexOf(g)<0)return f;const _=f.split(new RegExp(`${g}[ ]*{`));let E=`{${_[1]}`;f=_[0],E=this.interpolate(E,u);const S=E.match(/'/g),b=E.match(/"/g);(((S==null?void 0:S.length)??0)%2===0&&!b||b.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),m&&(u={...m,...u})}catch(P){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,P),`${f}${g}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;a=this.nestingRegexp.exec(e);){let f=[];u={...i},u=u.replace&&!Re(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let m=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const g=a[1].split(this.formatSeparator).map(_=>_.trim());a[1]=g.shift(),f=g,m=!0}if(o=t(h.call(this,a[1].trim(),u),u),o&&a[0]===e&&!Re(o))return o;Re(o)||(o=RA(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),m&&(o=f.reduce((g,_)=>this.format(g,_,i.lng,{...i,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const l5=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const a=i[1].substring(0,i[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(u=>{if(u){const[h,...f]=u.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),g=h.trim();t[g]||(t[g]=m),m==="false"&&(t[g]=!1),m==="true"&&(t[g]=!0),isNaN(m)||(t[g]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}},Po=n=>{const e={};return(t,i,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=i+JSON.stringify(o);let h=e[u];return h||(h=n(gd(i),a),e[u]=h),h(t)}};class u5{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Mi.create("formatter"),this.options=e,this.formats={number:Po((t,i)=>{const a=new Intl.NumberFormat(t,{...i});return o=>a.format(o)}),currency:Po((t,i)=>{const a=new Intl.NumberFormat(t,{...i,style:"currency"});return o=>a.format(o)}),datetime:Po((t,i)=>{const a=new Intl.DateTimeFormat(t,{...i});return o=>a.format(o)}),relativetime:Po((t,i)=>{const a=new Intl.RelativeTimeFormat(t,{...i});return o=>a.format(o,i.range||"day")}),list:Po((t,i)=>{const a=new Intl.ListFormat(t,{...i});return o=>a.format(o)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Po(t)}format(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(h=>h.indexOf(")")>-1)){const h=o.findIndex(f=>f.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,h)].join(this.formatSeparator)}return o.reduce((h,f)=>{var _;const{formatName:m,formatOptions:g}=l5(f);if(this.formats[m]){let E=h;try{const S=((_=a==null?void 0:a.formatParams)==null?void 0:_[a.interpolationkey])||{},b=S.locale||S.lng||a.locale||a.lng||i;E=this.formats[m](h,b,{...g,...a,...S})}catch(S){this.logger.warn(S)}return E}else this.logger.warn(`there was no format function for ${m}`);return h},e)}}const c5=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class h5 extends np{constructor(e,t,i){var o,u;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=a,this.logger=Mi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,i,a.backend,a)}queueLoad(e,t,i,a){const o={},u={},h={},f={};return e.forEach(m=>{let g=!0;t.forEach(_=>{const E=`${m}|${_}`;!i.reload&&this.store.hasResourceBundle(m,_)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,g=!1,u[E]===void 0&&(u[E]=!0),o[E]===void 0&&(o[E]=!0),f[_]===void 0&&(f[_]=!0)))}),g||(h[m]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(f)}}loaded(e,t,i){const a=e.split("|"),o=a[0],u=a[1];t&&this.emit("failedLoading",o,u,t),!t&&i&&this.store.addResourceBundle(o,u,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const h={};this.queue.forEach(f=>{Xz(f.loaded,[o],u),c5(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{h[m]||(h[m]={});const g=f.loaded[m];g.length&&g.forEach(_=>{h[m][_]===void 0&&(h[m][_]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(f=>!f.done)}read(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:a,wait:o,callback:u});return}this.readingCalls++;const h=(m,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(m&&g&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,a+1,o*2,u)},o);return}u(m,g)},f=this.backend[i].bind(this.backend);if(f.length===2){try{const m=f(e,t);m&&typeof m.then=="function"?m.then(g=>h(null,g)).catch(h):h(null,m)}catch(m){h(m)}return}return f(e,t,h)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Re(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Re(t)&&(t=[t]);const o=this.queueLoad(e,t,i,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),a=i[0],o=i[1];this.read(a,o,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${t}loading namespace ${o} for language ${a} failed`,u),!u&&h&&this.logger.log(`${t}loaded namespace ${o} for language ${a}`,h),this.loaded(e,u,h)})}saveMissing(e,t,i,a,o){var f,m,g,_,E;let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((m=(f=this.services)==null?void 0:f.utils)!=null&&m.hasLoadedNamespace&&!((_=(g=this.services)==null?void 0:g.utils)!=null&&_.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((E=this.backend)!=null&&E.create){const S={...u,isUpdate:o},b=this.backend.create.bind(this.backend);if(b.length<6)try{let P;b.length===5?P=b(e,t,i,a,S):P=b(e,t,i,a),P&&typeof P.then=="function"?P.then(x=>h(null,x)).catch(h):h(null,P)}catch(P){h(P)}else b(e,t,i,a,h,S)}!e||!e[0]||this.store.addResource(e[0],t,i,a)}}}const LA=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Re(n[1])&&(e.defaultValue=n[1]),Re(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),UA=n=>{var e,t;return Re(n.ns)&&(n.ns=[n.ns]),Re(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Re(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},_f=()=>{},f5=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class _c extends np{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=UA(e),this.services={},this.logger=Mi,this.modules={external:[]},f5(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),t.defaultNS==null&&t.ns&&(Re(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=LA();this.options={...a,...this.options,...UA(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Mi.init(o(this.modules.logger),this.options):Mi.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=u5;const _=new NA(this.options);this.store=new DA(this.options.resources,this.options);const E=this.services;E.logger=Mi,E.resourceStore=this.store,E.languageUtils=_,E.pluralResolver=new a5(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(E.formatter=o(g),E.formatter.init(E,this.options),this.options.interpolation.format=E.formatter.format.bind(E.formatter)),E.interpolator=new o5(this.options),E.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},E.backendConnector=new h5(o(this.modules.backend),E.resourceStore,E,this.options),E.backendConnector.on("*",function(S){for(var b=arguments.length,P=new Array(b>1?b-1:0),x=1;x<b;x++)P[x-1]=arguments[x];e.emit(S,...P)}),this.modules.languageDetector&&(E.languageDetector=o(this.modules.languageDetector),E.languageDetector.init&&E.languageDetector.init(E,this.options.detection,this.options)),this.modules.i18nFormat&&(E.i18nFormat=o(this.modules.i18nFormat),E.i18nFormat.init&&E.i18nFormat.init(this)),this.translator=new vd(this.services,this.options),this.translator.on("*",function(S){for(var b=arguments.length,P=new Array(b>1?b-1:0),x=1;x<b;x++)P[x-1]=arguments[x];e.emit(S,...P)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,i||(i=_f),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=function(){return e.store[g](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=function(){return e.store[g](...arguments),e}});const f=Ou(),m=()=>{const g=(_,E)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(E),i(_,E)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),f}loadResources(e){var o,u;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_f;const a=Re(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const h=[],f=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(_=>{_!=="cimode"&&h.indexOf(_)<0&&h.push(_)})};a?f(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(g=>f(g)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,m=>f(m)),this.services.backendConnector.load(h,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(m)})}else i(null)}reloadResources(e,t,i){const a=Ou();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=_f),this.services.backendConnector.reload(e,t,o=>{a.resolve(),i(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&tD.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const a=Ou();this.emit("languageChanging",e);const o=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},u=(f,m)=>{m?(o(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,a.resolve(function(){return i.t(...arguments)}),t&&t(f,function(){return i.t(...arguments)})},h=f=>{var g,_;!e&&!f&&this.services.languageDetector&&(f=[]);const m=Re(f)?f:this.services.languageUtils.getBestMatchFromCodes(f);m&&(this.language||o(m),this.translator.language||this.translator.changeLanguage(m),(_=(g=this.services.languageDetector)==null?void 0:g.cacheUserLanguage)==null||_.call(g,m)),this.loadResources(m,E=>{u(E,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(e),a}getFixedT(e,t,i){var a=this;const o=function(u,h){let f;if(typeof h!="object"){for(var m=arguments.length,g=new Array(m>2?m-2:0),_=2;_<m;_++)g[_-2]=arguments[_];f=a.options.overloadTranslationOptionHandler([u,h].concat(g))}else f={...h};f.lng=f.lng||o.lng,f.lngs=f.lngs||o.lngs,f.ns=f.ns||o.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||i||o.keyPrefix);const E=a.options.keySeparator||".";let S;return f.keyPrefix&&Array.isArray(u)?S=u.map(b=>`${f.keyPrefix}${E}${b}`):S=f.keyPrefix?`${f.keyPrefix}${E}${u}`:u,a.t(S,f)};return Re(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=i,o}t(){var a;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(a=this.translator)==null?void 0:a.translate(...t)}exists(){var a;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(a=this.translator)==null?void 0:a.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const u=(h,f)=>{const m=this.services.backendConnector.state[`${h}|${f}`];return m===-1||m===0||m===2};if(t.precheck){const h=t.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(i,e)&&(!a||u(o,e)))}loadNamespaces(e,t){const i=Ou();return this.options.ns?(Re(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Ou();Re(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{i.resolve(),t&&t(u)}),i):(t&&t(),Promise.resolve())}dir(e){var a,o;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((o=this.services)==null?void 0:o.languageUtils)||new NA(LA());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new _c(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_f;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new _c(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(h=>{o[h]=this[h]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i){const h=Object.keys(this.store.data).reduce((f,m)=>(f[m]={...this.store.data[m]},Object.keys(f[m]).reduce((g,_)=>(g[_]={...f[m][_]},g),{})),{});o.store=new DA(h,a),o.services.resourceStore=o.store}return o.translator=new vd(o.services,a),o.translator.on("*",function(h){for(var f=arguments.length,m=new Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];o.emit(h,...m)}),o.init(a,t),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const on=_c.createInstance();on.createInstance=_c.createInstance;on.createInstance;on.dir;on.init;on.loadResources;on.reloadResources;on.use;on.changeLanguage;on.getFixedT;on.t;on.exists;on.setDefaultNamespace;on.hasLoadedNamespace;on.loadNamespaces;on.loadLanguages;const{slice:d5,forEach:p5}=[];function m5(n){return p5.call(d5.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}const BA=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,g5=function(n,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let o=`${n}=${a}`;if(i.maxAge>0){const u=i.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(i.domain){if(!BA.test(i.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${i.domain}`}if(i.path){if(!BA.test(i.path))throw new TypeError("option path is invalid");o+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},jA={create(n,e,t,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),i&&(a.domain=i),document.cookie=g5(n,encodeURIComponent(e),a)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let i=0;i<t.length;i++){let a=t[i];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(n){this.create(n,"",-1)}};var y5={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return jA.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:i,cookieDomain:a,cookieOptions:o}=e;t&&typeof document<"u"&&jA.create(t,n,i,a,o)}},v5={name:"querystring",lookup(n){var i;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((i=window.location.hash)==null?void 0:i.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const u=a.substring(1).split("&");for(let h=0;h<u.length;h++){const f=u[h].indexOf("=");f>0&&u[h].substring(0,f)===e&&(t=u[h].substring(f+1))}}return t}};let No=null;const FA=()=>{if(No!==null)return No;try{if(No=typeof window<"u"&&window.localStorage!==null,!No)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{No=!1}return No};var _5={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&FA())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&FA()&&window.localStorage.setItem(t,n)}};let Mo=null;const zA=()=>{if(Mo!==null)return Mo;try{if(Mo=typeof window<"u"&&window.sessionStorage!==null,!Mo)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Mo=!1}return Mo};var E5={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&zA())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&zA()&&window.sessionStorage.setItem(t,n)}},T5={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:i,language:a}=navigator;if(t)for(let o=0;o<t.length;o++)e.push(t[o]);i&&e.push(i),a&&e.push(a)}return e.length>0?e:void 0}},w5={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},S5={name:"path",lookup(n){var a;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(a=t[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},b5={name:"subdomain",lookup(n){var a,o;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,i=typeof window<"u"&&((o=(a=window.location)==null?void 0:a.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[t]}};let nD=!1;try{document.cookie,nD=!0}catch{}const iD=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];nD||iD.splice(1,1);const A5=()=>({order:iD,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class rD{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=m5(t,this.options||{},A5()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(y5),this.addDetector(v5),this.addDetector(_5),this.addDetector(E5),this.addDetector(T5),this.addDetector(w5),this.addDetector(S5),this.addDetector(b5)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(i=>{if(this.detectors[i]){let a=this.detectors[i].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}rD.type="languageDetector";const R5="Swipe <1>Right</1><2></2>",C5="Create account",I5="Log in",x5="Language",D5="Products",O5="Learn",P5="Safety",N5="Support",M5="Download",V5="Gift cards",k5={headline:R5,create_account:C5,login:I5,language:x5,products:D5,learn:O5,safety:P5,support:N5,download:M5,gift_cards:V5},L5="Desliza a la <1>Derecha</1><2></2>",U5="Crear cuenta",B5="Iniciar sesin",j5="Idioma",F5="Productos",z5="Aprender",H5="Seguridad",q5="Soporte",$5="Descargar",G5="Tarjetas de regalo",K5={headline:L5,create_account:U5,login:B5,language:j5,products:F5,learn:z5,safety:H5,support:q5,download:$5,gift_cards:G5};on.use(rD).use(IN).init({fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:k5},es:{translation:K5}}});LO.createRoot(document.getElementById("root")).render($.createElement($.StrictMode,null,$.createElement(Yz,null)));
